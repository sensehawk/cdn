/**
 * @license
 *
 * PRODUCT v.VERSION Professional
 *
 * This software is covered by DHTMLX Enterprise License.
 * Usage without proper license is prohibited.
 *
 * (c) XB Software.
 */
var kanban=function(e){"use strict";function t(){}const n=e=>e;function o(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(r)}function i(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a;function d(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function u(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function p(e,t,n){e.$$.on_destroy.push(u(t,n))}function f(e,t,n,o){if(e){const r=m(e,t,n,o);return e[0](r)}}function m(e,t,n,r){return e[1]&&r?o(n.ctx.slice(),e[1](r(t))):n.ctx}function $(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}function h(e,t,n,o,r,l){if(r){const s=m(t,n,o,l);e.p(s,r)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function v(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function w(e,t){const n={};t=new Set(t);for(const o in e)t.has(o)||"$"===o[0]||(n[o]=e[o]);return n}function y(e){const t={};for(const n in e)t[n]=!0;return t}function b(e){return null==e?"":e}function x(e,t,n){return e.set(n),t}function k(e){return e&&i(e.destroy)?e.destroy:t}const S="undefined"!=typeof window;let I=S?()=>window.performance.now():()=>Date.now(),_=S?e=>requestAnimationFrame(e):t;const M=new Set;function C(e){M.forEach((t=>{t.c(e)||(M.delete(t),t.f())})),0!==M.size&&_(C)}function T(e,t){e.appendChild(t)}function D(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function E(e){const t=H("style");return function(e,t){T(e.head||e,t),t.sheet}(D(e),t),t.sheet}function N(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function H(e){return document.createElement(e)}function L(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){return document.createTextNode(e)}function z(){return R(" ")}function F(){return R("")}function j(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function q(e){return function(t){return t.preventDefault(),e.call(this,t)}}function P(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function K(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function U(e){return""===e?null:+e}function V(e,t){t=""+t,e.data!==t&&(e.data=t)}function Y(e,t){e.value=null==t?"":t}function G(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function J(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}let B;function W(){if(void 0===B){B=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){B=!0}}return B}function X(e,t,n){e.classList[n?"add":"remove"](t)}function Q(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}class Z{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=L(t.nodeName):this.e=H(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)N(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(O)}}function ee(e,t){return new e(t)}const te=new Map;let ne,oe=0;function re(e,t,n,o,r,l,s,i=0){const c=16.666/o;let a="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*l(e);a+=100*e+`%{${s(o,1-o)}}\n`}const d=a+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${i}`,p=D(e),{stylesheet:f,rules:m}=te.get(p)||function(e,t){const n={stylesheet:E(t),rules:{}};return te.set(e,n),n}(p,e);m[u]||(m[u]=!0,f.insertRule(`@keyframes ${u} ${d}`,f.cssRules.length));const $=e.style.animation||"";return e.style.animation=`${$?`${$}, `:""}${u} ${o}ms linear ${r}ms 1 both`,oe+=1,u}function le(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),oe-=r,oe||_((()=>{oe||(te.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)})),te.clear())})))}function se(e){ne=e}function ie(){if(!ne)throw new Error("Function called outside component initialization");return ne}function ce(e){ie().$$.on_mount.push(e)}function ae(e){ie().$$.after_update.push(e)}function de(e){ie().$$.on_destroy.push(e)}function ue(){const e=ie();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const l=Q(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}function pe(e,t){return ie().$$.context.set(e,t),t}function fe(e){return ie().$$.context.get(e)}function me(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const $e=[],he=[];let ge=[];const ve=[],we=Promise.resolve();let ye=!1;function be(){ye||(ye=!0,we.then(Ce))}function xe(){return be(),we}function ke(e){ge.push(e)}function Se(e){ve.push(e)}const Ie=new Set;let _e,Me=0;function Ce(){if(0!==Me)return;const e=ne;do{try{for(;Me<$e.length;){const e=$e[Me];Me++,se(e),Te(e.$$)}}catch(e){throw $e.length=0,Me=0,e}for(se(null),$e.length=0,Me=0;he.length;)he.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];Ie.has(t)||(Ie.add(t),t())}ge.length=0}while($e.length);for(;ve.length;)ve.pop()();ye=!1,Ie.clear(),se(e)}function Te(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ke)}}function De(e,t,n){e.dispatchEvent(Q(`${t?"intro":"outro"}${n}`))}const Ee=new Set;let Ne;function Oe(){Ne={r:0,c:[],p:Ne}}function Ae(){Ne.r||s(Ne.c),Ne=Ne.p}function He(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function Le(e,t,n,o){if(e&&e.o){if(Ee.has(e))return;Ee.add(e),Ne.c.push((()=>{Ee.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Re={duration:0};function ze(e,o,r,l){const c={direction:"both"};let a=o(e,r,c),d=l?0:1,u=null,p=null,f=null;function m(){f&&le(e,f)}function $(e,t){const n=e.b-d;return t*=Math.abs(n),{a:d,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(o){const{delay:r=0,duration:l=300,easing:i=n,tick:c=t,css:h}=a||Re,g={start:I()+r,b:o};o||(g.group=Ne,Ne.r+=1),u||p?p=g:(h&&(m(),f=re(e,d,o,l,r,i,h)),o&&c(0,1),u=$(g,l),ke((()=>De(e,o,"start"))),function(e){let t;0===M.size&&_(C),new Promise((n=>{M.add(t={c:e,f:n})}))}((t=>{if(p&&t>p.start&&(u=$(p,l),p=null,De(e,u.b,"start"),h&&(m(),f=re(e,d,u.b,u.duration,0,i,a.css))),u)if(t>=u.end)c(d=u.b,1-d),De(e,u.b,"end"),p||(u.b?m():--u.group.r||s(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;d=u.a+u.d*i(e/u.duration),c(d,1-d)}return!(!u&&!p)})))}return{run(e){i(a)?(_e||(_e=Promise.resolve(),_e.then((()=>{_e=null}))),_e).then((()=>{a=a(c),h(e)})):h(e)},end(){m(),u=p=null}}}const Fe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function je(e,t){e.d(1),t.delete(e.key)}function qe(e,t){Le(e,1,1,(()=>{t.delete(e.key)}))}function Pe(e,t,n,o,r,l,i,c,a,d,u,p){let f=e.length,m=l.length,$=f;const h={};for(;$--;)h[e[$].key]=$;const g=[],v=new Map,w=new Map,y=[];for($=m;$--;){const e=p(r,l,$),s=n(e);let c=i.get(s);c?o&&y.push((()=>c.p(e,t))):(c=d(s,e),c.c()),v.set(s,g[$]=c),s in h&&w.set(s,Math.abs($-h[s]))}const b=new Set,x=new Set;function k(e){He(e,1),e.m(c,u),i.set(e.key,e),u=e.first,m--}for(;f&&m;){const t=g[m-1],n=e[f-1],o=t.key,r=n.key;t===n?(u=t.first,f--,m--):v.has(r)?!i.has(o)||b.has(o)?k(t):x.has(r)?f--:w.get(o)>w.get(r)?(x.add(o),k(t)):(b.add(r),f--):(a(n,i),f--)}for(;f--;){const t=e[f];v.has(t.key)||a(t,i)}for(;m;)k(g[m-1]);return s(y),g}function Ke(e,t){const n={},o={},r={$$scope:1};let l=e.length;for(;l--;){const s=e[l],i=t[l];if(i){for(const e in s)e in i||(o[e]=1);for(const e in i)r[e]||(n[e]=i[e],r[e]=1);e[l]=i}else for(const e in s)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function Ue(e){return"object"==typeof e&&null!==e?e:{}}function Ve(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Ye(e){e&&e.c()}function Ge(e,t,n,o){const{fragment:l,after_update:c}=e.$$;l&&l.m(t,n),o||ke((()=>{const t=e.$$.on_mount.map(r).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):s(t),e.$$.on_mount=[]})),c.forEach(ke)}function Je(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ge.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),ge=t}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Be(e,n,o,r,i,c,a,d=[-1]){const u=ne;se(e);const p=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:l(),dirty:d,skip_bound:!1,root:n.target||u.$$.root};a&&a(p.root);let f=!1;if(p.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),f&&function(e,t){-1===e.$$.dirty[0]&&($e.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),f=!0,s(p.before_update),p.fragment=!!r&&r(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(O)}else p.fragment&&p.fragment.c();n.intro&&He(e.$$.fragment),Ge(e,n.target,n.anchor,n.customElement),Ce()}se(u)}class We{$destroy(){Je(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Xe={kanban:{Save:"Save",Close:"Close",Delete:"Delete",Name:"Name",Description:"Description",Type:"Type","Start date":"Start date","End date":"End date",Result:"Result","No results":"No results",Search:"Search","Search in":"Search in","Add new row":"Add new row","Add new column":"Add new column","Add new card":"Add new card","Edit card":"Edit card",Edit:"Edit",Everywhere:"Everywhere",Label:"Label",Status:"Status",Color:"Color",Date:"Date",Priority:"Priority",Progress:"Progress",Users:"Users",Untitled:"Untitled",Rename:"Rename","Move up":"Move up","Move down":"Move down","Move left":"Move left","Move right":"Move right",Sort:"Sort","Label (a-z)":"Label (a-z)","Label (z-a)":"Label (z-a)","Description (a-z)":"Description (a-z)","Description (z-a)":"Description (z-a)",Duplicate:"Duplicate","Duplicate of":"Duplicate of","Relates to":"Relates to","Depends on":"Depends on","Is required for":"Is required for",Duplicates:"Duplicates","Is duplicated by":"Is duplicated by","Parent for":"Parent for","SubTask of":"SubTask of",Cancel:"Cancel","Link task":"Link task","Select a relation":"Select a relation","Select a task":"Select a task","Would you like to delete this comment?":"Would you like to delete this comment?","Would you like to delete this card?":"Would you like to delete this card?"}};const Qe={core:{ok:"OK",cancel:"Cancel"},calendar:{monthFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hours:"Hours",minutes:"Minutes",done:"Done",clear:"Clear",today:"Today",am:["am","AM"],pm:["pm","PM"],weekStart:7,timeFormat:24}};let Ze=(new Date).valueOf();const et=()=>Ze++;function tt(){return"temp://"+Ze++}function nt(e){return"string"==typeof e&&20===e.length&&parseInt(e.substr(7))>1e12}class ot{_setter;_routes;_triggers;_sources;_prev;_parsers;constructor(e,t,n){this._setter=e,this._routes=t,this._parsers=n,this._prev={},this._triggers=new Map,this._sources=new Map,this._routes.forEach((e=>{e.in.forEach((t=>{const n=this._triggers.get(t)||[];n.push(e),this._triggers.set(t,n)})),e.out.forEach((t=>{const n=this._sources.get(t)||{};e.in.forEach((e=>n[e]=!0)),this._sources.set(t,n)}))})),this._routes.forEach((e=>{e.length=Math.max(...e.in.map((e=>rt(e,this._sources,1))))}))}init(e){const t={};for(const n in e)if(this._prev[n]!==e[n]){const o=this._parsers[n];t[n]=o?o(e[n]):e[n]}this._prev=this._prev?{...this._prev,...e}:{...e},this.setState(t)}setState(e,t){this._setter(e);const n=!t;t=t||[];for(const n in e){const e=this._triggers.get(n);e&&e.forEach((e=>{-1==t.indexOf(e)&&t.push(e)}))}n&&this._execNext(t)}_execNext(e){for(;e.length;){e.sort(((e,t)=>e.length<t.length?1:-1));const t=e[e.length-1];e.splice(e.length-1),t.exec(e)}}}function rt(e,t,n){const o=t.get(e);if(!o)return n;const r=Object.keys(o).map((e=>rt(e,t,n+1)));return Math.max(...r)}class lt{_state;_values;_writable;constructor(e){this._writable=e,this._values={},this._state={}}setState(e){const t=this._state;for(const n in e)t[n]?t[n].set(e[n]):this._state[n]=this._wrapWritable(n,e[n]),this._values[n]=e[n]}getState(){return this._values}getReactive(){return this._state}_wrapWritable(e,t){const n=this._writable(t);return n.subscribe((t=>{this._values[e]=t})),n}}class st{_handlers;_nextHandler;constructor(){this._nextHandler=()=>null,this._handlers={},this.exec=this.exec.bind(this)}on(e,t){const n=this._handlers[e];this._handlers[e]=n?function(e){it(n,e)(t(e))}:n=>{it(this._nextHandler,n,e)(t(n))}}exec(e,t){const n=this._handlers[e];n?n(t):this._nextHandler(e,t)}setNext(e){this._nextHandler=e}}function it(e,t,n){return o=>{!1!==o&&(o&&o.then?o.then(it(e,t,n)):n?e(n,t):e(t))}}class ct{_dispatch;_nextHandler;constructor(e){this._nextHandler=()=>null,this._dispatch=e,this.exec=this.exec.bind(this)}exec(e,t){this._dispatch(e,t),this._nextHandler&&this._nextHandler(e,t)}setNext(e){this._nextHandler=e}}function at(e,t="data-id"){let n=e;for(!n.tagName&&e.target&&(n=e.target);n;){if(n.getAttribute){if(n.getAttribute(t))return n}n=n.parentNode}return null}function dt(e,t="data-id"){const n=at(e,t);return n?function(e){if("string"==typeof e){const t=1*e;if(!isNaN(t))return t}return e}(n.getAttribute(t)):null}function ut(e,t){let n=null;e.addEventListener("click",(function(e){const o=at(e);if(!o)return;const r=parseInt(o.dataset.id);let l,s=e.target;for(;s!=o;){if(l=s.dataset?s.dataset.action:null,l){t[l]&&t[l](r,e),n=(new Date).valueOf();break}s=s.parentNode}t.click&&!l&&t.click(r,e)})),e.addEventListener("dblclick",(function(e){if(n&&(new Date).valueOf()-n<200)return;const o=dt(e);o&&t.dblclick&&t.dblclick(o,e)}))}let pt=(new Date).valueOf();function ft(){return pt+=1,pt}function mt(e){return e<10?"0"+e:e.toString()}const $t=["",""];function ht(e,t,n){switch(e){case"%d":return mt(t.getDate());case"%m":return mt(t.getMonth()+1);case"%j":return t.getDate();case"%n":return t.getMonth()+1;case"%y":return mt(t.getFullYear()%100);case"%Y":return t.getFullYear();case"%D":return n.dayShort[t.getDay()];case"%l":return n.dayFull[t.getDay()];case"%M":return n.monthShort[t.getMonth()];case"%F":return n.monthFull[t.getMonth()];case"%h":return mt((t.getHours()+11)%12+1);case"%g":return(t.getHours()+11)%12+1;case"%G":return t.getHours();case"%H":return mt(t.getHours());case"%i":return mt(t.getMinutes());case"%a":return((t.getHours()>11?n.pm:n.am)||$t)[0];case"%A":return((t.getHours()>11?n.pm:n.am)||$t)[1];case"%s":return mt(t.getSeconds());case"%S":return function(e){const t=mt(e);return 2==t.length?"0"+t:t}(t.getMilliseconds());case"%W":return mt(function(e){let t=e.getDay();0===t&&(t=7);const n=new Date(e.valueOf());n.setDate(e.getDate()+(4-t));const o=n.getFullYear(),r=Math.floor((n.getTime()-new Date(o,0,1).getTime())/864e5);return 1+Math.floor(r/7)}(t));case"%c":{let e=t.getFullYear()+"";return e+="-"+mt(t.getMonth()+1),e+="-"+mt(t.getDate()),e+="T",e+=mt(t.getHours()),e+=":"+mt(t.getMinutes()),e+=":"+mt(t.getSeconds()),e}default:return e}}const gt=/%[a-zA-Z]/g;function vt(e){return e&&"object"==typeof e&&!Array.isArray(e)}function wt(e,t){for(const n in t){const o=t[n];vt(e[n])&&vt(o)?e[n]=wt({...e[n]},t[n]):e[n]=t[n]}return e}function yt(e){return{getGroup(t){const n=e[t];return e=>n&&n[e]||e},getRaw:()=>e,extend(t,n){if(!t)return this;let o;return o=n?wt({...t},e):wt({...e},t),yt(o)}}}function bt(e){let n,o,r;return{c(){n=H("textarea"),K(n,"id",e[1]),n.disabled=e[3],K(n,"placeholder",e[2]),K(n,"class","svelte-po3n73"),X(n,"error",e[4])},m(t,l){N(t,n,l),Y(n,e[0]),o||(r=j(n,"input",e[5]),o=!0)},p(e,[t]){2&t&&K(n,"id",e[1]),8&t&&(n.disabled=e[3]),4&t&&K(n,"placeholder",e[2]),1&t&&Y(n,e[0]),16&t&&X(n,"error",e[4])},i:t,o:t,d(e){e&&O(n),o=!1,r()}}}function xt(e,t,n){let{value:o=""}=t,{id:r=ft()}=t,{placeholder:l=""}=t,{disabled:s=!1}=t,{error:i=!1}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value),"id"in e&&n(1,r=e.id),"placeholder"in e&&n(2,l=e.placeholder),"disabled"in e&&n(3,s=e.disabled),"error"in e&&n(4,i=e.error)},[o,r,l,s,i,function(){o=this.value,n(0,o)}]}class kt extends We{constructor(e){super(),Be(this,e,xt,bt,c,{value:0,id:1,placeholder:2,disabled:3,error:4})}}function St(e){let t,n;return{c(){t=H("i"),K(t,"class",n=b(e[2])+" svelte-3m78jz")},m(e,n){N(e,t,n)},p(e,o){4&o&&n!==(n=b(e[2])+" svelte-3m78jz")&&K(t,"class",n)},d(e){e&&O(t)}}}function It(e){let t,n,o,r,l,s,c=e[2]&&St(e);const a=e[6].default,d=f(a,e,e[5],null);return{c(){t=H("button"),c&&c.c(),n=z(),d&&d.c(),K(t,"class",o=b(e[0])+" svelte-3m78jz"),t.disabled=e[3],X(t,"icon",!e[4]||!e[4].default)},m(o,a){N(o,t,a),c&&c.m(t,null),T(t,n),d&&d.m(t,null),r=!0,l||(s=j(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),l=!0)},p(l,[s]){(e=l)[2]?c?c.p(e,s):(c=St(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),d&&d.p&&(!r||32&s)&&h(d,a,e,e[5],r?$(a,e[5],s,null):g(e[5]),null),(!r||1&s&&o!==(o=b(e[0])+" svelte-3m78jz"))&&K(t,"class",o),(!r||8&s)&&(t.disabled=e[3]),(!r||17&s)&&X(t,"icon",!e[4]||!e[4].default)},i(e){r||(He(d,e),r=!0)},o(e){Le(d,e),r=!1},d(e){e&&O(t),c&&c.d(),d&&d.d(e),l=!1,s()}}}function _t(e,t,n){let{$$slots:r={},$$scope:l}=t,{type:s=""}=t,{click:i}=t,{icon:c=""}=t,{disabled:a=!1}=t;const d=t.$$slots;return e.$$set=e=>{n(7,t=o(o({},t),v(e))),"type"in e&&n(0,s=e.type),"click"in e&&n(1,i=e.click),"icon"in e&&n(2,c=e.icon),"disabled"in e&&n(3,a=e.disabled),"$$scope"in e&&n(5,l=e.$$scope)},t=v(t),[s,i,c,a,d,l,r]}let Mt=class extends We{constructor(e){super(),Be(this,e,_t,It,c,{type:0,click:1,icon:2,disabled:3})}};function Ct(e){let t,n;return{c(){t=H("span"),n=R(e[2]),K(t,"class","svelte-1v5nu6d")},m(e,o){N(e,t,o),T(t,n)},p(e,t){4&t&&V(n,e[2])},d(e){e&&O(t)}}}function Tt(e){let n,o,r,l,s,i,c,a,d=e[2]&&Ct(e);return{c(){n=H("div"),o=H("input"),r=z(),l=H("label"),s=H("span"),i=z(),d&&d.c(),K(o,"type","checkbox"),K(o,"id",e[1]),o.disabled=e[5],o.value=e[3],o.checked=e[0],K(o,"class","svelte-1v5nu6d"),K(s,"class","svelte-1v5nu6d"),K(l,"for",e[1]),K(l,"class","svelte-1v5nu6d"),K(n,"style",e[4]),K(n,"class","svelte-1v5nu6d")},m(t,u){N(t,n,u),T(n,o),T(n,r),T(n,l),T(l,s),T(l,i),d&&d.m(l,null),c||(a=j(o,"change",e[6]),c=!0)},p(e,[t]){2&t&&K(o,"id",e[1]),32&t&&(o.disabled=e[5]),8&t&&(o.value=e[3]),1&t&&(o.checked=e[0]),e[2]?d?d.p(e,t):(d=Ct(e),d.c(),d.m(l,null)):d&&(d.d(1),d=null),2&t&&K(l,"for",e[1]),16&t&&K(n,"style",e[4])},i:t,o:t,d(e){e&&O(n),d&&d.d(),c=!1,a()}}}function Dt(e,t,n){const o=ue();let{id:r=ft()}=t,{label:l=""}=t,{value:s=""}=t,{checked:i=!1}=t,{style:c=""}=t,{disabled:a=!1}=t;return e.$$set=e=>{"id"in e&&n(1,r=e.id),"label"in e&&n(2,l=e.label),"value"in e&&n(3,s=e.value),"checked"in e&&n(0,i=e.checked),"style"in e&&n(4,c=e.style),"disabled"in e&&n(5,a=e.disabled)},[i,r,l,s,c,a,function({target:e}){n(0,i=e.checked),o("change",{value:s,checked:i})}]}class Et extends We{constructor(e){super(),Be(this,e,Dt,Tt,c,{id:1,label:2,value:3,checked:0,style:4,disabled:5})}}const{document:Nt}=Fe;function Ot(e){let t,n,o,r,l,s;const i=e[8].default,c=f(i,e,e[7],null);return{c(){t=z(),n=H("div"),c&&c.c(),K(n,"class",o=`dropdown ${e[0]}-${e[1]} svelte-1iqv09v`),G(n,"width",e[2])},m(o,i){N(o,t,i),N(o,n,i),c&&c.m(n,null),e[9](n),r=!0,l||(s=j(Nt.body,"mousedown",e[4]),l=!0)},p(e,[t]){c&&c.p&&(!r||128&t)&&h(c,i,e,e[7],r?$(i,e[7],t,null):g(e[7]),null),(!r||3&t&&o!==(o=`dropdown ${e[0]}-${e[1]} svelte-1iqv09v`))&&K(n,"class",o),(!r||4&t)&&G(n,"width",e[2])},i(e){r||(He(c,e),r=!0)},o(e){Le(c,e),r=!1},d(o){o&&O(t),o&&O(n),c&&c.d(o),e[9](null),l=!1,s()}}}function At(e,t,n){let o,{$$slots:r={},$$scope:l}=t,{position:s="bottom"}=t,{align:i="start"}=t,{autoFit:c=!0}=t,{cancel:a=null}=t,{width:d="100%"}=t;return ae((()=>{if(c){const e=o.getBoundingClientRect(),t=document.body.getBoundingClientRect();return e.right>=t.right&&n(1,i="end"),e.bottom>=t.bottom&&n(0,s="top"),`${s}-${i}`}})),e.$$set=e=>{"position"in e&&n(0,s=e.position),"align"in e&&n(1,i=e.align),"autoFit"in e&&n(5,c=e.autoFit),"cancel"in e&&n(6,a=e.cancel),"width"in e&&n(2,d=e.width),"$$scope"in e&&n(7,l=e.$$scope)},[s,i,d,o,function(e){o.contains(e.target)||a&&a(e)},c,a,l,r,function(e){he[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class Ht extends We{constructor(e){super(),Be(this,e,At,Ot,c,{position:0,align:1,autoFit:5,cancel:6,width:2})}}function Lt(e,t,n){const o=e.slice();return o[14]=t[n],o}function Rt(e){let n,o,r;return{c(){n=H("i"),K(n,"class","clear wxi-close svelte-kstavy")},m(t,l){N(t,n,l),o||(r=j(n,"click",P(e[9])),o=!0)},p:t,d(e){e&&O(n),o=!1,r()}}}function zt(e){let n;return{c(){n=H("div"),K(n,"class","empty selected svelte-kstavy")},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Ft(e){let t;return{c(){t=H("div"),K(t,"class","color selected svelte-kstavy"),G(t,"background-color",e[0]||"#00a037")},m(e,n){N(e,t,n)},p(e,n){1&n&&G(t,"background-color",e[0]||"#00a037")},d(e){e&&O(t)}}}function jt(e){let t,n;return t=new Ht({props:{cancel:e[13],$$slots:{default:[Pt]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};128&n&&(o.cancel=e[13]),131074&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function qt(e){let t,n,o;function r(){return e[12](e[14])}return{c(){t=H("div"),K(t,"class","color svelte-kstavy"),G(t,"background-color",e[14])},m(e,l){N(e,t,l),n||(o=j(t,"click",P(r)),n=!0)},p(n,o){e=n,2&o&&G(t,"background-color",e[14])},d(e){e&&O(t),n=!1,o()}}}function Pt(e){let t,n,o,r,l,s=e[1],i=[];for(let t=0;t<s.length;t+=1)i[t]=qt(Lt(e,s,t));return{c(){t=H("div"),n=H("div"),o=z();for(let e=0;e<i.length;e+=1)i[e].c();K(n,"class","empty svelte-kstavy"),K(t,"class","colors svelte-kstavy")},m(s,c){N(s,t,c),T(t,n),T(t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);r||(l=j(n,"click",P(e[11])),r=!0)},p(e,n){if(258&n){let o;for(s=e[1],o=0;o<s.length;o+=1){const r=Lt(e,s,o);i[o]?i[o].p(r,n):(i[o]=qt(r),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(e){e&&O(t),A(i,e),r=!1,l()}}}function Kt(e){let t,n,o,r,l,s,i,c,a=e[3]&&e[0]&&!e[5]&&Rt(e);function d(e,t){return e[0]?Ft:zt}let u=d(e),p=u(e),f=e[7]&&jt(e);return{c(){t=H("div"),n=H("input"),o=z(),a&&a.c(),r=z(),p.c(),l=z(),f&&f.c(),n.value=e[0],n.readOnly=!0,K(n,"id",e[2]),K(n,"placeholder",e[4]),n.disabled=e[5],K(n,"class","svelte-kstavy"),X(n,"error",e[6]),X(n,"focus",e[7]),K(t,"class","color-picker svelte-kstavy")},m(d,u){N(d,t,u),T(t,n),T(t,o),a&&a.m(t,null),T(t,r),p.m(t,null),T(t,l),f&&f.m(t,null),s=!0,i||(c=j(t,"click",e[10]),i=!0)},p(e,[o]){(!s||1&o&&n.value!==e[0])&&(n.value=e[0]),(!s||4&o)&&K(n,"id",e[2]),(!s||16&o)&&K(n,"placeholder",e[4]),(!s||32&o)&&(n.disabled=e[5]),(!s||64&o)&&X(n,"error",e[6]),(!s||128&o)&&X(n,"focus",e[7]),e[3]&&e[0]&&!e[5]?a?a.p(e,o):(a=Rt(e),a.c(),a.m(t,r)):a&&(a.d(1),a=null),u===(u=d(e))&&p?p.p(e,o):(p.d(1),p=u(e),p&&(p.c(),p.m(t,l))),e[7]?f?(f.p(e,o),128&o&&He(f,1)):(f=jt(e),f.c(),He(f,1),f.m(t,null)):f&&(Oe(),Le(f,1,1,(()=>{f=null})),Ae())},i(e){s||(He(f),s=!0)},o(e){Le(f),s=!1},d(e){e&&O(t),a&&a.d(),p.d(),f&&f.d(),i=!1,c()}}}function Ut(e,t,n){let o,{colors:r=["#00a037","#df282f","#fd772c","#6d4bce","#b26bd3","#c87095","#90564d","#eb2f89","#ea77c0","#777676","#a9a8a8","#9bb402","#e7a90b","#0bbed7","#038cd9"]}=t,{value:l=""}=t,{id:s=ft()}=t,{clear:i=!0}=t,{placeholder:c=""}=t,{disabled:a=!1}=t,{error:d=!1}=t;function u(e){n(0,l=e),n(7,o=null)}return e.$$set=e=>{"colors"in e&&n(1,r=e.colors),"value"in e&&n(0,l=e.value),"id"in e&&n(2,s=e.id),"clear"in e&&n(3,i=e.clear),"placeholder"in e&&n(4,c=e.placeholder),"disabled"in e&&n(5,a=e.disabled),"error"in e&&n(6,d=e.error)},[l,r,s,i,c,a,d,o,u,function(){n(0,l=null)},function(){if(a)return!1;n(7,o=!0)},()=>u(""),e=>u(e),()=>n(7,o=null)]}class Vt extends We{constructor(e){super(),Be(this,e,Ut,Kt,c,{colors:1,value:0,id:2,clear:3,placeholder:4,disabled:5,error:6})}}function Yt(e,t,n){const o=e.slice();return o[13]=t[n],o[15]=n,o}const Gt=e=>({option:1&e}),Jt=e=>({option:e[13]});function Bt(e){let t,n;return t=new Ht({props:{cancel:e[8],$$slots:{default:[Zt]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};519&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Wt(e){let n;return{c(){n=H("div"),n.textContent="No data",K(n,"class","no-data svelte-1kld9sh")},m(e,t){N(e,n,t)},p:t,i:t,o:t,d(e){e&&O(n)}}}function Xt(e){let t,n,o=[],r=new Map,l=e[0];const s=e=>e[13].id;for(let t=0;t<l.length;t+=1){let n=Yt(e,l,t),i=s(n);r.set(i,o[t]=Qt(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=F()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){517&n&&(l=e[0],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,Qt,t,Yt),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function Qt(e,t){let n,o,r,l;const s=t[6].default,i=f(s,t,t[9],Jt),c=i||function(e){let t,n=e[13].name+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){1&o&&n!==(n=e[13].name+"")&&V(t,n)},d(e){e&&O(t)}}}(t);return{key:e,first:null,c(){n=H("div"),c&&c.c(),o=z(),K(n,"class","item svelte-1kld9sh"),K(n,"data-id",r=t[13].id),X(n,"focus",t[15]===t[2]),this.first=n},m(e,t){N(e,n,t),c&&c.m(n,null),T(n,o),l=!0},p(e,o){t=e,i?i.p&&(!l||513&o)&&h(i,s,t,t[9],l?$(s,t[9],o,Gt):g(t[9]),Jt):c&&c.p&&(!l||1&o)&&c.p(t,l?o:-1),(!l||1&o&&r!==(r=t[13].id))&&K(n,"data-id",r),(!l||5&o)&&X(n,"focus",t[15]===t[2])},i(e){l||(He(c,e),l=!0)},o(e){Le(c,e),l=!1},d(e){e&&O(n),c&&c.d(e)}}}function Zt(e){let t,n,o,r,l,i;const c=[Xt,Wt],a=[];function d(e,t){return e[0].length?0:1}return n=d(e),o=a[n]=c[n](e),{c(){t=H("div"),o.c(),K(t,"class","list svelte-1kld9sh")},m(o,s){N(o,t,s),a[n].m(t,null),e[7](t),r=!0,l||(i=[j(t,"click",P(e[5])),j(t,"mousemove",e[3])],l=!0)},p(e,r){let l=n;n=d(e),n===l?a[n].p(e,r):(Oe(),Le(a[l],1,1,(()=>{a[l]=null})),Ae(),o=a[n],o?o.p(e,r):(o=a[n]=c[n](e),o.c()),He(o,1),o.m(t,null))},i(e){r||(He(o),r=!0)},o(e){Le(o),r=!1},d(o){o&&O(t),a[n].d(),e[7](null),l=!1,s(i)}}}function en(e){let t,n,o=null!==e[2]&&Bt(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,[n]){null!==e[2]?o?(o.p(e,n),4&n&&He(o,1)):(o=Bt(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function tn(e,t,n){let o,{$$slots:r={},$$scope:l}=t,{items:s=[]}=t,i=null;const c=ue(),{move:a,keydown:d,init:u,navigate:p}=function(){let e,t,n,o,r=null,l=!1;const s=e=>{r=e,l=null!==r,n(r)},i=(n,o)=>{const l=null===n?null:Math.max(0,Math.min(r+n,t.length-1));if(l!==r&&(s(l),r&&e)){const t=e.querySelectorAll(".list > .item")[r];t&&(t.scrollIntoView({block:"nearest"}),o&&o.preventDefault())}};return{move:e=>{const n=dt(e),o=t.findIndex((e=>e.id==n));o!==r&&s(o)},keydown:e=>{switch(e.code){case"Enter":l?o():s(0);break;case"Space":!l&&s(0);break;case"Escape":case"Tab":n(r=null);break;case"ArrowDown":l?i(1,e):s(0);break;case"ArrowUp":l?i(-1,e):s(0)}},init:(r,l,s,i)=>{e=r,t=l,n=s,o=i},navigate:i}}(),f=()=>c("select",{id:s[i]?.id});ce((()=>{c("ready",{navigate:p,keydown:d,move:a})}));return e.$$set=e=>{"items"in e&&n(0,s=e.items),"$$scope"in e&&n(9,l=e.$$scope)},e.$$.update=()=>{3&e.$$.dirty&&u(o,s,(e=>n(2,i=e)),f)},[s,o,i,a,p,f,r,function(e){he[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},()=>p(null),l]}let nn=class extends We{constructor(e){super(),Be(this,e,tn,en,c,{items:0})}};const on=e=>({option:4194304&e}),rn=e=>({option:e[22]});function ln(e){let t,n;return t=new nn({props:{items:e[5],$$slots:{default:[sn,({option:e})=>({22:e}),({option:e})=>e?4194304:0]},$$scope:{ctx:e}}}),t.$on("ready",e[8]),t.$on("select",e[9]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.items=e[5]),4718592&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function sn(e){let t;const n=e[15].default,o=f(n,e,e[19],rn),r=o||function(e){let t,n=e[22].name+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){4194304&o&&n!==(n=e[22].name+"")&&V(t,n)},d(e){e&&O(t)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,l){o?o.p&&(!t||4718592&l)&&h(o,n,e,e[19],t?$(n,e[19],l,on):g(e[19]),rn):r&&r.p&&(!t||4194304&l)&&r.p(e,t?l:-1)},i(e){t||(He(r,e),t=!0)},o(e){Le(r,e),t=!1},d(e){r&&r.d(e)}}}function cn(e){let t,n,o,r,l,i,c,a,d=!e[2]&&ln(e);return{c(){t=H("div"),n=H("input"),o=z(),r=H("i"),l=z(),d&&d.c(),K(n,"id",e[0]),n.disabled=e[2],K(n,"placeholder",e[1]),K(n,"class","svelte-16909t2"),X(n,"error",e[3]),K(r,"class","icon wxi-angle-down svelte-16909t2"),K(t,"class","combo svelte-16909t2")},m(s,u){N(s,t,u),T(t,n),Y(n,e[4]),T(t,o),T(t,r),T(t,l),d&&d.m(t,null),i=!0,c||(a=[j(n,"input",e[16]),j(n,"input",e[10]),j(t,"click",e[17]),j(t,"keydown",e[18])],c=!0)},p(e,[o]){(!i||1&o)&&K(n,"id",e[0]),(!i||4&o)&&(n.disabled=e[2]),(!i||2&o)&&K(n,"placeholder",e[1]),16&o&&n.value!==e[4]&&Y(n,e[4]),(!i||8&o)&&X(n,"error",e[3]),e[2]?d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()):d?(d.p(e,o),4&o&&He(d,1)):(d=ln(e),d.c(),He(d,1),d.m(t,null))},i(e){i||(He(d),i=!0)},o(e){Le(d),i=!1},d(e){e&&O(t),d&&d.d(),c=!1,s(a)}}}function an(e,t,n){let{$$slots:o={},$$scope:r}=t,{value:l=""}=t,{id:s=ft()}=t,{options:i=[]}=t,{textField:c="label"}=t,{placeholder:a=""}=t,{disabled:d=!1}=t,{error:u=!1}=t;const p=ue();let f,m,$,h="",g=null,v=[];return e.$$set=e=>{"value"in e&&n(11,l=e.value),"id"in e&&n(0,s=e.id),"options"in e&&n(12,i=e.options),"textField"in e&&n(13,c=e.textField),"placeholder"in e&&n(1,a=e.placeholder),"disabled"in e&&n(2,d=e.disabled),"error"in e&&n(3,u=e.error),"$$scope"in e&&n(19,r=e.$$scope)},e.$$.update=()=>{30720&e.$$.dirty&&$!=l&&(n(4,h=l||0===l?i.find((e=>e.id===l))[c]:""),n(14,$=l)),4096&e.$$.dirty&&n(5,v=i)},[s,a,d,u,h,v,f,m,function(e){n(6,f=e.detail.navigate),n(7,m=e.detail.keydown)},function(e){const t=e.detail.id;(t||0===t)&&(g=v.find((e=>e.id===t)),n(4,h=g[c]),n(11,l=g.id),n(5,v=i),f(null),p("select",{selected:g}))},function(){n(5,v=h?i.filter((e=>e[c].toLowerCase().includes(h.toLowerCase()))):i),v.length?f(0):f(null)},l,i,c,$,o,function(){h=this.value,n(4,h),n(14,$),n(11,l),n(12,i),n(13,c)},()=>f(0),e=>m(e),r]}class dn extends We{constructor(e){super(),Be(this,e,an,cn,c,{value:11,id:0,options:12,textField:13,placeholder:1,disabled:2,error:3})}}function un(e){let t,n,o;return{c(){t=H("input"),K(t,"id",e[1]),t.readOnly=e[2],t.disabled=e[5],K(t,"placeholder",e[4]),K(t,"style",e[7]),K(t,"class","svelte-165ewa7"),X(t,"error",e[6])},m(r,l){N(r,t,l),Y(t,e[0]),e[19](t),n||(o=[j(t,"input",e[18]),j(t,"input",e[20])],n=!0)},p(e,n){2&n&&K(t,"id",e[1]),4&n&&(t.readOnly=e[2]),32&n&&(t.disabled=e[5]),16&n&&K(t,"placeholder",e[4]),128&n&&K(t,"style",e[7]),1&n&&t.value!==e[0]&&Y(t,e[0]),64&n&&X(t,"error",e[6])},d(r){r&&O(t),e[19](null),n=!1,s(o)}}}function pn(e){let t,n,o;return{c(){t=H("input"),K(t,"id",e[1]),t.readOnly=e[2],t.disabled=e[5],K(t,"placeholder",e[4]),K(t,"type","number"),K(t,"style",e[7]),K(t,"class","svelte-165ewa7"),X(t,"error",e[6])},m(r,l){N(r,t,l),Y(t,e[0]),e[16](t),n||(o=[j(t,"input",e[15]),j(t,"input",e[17])],n=!0)},p(e,n){2&n&&K(t,"id",e[1]),4&n&&(t.readOnly=e[2]),32&n&&(t.disabled=e[5]),16&n&&K(t,"placeholder",e[4]),128&n&&K(t,"style",e[7]),1&n&&U(t.value)!==e[0]&&Y(t,e[0]),64&n&&X(t,"error",e[6])},d(r){r&&O(t),e[16](null),n=!1,s(o)}}}function fn(e){let t,n,o;return{c(){t=H("input"),K(t,"id",e[1]),t.readOnly=e[2],t.disabled=e[5],K(t,"placeholder",e[4]),K(t,"type","password"),K(t,"style",e[7]),K(t,"class","svelte-165ewa7"),X(t,"error",e[6])},m(r,l){N(r,t,l),Y(t,e[0]),e[13](t),n||(o=[j(t,"input",e[12]),j(t,"input",e[14])],n=!0)},p(e,n){2&n&&K(t,"id",e[1]),4&n&&(t.readOnly=e[2]),32&n&&(t.disabled=e[5]),16&n&&K(t,"placeholder",e[4]),128&n&&K(t,"style",e[7]),1&n&&t.value!==e[0]&&Y(t,e[0]),64&n&&X(t,"error",e[6])},d(r){r&&O(t),e[13](null),n=!1,s(o)}}}function mn(e){let n;function o(e,t){return"password"==e[3]?fn:"number"==e[3]?pn:un}let r=o(e),l=r(e);return{c(){l.c(),n=F()},m(e,t){l.m(e,t),N(e,n,t)},p(e,[t]){r===(r=o(e))&&l?l.p(e,t):(l.d(1),l=r(e),l&&(l.c(),l.m(n.parentNode,n)))},i:t,o:t,d(e){l.d(e),e&&O(n)}}}function $n(e,t,n){let{value:o=""}=t,{id:r=ft()}=t,{readonly:l=!1}=t,{focus:s=!1}=t,{select:i=!1}=t,{type:c="text"}=t,{placeholder:a=""}=t,{disabled:d=!1}=t,{error:u=!1}=t,{inputStyle:p=""}=t;const f=ue();let m;ce((()=>{setTimeout((()=>{s&&m&&m.focus(),i&&m&&m.select()}),1)}));return e.$$set=e=>{"value"in e&&n(0,o=e.value),"id"in e&&n(1,r=e.id),"readonly"in e&&n(2,l=e.readonly),"focus"in e&&n(10,s=e.focus),"select"in e&&n(11,i=e.select),"type"in e&&n(3,c=e.type),"placeholder"in e&&n(4,a=e.placeholder),"disabled"in e&&n(5,d=e.disabled),"error"in e&&n(6,u=e.error),"inputStyle"in e&&n(7,p=e.inputStyle)},[o,r,l,c,a,d,u,p,m,f,s,i,function(){o=this.value,n(0,o)},function(e){he[e?"unshift":"push"]((()=>{m=e,n(8,m)}))},()=>f("input",{value:o}),function(){o=U(this.value),n(0,o)},function(e){he[e?"unshift":"push"]((()=>{m=e,n(8,m)}))},()=>f("input",{value:o}),function(){o=this.value,n(0,o)},function(e){he[e?"unshift":"push"]((()=>{m=e,n(8,m)}))},()=>f("input",{value:o})]}class hn extends We{constructor(e){super(),Be(this,e,$n,mn,c,{value:0,id:1,readonly:2,focus:10,select:11,type:3,placeholder:4,disabled:5,error:6,inputStyle:7})}}function gn(e){let n;return{c(){n=H("span"),K(n,"class","spacer svelte-1qaa08h")},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function vn(e){let n,o,r;return{c(){n=H("i"),K(n,"class","pager wxi-angle-left svelte-1qaa08h")},m(t,l){N(t,n,l),o||(r=j(n,"click",e[8]),o=!0)},p:t,d(e){e&&O(n),o=!1,r()}}}function wn(e){let n;return{c(){n=H("span"),K(n,"class","spacer svelte-1qaa08h")},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function yn(e){let n,o,r;return{c(){n=H("i"),K(n,"class","pager wxi-angle-right svelte-1qaa08h")},m(t,l){N(t,n,l),o||(r=j(n,"click",e[9]),o=!0)},p:t,d(e){e&&O(n),o=!1,r()}}}function bn(e){let n,o,r,l,s,i,c;function a(e,t){return"right"!=e[1]?vn:gn}let d=a(e),u=d(e);function p(e,t){return"left"!=e[1]?yn:wn}let f=p(e),m=f(e);return{c(){n=H("div"),u.c(),o=z(),r=H("span"),l=R(e[2]),s=z(),m.c(),K(r,"class","label svelte-1qaa08h"),K(n,"class","header svelte-1qaa08h")},m(t,a){N(t,n,a),u.m(n,null),T(n,o),T(n,r),T(r,l),T(n,s),m.m(n,null),i||(c=j(r,"click",e[4]),i=!0)},p(e,[t]){d===(d=a(e))&&u?u.p(e,t):(u.d(1),u=d(e),u&&(u.c(),u.m(n,o))),4&t&&V(l,e[2]),f===(f=p(e))&&m?m.p(e,t):(m.d(1),m=f(e),m&&(m.c(),m.m(n,null)))},i:t,o:t,d(e){e&&O(n),u.d(),m.d(),i=!1,c()}}}function xn(e,t,n){const o=ue(),r=fe("wx-i18n").getRaw().calendar.monthFull;let l,s,i,{date:c}=t,{type:a}=t,{part:d}=t;return e.$$set=e=>{"date"in e&&n(5,c=e.date),"type"in e&&n(0,a=e.type),"part"in e&&n(1,d=e.part)},e.$$.update=()=>{if(225&e.$$.dirty)switch(n(6,l=c.getMonth()),n(7,s=c.getFullYear()),a){case"month":n(2,i=`${r[l]} ${s}`);break;case"year":n(2,i=s);break;case"duodecade":{const e=s-s%10;n(2,i=`${e} - ${e+9}`);break}}},[a,d,i,o,function(){o("shift",{diff:0,type:a})},c,l,s,()=>o("shift",{diff:-1,type:a}),()=>o("shift",{diff:1,type:a})]}let kn=class extends We{constructor(e){super(),Be(this,e,xn,bn,c,{date:5,type:0,part:1})}};function Sn(e){let t,n,o,r;const l=e[2].default,s=f(l,e,e[1],null);return{c(){t=H("button"),s&&s.c(),K(t,"class","svelte-1tj7yhm")},m(l,c){N(l,t,c),s&&s.m(t,null),n=!0,o||(r=j(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,[o]){e=t,s&&s.p&&(!n||2&o)&&h(s,l,e,e[1],n?$(l,e[1],o,null):g(e[1]),null)},i(e){n||(He(s,e),n=!0)},o(e){Le(s,e),n=!1},d(e){e&&O(t),s&&s.d(e),o=!1,r()}}}function In(e,t,n){let{$$slots:o={},$$scope:r}=t,{click:l}=t;return e.$$set=e=>{"click"in e&&n(0,l=e.click),"$$scope"in e&&n(1,r=e.$$scope)},[l,r,o]}class _n extends We{constructor(e){super(),Be(this,e,In,Sn,c,{click:0})}}function Mn(e,t,n){const o=e.slice();return o[17]=t[n],o}function Cn(e,t,n){const o=e.slice();return o[17]=t[n],o}function Tn(e){let n,o,r=e[17]+"";return{c(){n=H("div"),o=R(r),K(n,"class","weekday svelte-102f3tn")},m(e,t){N(e,n,t),T(n,o)},p:t,d(e){e&&O(n)}}}function Dn(e,t){let n,o,r,l,s,i=t[17].day+"";return{key:e,first:null,c(){n=H("div"),o=R(i),r=z(),K(n,"class",l="day "+t[17].css+" svelte-102f3tn"),K(n,"data-id",s=t[17].date),X(n,"out",!t[17].in),this.first=n},m(e,t){N(e,n,t),T(n,o),T(n,r)},p(e,r){t=e,1&r&&i!==(i=t[17].day+"")&&V(o,i),1&r&&l!==(l="day "+t[17].css+" svelte-102f3tn")&&K(n,"class",l),1&r&&s!==(s=t[17].date)&&K(n,"data-id",s),1&r&&X(n,"out",!t[17].in)},d(e){e&&O(n)}}}function En(e){let n,o,r,l,s,i,c=[],a=new Map,d=e[1],u=[];for(let t=0;t<d.length;t+=1)u[t]=Tn(Cn(e,d,t));let p=e[0];const f=e=>e[17].date;for(let t=0;t<p.length;t+=1){let n=Mn(e,p,t),o=f(n);a.set(o,c[t]=Dn(o,n))}return{c(){n=H("div"),o=H("div");for(let e=0;e<u.length;e+=1)u[e].c();r=z(),l=H("div");for(let e=0;e<c.length;e+=1)c[e].c();K(o,"class","weekdays svelte-102f3tn"),K(l,"class","days svelte-102f3tn")},m(t,a){N(t,n,a),T(n,o);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(o,null);T(n,r),T(n,l);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(l,null);s||(i=k(ut.call(null,l,e[2])),s=!0)},p(e,[t]){if(2&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const r=Cn(e,d,n);u[n]?u[n].p(r,t):(u[n]=Tn(r),u[n].c(),u[n].m(o,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=d.length}1&t&&(p=e[0],c=Pe(c,t,f,1,e,p,a,l,je,Dn,null,Mn))},i:t,o:t,d(e){e&&O(n),A(u,e);for(let e=0;e<c.length;e+=1)c[e].d();s=!1,i()}}}function Nn(e){const t=e.getDay();return 0===t||6===t}function On(e,t,n){let{value:o}=t,{current:r}=t,{cancel:l}=t,{select:s}=t,{part:i}=t,{markers:c=null}=t;const a=fe("wx-i18n").getRaw().calendar,d=(a.weekStart||7)%7,u=a.dayShort.slice(d).concat(a.dayShort.slice(0,d));let p,f;const m=(e,t,n)=>new Date(e.getFullYear(),e.getMonth()+(t||0),e.getDate()+(n||0));let $="normal"!==i;const h={click:function(e,t){s&&(t.stopPropagation(),s(new Date(new Date(e))));l&&l()}};return e.$$set=e=>{"value"in e&&n(3,o=e.value),"current"in e&&n(4,r=e.current),"cancel"in e&&n(5,l=e.cancel),"select"in e&&n(6,s=e.select),"part"in e&&n(7,i=e.part),"markers"in e&&n(8,c=e.markers)},e.$$.update=()=>{if(921&e.$$.dirty){n(9,f="normal"==i?[o?m(o).valueOf():0]:o?[o.start?m(o.start).valueOf():0,o.end?m(o.end).valueOf():0]:[0,0]);const e=function(){const e=m(r,0,1-r.getDate());return e.setDate(e.getDate()-(e.getDay()-(d-7))%7),e}(),t=function(){const e=m(r,1,-r.getDate());return e.setDate(e.getDate()+(6-e.getDay()+d)%7),e}(),l=r.getMonth();n(0,p=[]);for(let n=e;n<=t;n.setDate(n.getDate()+1)){const e={day:n.getDate(),in:n.getMonth()===l,date:n.valueOf()};let t="";if(t+=e.in?"":" inactive",t+=f.indexOf(e.date)>-1?" selected":"",$){const n=e.date==f[0],o=e.date==f[1];n&&!o?t+=" left":o&&!n&&(t+=" right"),e.date>f[0]&&e.date<f[1]&&(t+=" inrange")}if(t+=Nn(n)?" weekend":"",c){const e=c(n);e&&(t+=" "+e)}p.push({...e,css:t})}}},[p,u,h,o,r,l,s,i,c,f]}function An(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function Hn(e){let t,n,o,r=e[9]+"";return{c(){t=H("div"),n=R(r),o=z(),K(t,"class","month svelte-1nvkxt9"),K(t,"data-id",e[11]),X(t,"current",e[1]===e[11])},m(e,r){N(e,t,r),T(t,n),T(t,o)},p(e,n){2&n&&X(t,"current",e[1]===e[11])},d(e){e&&O(t)}}}function Ln(e){let n,o=e[2].done+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Rn(e){let t,n,o,r,l,s,i,c=e[3],a=[];for(let t=0;t<c.length;t+=1)a[t]=Hn(An(e,c,t));return r=new _n({props:{click:e[0],$$slots:{default:[Ln]},$$scope:{ctx:e}}}),{c(){t=H("div");for(let e=0;e<a.length;e+=1)a[e].c();n=z(),o=H("div"),Ye(r.$$.fragment),K(t,"class","months svelte-1nvkxt9"),K(o,"class","buttons svelte-1nvkxt9")},m(c,d){N(c,t,d);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);N(c,n,d),N(c,o,d),Ge(r,o,null),l=!0,s||(i=k(ut.call(null,t,e[4])),s=!0)},p(e,[n]){if(10&n){let o;for(c=e[3],o=0;o<c.length;o+=1){const r=An(e,c,o);a[o]?a[o].p(r,n):(a[o]=Hn(r),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=c.length}const o={};1&n&&(o.click=e[0]),4096&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){l||(He(r.$$.fragment,e),l=!0)},o(e){Le(r.$$.fragment,e),l=!1},d(e){e&&O(t),A(a,e),e&&O(n),e&&O(o),Je(r),s=!1,i()}}}function zn(e,t,n){let{value:o}=t,{current:r}=t,{cancel:l}=t,{part:s}=t;const i=fe("wx-i18n").getRaw().calendar,c=i.monthShort;let a;const d={click:function(e){(e||0===e)&&(r.setMonth(e),n(6,r));"normal"===s&&n(5,o=new Date(r));l()}};return e.$$set=e=>{"value"in e&&n(5,o=e.value),"current"in e&&n(6,r=e.current),"cancel"in e&&n(0,l=e.cancel),"part"in e&&n(7,s=e.part)},e.$$.update=()=>{224&e.$$.dirty&&("normal"!==s&&o?"left"===s&&o.start?n(1,a=o.start.getMonth()):"right"===s&&o.end?n(1,a=o.end.getMonth()):n(1,a=r.getMonth()):n(1,a=r.getMonth()))},[l,a,i,c,d,o,r,s]}function Fn(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function jn(e){let t,n,o,r,l=e[9]+"";return{c(){t=H("div"),n=R(l),o=z(),K(t,"class","year svelte-62ny1k"),K(t,"data-id",r=e[9]),X(t,"current",e[2]==e[9]),X(t,"prev-decade",0===e[11]),X(t,"next-decade",11===e[11])},m(e,r){N(e,t,r),T(t,n),T(t,o)},p(e,o){2&o&&l!==(l=e[9]+"")&&V(n,l),2&o&&r!==(r=e[9])&&K(t,"data-id",r),6&o&&X(t,"current",e[2]==e[9])},d(e){e&&O(t)}}}function qn(e){let n,o=e[3].done+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Pn(e){let t,n,o,r,l,s,i,c=e[1],a=[];for(let t=0;t<c.length;t+=1)a[t]=jn(Fn(e,c,t));return r=new _n({props:{click:e[0],$$slots:{default:[qn]},$$scope:{ctx:e}}}),{c(){t=H("div");for(let e=0;e<a.length;e+=1)a[e].c();n=z(),o=H("div"),Ye(r.$$.fragment),K(t,"class","years svelte-62ny1k"),K(o,"class","buttons svelte-62ny1k")},m(c,d){N(c,t,d);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);N(c,n,d),N(c,o,d),Ge(r,o,null),l=!0,s||(i=k(ut.call(null,t,e[4])),s=!0)},p(e,[n]){if(6&n){let o;for(c=e[1],o=0;o<c.length;o+=1){const r=Fn(e,c,o);a[o]?a[o].p(r,n):(a[o]=jn(r),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=c.length}const o={};1&n&&(o.click=e[0]),4096&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){l||(He(r.$$.fragment,e),l=!0)},o(e){Le(r.$$.fragment,e),l=!1},d(e){e&&O(t),A(a,e),e&&O(n),e&&O(o),Je(r),s=!1,i()}}}function Kn(e,t,n){const o=fe("wx-i18n").getRaw().calendar;let r,l,{value:s}=t,{current:i}=t,{cancel:c}=t,{part:a}=t;const d={click:function(e){e&&(i.setFullYear(e),n(5,i));"normal"===a&&n(6,s=new Date(i));c()}};return e.$$set=e=>{"value"in e&&n(6,s=e.value),"current"in e&&n(5,i=e.current),"cancel"in e&&n(0,c=e.cancel),"part"in e&&n(7,a=e.part)},e.$$.update=()=>{if(38&e.$$.dirty){n(2,l=i.getFullYear());const e=l-l%10-1,t=e+12;n(1,r=[]);for(let n=e;n<t;++n)r.push(n)}},[c,r,l,o,d,i,s,a]}const Un={month:{component:class extends We{constructor(e){super(),Be(this,e,On,En,c,{value:3,current:4,cancel:5,select:6,part:7,markers:8})}},next:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e},prev:function(e){let t=new Date(e);t.setMonth(e.getMonth()-1);for(;e.getMonth()===t.getMonth();)t.setDate(t.getDate()-1);return t}},year:{component:class extends We{constructor(e){super(),Be(this,e,zn,Rn,c,{value:5,current:6,cancel:0,part:7})}},next:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+1),e},prev:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()-1),e}},duodecade:{component:class extends We{constructor(e){super(),Be(this,e,Kn,Pn,c,{value:6,current:5,cancel:0,part:7})}},next:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+10),e},prev:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()-10),e}}};function Vn(e){let t,n,o,r,l,s,i,c,a=e[2]&&Yn(e);return r=new _n({props:{click:e[14],$$slots:{default:[Jn]},$$scope:{ctx:e}}}),i=new _n({props:{click:e[15],$$slots:{default:[Bn]},$$scope:{ctx:e}}}),{c(){t=H("div"),a&&a.c(),n=z(),o=H("div"),Ye(r.$$.fragment),l=z(),s=H("div"),Ye(i.$$.fragment),K(o,"class","button-item svelte-sor66p"),K(s,"class","button-item svelte-sor66p"),K(t,"class","buttons svelte-sor66p")},m(e,d){N(e,t,d),a&&a.m(t,null),T(t,n),T(t,o),Ge(r,o,null),T(t,l),T(t,s),Ge(i,s,null),c=!0},p(e,o){e[2]?a?(a.p(e,o),4&o&&He(a,1)):(a=Yn(e),a.c(),He(a,1),a.m(t,n)):a&&(Oe(),Le(a,1,1,(()=>{a=null})),Ae());const l={};131072&o&&(l.$$scope={dirty:o,ctx:e}),r.$set(l);const s={};131072&o&&(s.$$scope={dirty:o,ctx:e}),i.$set(s)},i(e){c||(He(a),He(r.$$.fragment,e),He(i.$$.fragment,e),c=!0)},o(e){Le(a),Le(r.$$.fragment,e),Le(i.$$.fragment,e),c=!1},d(e){e&&O(t),a&&a.d(),Je(r),Je(i)}}}function Yn(e){let t,n,o;return n=new _n({props:{click:e[13],$$slots:{default:[Gn]},$$scope:{ctx:e}}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","button-item svelte-sor66p")},m(e,r){N(e,t,r),Ge(n,t,null),o=!0},p(e,t){const o={};131072&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){e&&O(t),Je(n)}}}function Gn(e){let n,o=e[7]("done")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Jn(e){let n,o=e[7]("clear")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Bn(e){let n,o=e[7]("today")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function Wn(e){let t,n,o,r,l,s,i,c,a;o=new kn({props:{date:e[1],part:e[3],type:e[6]}}),o.$on("shift",e[12]);var d=Un[e[6]].component;function u(e){return{props:{value:e[0],current:e[1],part:e[3],markers:e[4],select:e[11],cancel:e[9]}}}d&&(s=ee(d,u(e)));let p="month"===e[6]&&e[5]&&Vn(e);return{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),l=H("div"),s&&Ye(s.$$.fragment),i=z(),p&&p.c(),K(n,"class","wrap svelte-sor66p"),K(t,"class",c="calendar "+("normal"!==e[3]?"part":"")+" svelte-sor66p")},m(e,c){N(e,t,c),T(t,n),Ge(o,n,null),T(n,r),T(n,l),s&&Ge(s,l,null),T(l,i),p&&p.m(l,null),a=!0},p(e,[n]){const r={};2&n&&(r.date=e[1]),8&n&&(r.part=e[3]),64&n&&(r.type=e[6]),o.$set(r);const f={};if(1&n&&(f.value=e[0]),2&n&&(f.current=e[1]),8&n&&(f.part=e[3]),16&n&&(f.markers=e[4]),64&n&&d!==(d=Un[e[6]].component)){if(s){Oe();const e=s;Le(e.$$.fragment,1,0,(()=>{Je(e,1)})),Ae()}d?(s=ee(d,u(e)),Ye(s.$$.fragment),He(s.$$.fragment,1),Ge(s,l,i)):s=null}else d&&s.$set(f);"month"===e[6]&&e[5]?p?(p.p(e,n),96&n&&He(p,1)):(p=Vn(e),p.c(),He(p,1),p.m(l,null)):p&&(Oe(),Le(p,1,1,(()=>{p=null})),Ae()),(!a||8&n&&c!==(c="calendar "+("normal"!==e[3]?"part":"")+" svelte-sor66p"))&&K(t,"class",c)},i(e){a||(He(o.$$.fragment,e),s&&He(s.$$.fragment,e),He(p),a=!0)},o(e){Le(o.$$.fragment,e),s&&Le(s.$$.fragment,e),Le(p),a=!1},d(e){e&&O(t),Je(o),s&&Je(s),p&&p.d()}}}function Xn(e,t,n){const o=ue(),r=fe("wx-i18n").getGroup("calendar");let{value:l}=t,{current:s}=t,{done:i=!1}=t,{part:c="normal"}=t,{markers:a=null}=t,{buttons:d=!0}=t,u="month";function p(e,t){e.preventDefault(),o("change",{value:t})}function f(e){0==e.diff?"month"===u?n(6,u="year"):"year"===u&&n(6,u="duodecade"):o("shift",e)}return e.$$set=e=>{"value"in e&&n(0,l=e.value),"current"in e&&n(1,s=e.current),"done"in e&&n(2,i=e.done),"part"in e&&n(3,c=e.part),"markers"in e&&n(4,a=e.markers),"buttons"in e&&n(5,d=e.buttons)},[l,s,i,c,a,d,u,r,p,function(){"duodecade"===u?n(6,u="year"):"year"===u&&n(6,u="month")},f,function(e){o("change",{select:!0,value:e})},e=>f(e.detail),e=>p(e,-1),e=>p(e,null),e=>p(e,new Date)]}class Qn extends We{constructor(e){super(),Be(this,e,Xn,Wn,c,{value:0,current:1,done:2,part:3,markers:4,buttons:5})}}function Zn(e){let t,n;return t=new Qn({props:{value:e[0],current:e[1],markers:e[2],buttons:e[3]}}),t.$on("shift",e[6]),t.$on("change",e[7]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.value=e[0]),2&n&&(o.current=e[1]),4&n&&(o.markers=e[2]),8&n&&(o.buttons=e[3]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function eo(e,t,n){const o=ue();let{value:r}=t,{current:l}=t,{markers:s=null}=t,{buttons:i=!0}=t;function c({diff:e,type:t}){const o=Un[t];n(1,l=e>0?o.next(l):o.prev(l))}function a(e){const t=e.value;t?(n(1,l=new Date(t)),n(0,r=new Date(t))):n(0,r=null),o("change",{value:r})}return e.$$set=e=>{"value"in e&&n(0,r=e.value),"current"in e&&n(1,l=e.current),"markers"in e&&n(2,s=e.markers),"buttons"in e&&n(3,i=e.buttons)},e.$$.update=()=>{1&e.$$.dirty&&(l||n(1,l=r||new Date))},[r,l,s,i,c,a,e=>c(e.detail),e=>a(e.detail)]}class to extends We{constructor(e){super(),Be(this,e,eo,Zn,c,{value:0,current:1,markers:2,buttons:3})}}function no(e){let t,n;return t=new Ht({props:{cancel:e[10],width:e[4],align:e[5],autoFit:!!e[5],$$slots:{default:[oo]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.width=e[4]),32&n&&(o.align=e[5]),32&n&&(o.autoFit=!!e[5]),32897&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function oo(e){let t,n;return t=new to({props:{buttons:e[7],value:e[0]}}),t.$on("change",e[11]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};128&n&&(o.buttons=e[7]),1&n&&(o.value=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ro(e){let t,n,o,r,l,i,c,a;n=new hn({props:{value:e[0]?e[9](e[0]):e[0],id:e[1],readonly:!0,disabled:e[2],error:e[3],placeholder:e[6],inputStyle:"cursor: pointer; width: 100%; padding-right: calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2);"}});let d=e[8]&&!e[2]&&no(e);return{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("i"),l=z(),d&&d.c(),K(r,"class","icon wxi-calendar svelte-lhok4w"),K(t,"class","datepicker svelte-lhok4w"),X(t,"disabled",e[2]),X(t,"error",e[3])},m(s,u){N(s,t,u),Ge(n,t,null),T(t,o),T(t,r),T(t,l),d&&d.m(t,null),i=!0,c||(a=[j(window,"scroll",e[10]),j(t,"click",e[13])],c=!0)},p(e,[o]){const r={};1&o&&(r.value=e[0]?e[9](e[0]):e[0]),2&o&&(r.id=e[1]),4&o&&(r.disabled=e[2]),8&o&&(r.error=e[3]),64&o&&(r.placeholder=e[6]),n.$set(r),e[8]&&!e[2]?d?(d.p(e,o),260&o&&He(d,1)):(d=no(e),d.c(),He(d,1),d.m(t,null)):d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()),(!i||4&o)&&X(t,"disabled",e[2]),(!i||8&o)&&X(t,"error",e[3])},i(e){i||(He(n.$$.fragment,e),He(d),i=!0)},o(e){Le(n.$$.fragment,e),Le(d),i=!1},d(e){e&&O(t),Je(n),d&&d.d(),c=!1,s(a)}}}function lo(e,t,n){let{value:o}=t,{id:r=ft()}=t,{disabled:l=!1}=t,{error:s=!1}=t,{width:i="unset"}=t,{align:c="start"}=t,{placeholder:a=""}=t,{format:d="%m/%d/%Y"}=t,{buttons:u}=t;const p=fe("wx-i18n").getRaw().calendar;let f,m="function"==typeof d?d:function(e,t){return"function"==typeof e?e:function(n){return n?(n.getMonth||(n=new Date(n)),e.replace(gt,(e=>ht(e,n,t)))):""}}(d,p);function $(){n(8,f=!1)}return e.$$set=e=>{"value"in e&&n(0,o=e.value),"id"in e&&n(1,r=e.id),"disabled"in e&&n(2,l=e.disabled),"error"in e&&n(3,s=e.error),"width"in e&&n(4,i=e.width),"align"in e&&n(5,c=e.align),"placeholder"in e&&n(6,a=e.placeholder),"format"in e&&n(12,d=e.format),"buttons"in e&&n(7,u=e.buttons)},[o,r,l,s,i,c,a,u,f,m,$,function(e){const t=e.detail.value;n(0,o=t),setTimeout($,1)},d,()=>n(8,f=!0)]}class so extends We{constructor(e){super(),Be(this,e,lo,ro,c,{value:0,id:1,disabled:2,error:3,width:4,align:5,placeholder:6,format:12,buttons:7})}}function io(e){let t,n,o,r,l,s,i;return o=new Qn({props:{value:{start:e[0],end:e[1]},current:e[5],markers:e[3],buttons:!1,part:"left"}}),o.$on("shift",e[11]),o.$on("change",e[12]),s=new Qn({props:{value:{start:e[0],end:e[1]},current:e[6],markers:e[3],done:e[2],buttons:e[4],part:"right"}}),s.$on("shift",e[13]),s.$on("change",e[14]),{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),l=H("div"),Ye(s.$$.fragment),K(n,"class","half svelte-y4vzbo"),K(l,"class","half svelte-y4vzbo"),K(t,"class","calendars svelte-y4vzbo")},m(e,c){N(e,t,c),T(t,n),Ge(o,n,null),T(t,r),T(t,l),Ge(s,l,null),i=!0},p(e,[t]){const n={};3&t&&(n.value={start:e[0],end:e[1]}),32&t&&(n.current=e[5]),8&t&&(n.markers=e[3]),o.$set(n);const r={};3&t&&(r.value={start:e[0],end:e[1]}),64&t&&(r.current=e[6]),8&t&&(r.markers=e[3]),4&t&&(r.done=e[2]),16&t&&(r.buttons=e[4]),s.$set(r)},i(e){i||(He(o.$$.fragment,e),He(s.$$.fragment,e),i=!0)},o(e){Le(o.$$.fragment,e),Le(s.$$.fragment,e),i=!1},d(e){e&&O(t),Je(o),Je(s)}}}function co(e,t,n){const o=new Date(e);return o.setMonth(o.getMonth()+t),n&&o.valueOf()==n.valueOf()?n:o}function ao(e,t,n){const o=ue();let r,l,{start:s}=t,{end:i}=t,{done:c}=t,{current:a}=t,{markers:d=null}=t,{buttons:u=!0}=t;function p({diff:e,type:t}){const o=Un[t];e>0?n(6,l=o.next(l)):e<0&&n(5,r=o.prev(r))}function f(e){$(e),s&&n(5,r=new Date(s))}function m(e){$(e),i&&n(6,l=new Date(i))}function $(e){const t=e.value,r=-1===t;r||(e.select?!s||i?(n(0,s=t),n(1,i=null)):s>t?(n(1,i=s),n(0,s=t)):n(1,i=t):t?(n(0,s=new Date(t)),n(1,i=new Date(t))):n(0,s=n(1,i=null))),!r&&c||o("change",{start:s,end:i})}return e.$$set=e=>{"start"in e&&n(0,s=e.start),"end"in e&&n(1,i=e.end),"done"in e&&n(2,c=e.done),"current"in e&&n(10,a=e.current),"markers"in e&&n(3,d=e.markers),"buttons"in e&&n(4,u=e.buttons)},e.$$.update=()=>{var t;1&e.$$.dirty&&n(5,r=(t=s)?new Date(t):a||new Date),32&e.$$.dirty&&r&&n(6,l=co(r,1)),64&e.$$.dirty&&l&&n(5,r=co(l,-1))},[s,i,c,d,u,r,l,p,f,m,a,e=>p(e.detail),e=>f(e.detail),e=>p(e.detail),e=>m(e.detail)]}class uo extends We{constructor(e){super(),Be(this,e,ao,io,c,{start:0,end:1,done:2,current:10,markers:3,buttons:4})}}function po(e,t,n){const o=e.slice();return o[8]=t[n],o}function fo(e,t){let n,o,r,l=t[8][t[1]]+"";return{key:e,first:null,c(){n=H("option"),o=R(l),n.__value=r=t[8].id,n.value=n.__value,K(n,"class","svelte-1355qs9"),this.first=n},m(e,t){N(e,n,t),T(n,o)},p(e,s){t=e,6&s&&l!==(l=t[8][t[1]]+"")&&V(o,l),4&s&&r!==(r=t[8].id)&&(n.__value=r,n.value=n.__value)},d(e){e&&O(n)}}}function mo(e){let t,n;return{c(){t=H("div"),n=R(e[3]),K(t,"class","placeholder svelte-1355qs9")},m(e,o){N(e,t,o),T(t,n)},p(e,t){8&t&&V(n,e[3])},d(e){e&&O(t)}}}function $o(e){let n,o,r,l,s,i,c,a=[],d=new Map,u=e[2];const p=e=>e[8].id;for(let t=0;t<u.length;t+=1){let n=po(e,u,t),o=p(n);d.set(o,a[t]=fo(o,n))}let f=(!e[0]||0!==e[0])&&mo(e);return{c(){n=H("div"),o=H("select");for(let e=0;e<a.length;e+=1)a[e].c();r=z(),f&&f.c(),l=z(),s=H("i"),K(o,"id",e[6]),o.disabled=e[4],K(o,"class","svelte-1355qs9"),void 0===e[0]&&ke((()=>e[7].call(o))),X(o,"error",e[5]),K(s,"class","icon wxi-angle-down svelte-1355qs9"),K(n,"class","svelte-1355qs9")},m(t,d){N(t,n,d),T(n,o);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,null);J(o,e[0],!0),T(n,r),f&&f.m(n,null),T(n,l),T(n,s),i||(c=j(o,"change",e[7]),i=!0)},p(e,[t]){6&t&&(u=e[2],a=Pe(a,t,p,1,e,u,d,o,je,fo,null,po)),64&t&&K(o,"id",e[6]),16&t&&(o.disabled=e[4]),5&t&&J(o,e[0]),32&t&&X(o,"error",e[5]),e[0]&&0===e[0]?f&&(f.d(1),f=null):f?f.p(e,t):(f=mo(e),f.c(),f.m(n,l))},i:t,o:t,d(e){e&&O(n);for(let e=0;e<a.length;e+=1)a[e].d();f&&f.d(),i=!1,c()}}}function ho(e,t,n){let{label:o="label"}=t,{value:r=""}=t,{options:l=[]}=t,{placeholder:s=""}=t,{disabled:i=!1}=t,{error:c=!1}=t,{id:a=ft()}=t;return e.$$set=e=>{"label"in e&&n(1,o=e.label),"value"in e&&n(0,r=e.value),"options"in e&&n(2,l=e.options),"placeholder"in e&&n(3,s=e.placeholder),"disabled"in e&&n(4,i=e.disabled),"error"in e&&n(5,c=e.error),"id"in e&&n(6,a=e.id)},[r,o,l,s,i,c,a,function(){r=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(0,r),n(2,l)}]}class go extends We{constructor(e){super(),Be(this,e,ho,$o,c,{label:1,value:0,options:2,placeholder:3,disabled:4,error:5,id:6})}}function vo(e){let t,n;return{c(){t=H("label"),n=R(e[2]),K(t,"for",e[1]),K(t,"class","svelte-yw8n7a")},m(e,o){N(e,t,o),T(t,n)},p(e,o){4&o&&V(n,e[2]),2&o&&K(t,"for",e[1])},d(e){e&&O(t)}}}function wo(e){let n,o,r,l,i,c,a,d=e[2]&&vo(e);return{c(){n=H("div"),d&&d.c(),o=z(),r=H("div"),l=H("input"),K(l,"id",e[1]),K(l,"type","range"),K(l,"min",e[4]),K(l,"max",e[5]),K(l,"step",e[6]),l.disabled=e[7],K(l,"style",e[8]),K(l,"class","svelte-yw8n7a"),K(r,"class","svelte-yw8n7a"),K(n,"class","slider svelte-yw8n7a"),K(n,"style",i=e[3]?`width: ${e[3]}`:"")},m(t,s){N(t,n,s),d&&d.m(n,null),T(n,o),T(n,r),T(r,l),Y(l,e[0]),c||(a=[j(l,"change",e[10]),j(l,"input",e[10])],c=!0)},p(e,[t]){e[2]?d?d.p(e,t):(d=vo(e),d.c(),d.m(n,o)):d&&(d.d(1),d=null),2&t&&K(l,"id",e[1]),16&t&&K(l,"min",e[4]),32&t&&K(l,"max",e[5]),64&t&&K(l,"step",e[6]),128&t&&(l.disabled=e[7]),256&t&&K(l,"style",e[8]),1&t&&Y(l,e[0]),8&t&&i!==(i=e[3]?`width: ${e[3]}`:"")&&K(n,"style",i)},i:t,o:t,d(e){e&&O(n),d&&d.d(),c=!1,s(a)}}}function yo(e,t,n){let{id:o=ft()}=t,{label:r=""}=t,{width:l=""}=t,{min:s=0}=t,{max:i=100}=t,{value:c=0}=t,{step:a=1}=t,{disabled:d=!1}=t,u=0,p="";return e.$$set=e=>{"id"in e&&n(1,o=e.id),"label"in e&&n(2,r=e.label),"width"in e&&n(3,l=e.width),"min"in e&&n(4,s=e.min),"max"in e&&n(5,i=e.max),"value"in e&&n(0,c=e.value),"step"in e&&n(6,a=e.step),"disabled"in e&&n(7,d=e.disabled)},e.$$.update=()=>{689&e.$$.dirty&&(n(9,u=(c-s)/(i-s)*100+"%"),n(8,p=d?"":`background: linear-gradient(90deg, var(--wx-slider-primary) 0% ${u}, var(--wx-slider-background) ${u} 100%);`),isNaN(c)&&n(0,c=0))},[c,o,r,l,s,i,a,d,p,u,function(){c=U(this.value),n(0,c),n(4,s),n(5,i),n(7,d),n(9,u)}]}class bo extends We{constructor(e){super(),Be(this,e,yo,wo,c,{id:1,label:2,width:3,min:4,max:5,value:0,step:6,disabled:7})}}function xo(e,{delay:t=0,duration:o=400,easing:r=n}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:o,easing:r,css:e=>"opacity: "+e*l}}function ko(e){let t,n,o,r,l,s,i,c,a,d,u,p=e[0].text+"";return{c(){t=H("div"),n=H("div"),o=R(p),r=z(),l=H("div"),s=H("i"),K(n,"class","text svelte-1rtnb7d"),K(s,"class","close wxi-close svelte-1rtnb7d"),K(l,"class","button svelte-1rtnb7d"),K(t,"class",i="message "+(e[0].type?e[0].type:"")+" svelte-1rtnb7d"),K(t,"role","status"),K(t,"aria-live","polite")},m(i,c){N(i,t,c),T(t,n),T(n,o),T(t,r),T(t,l),T(l,s),a=!0,d||(u=j(s,"click",e[1]),d=!0)},p(e,[n]){(!a||1&n)&&p!==(p=e[0].text+"")&&V(o,p),(!a||1&n&&i!==(i="message "+(e[0].type?e[0].type:"")+" svelte-1rtnb7d"))&&K(t,"class",i)},i(e){a||(ke((()=>{a&&(c||(c=ze(t,xo,{},!0)),c.run(1))})),a=!0)},o(e){c||(c=ze(t,xo,{},!1)),c.run(0),a=!1},d(e){e&&O(t),e&&c&&c.end(),d=!1,u()}}}function So(e,t,n){let{notice:o={}}=t;return e.$$set=e=>{"notice"in e&&n(0,o=e.notice)},[o,function(){o.remove&&o.remove()}]}class Io extends We{constructor(e){super(),Be(this,e,So,ko,c,{notice:0})}}function _o(e,t,n){const o=e.slice();return o[1]=t[n],o}function Mo(e,t){let n,o,r;return o=new Io({props:{notice:t[1]}}),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};1&n&&(r.notice=t[1]),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function Co(e){let t,n,o=[],r=new Map,l=e[0];const s=e=>e[1].id;for(let t=0;t<l.length;t+=1){let n=_o(e,l,t),i=s(n);r.set(i,o[t]=Mo(i,n))}return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","area svelte-8aeoij")},m(e,r){N(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,[n]){1&n&&(l=e[0],Oe(),o=Pe(o,n,s,1,e,l,r,t,qe,Mo,null,_o),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){e&&O(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function To(e,t,n){let{data:o}=t;return e.$$set=e=>{"data"in e&&n(0,o=e.data)},[o]}class Do extends We{constructor(e){super(),Be(this,e,To,Co,c,{data:0})}}function Eo(e,t,n){const o=e.slice();return o[11]=t[n],o}const No=e=>({}),Oo=e=>({}),Ao=e=>({}),Ho=e=>({});function Lo(e){let t,n;return{c(){t=H("div"),n=R(e[0]),K(t,"class","header svelte-1abqk9k")},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&V(n,e[0])},d(e){e&&O(t)}}}function Ro(e){let t,n=e[5](e[11])+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){8&o&&n!==(n=e[5](e[11])+"")&&V(t,n)},d(e){e&&O(t)}}}function zo(e){let t,n,o,r;function l(){return e[8](e[11])}return n=new Mt({props:{type:"block "+("ok"===e[11]?"primary":"secondary"),click:l,$$slots:{default:[Ro]},$$scope:{ctx:e}}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),K(t,"class","button svelte-1abqk9k")},m(e,l){N(e,t,l),Ge(n,t,null),T(t,o),r=!0},p(t,o){e=t;const r={};8&o&&(r.type="block "+("ok"===e[11]?"primary":"secondary")),14&o&&(r.click=l),1032&o&&(r.$$scope={dirty:o,ctx:e}),n.$set(r)},i(e){r||(He(n.$$.fragment,e),r=!0)},o(e){Le(n.$$.fragment,e),r=!1},d(e){e&&O(t),Je(n)}}}function Fo(e){let t,n,o,r,l,s,i,c,a;const d=e[7].title,u=f(d,e,e[10],Ho),p=u||function(e){let t,n=e[0]&&Lo(e);return{c(){n&&n.c(),t=F()},m(e,o){n&&n.m(e,o),N(e,t,o)},p(e,o){e[0]?n?n.p(e,o):(n=Lo(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&O(t)}}}(e),m=e[7].default,v=f(m,e,e[10],null),w=e[7].buttons,y=f(w,e,e[10],Oo),b=y||function(e){let t,n,o=e[3],r=[];for(let t=0;t<o.length;t+=1)r[t]=zo(Eo(e,o,t));const l=e=>Le(r[e],1,1,(()=>{r[e]=null}));return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();K(t,"class","buttons svelte-1abqk9k")},m(e,o){N(e,t,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);n=!0},p(e,n){if(46&n){let s;for(o=e[3],s=0;s<o.length;s+=1){const l=Eo(e,o,s);r[s]?(r[s].p(l,n),He(r[s],1)):(r[s]=zo(l),r[s].c(),He(r[s],1),r[s].m(t,null))}for(Oe(),s=o.length;s<r.length;s+=1)l(s);Ae()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)He(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)Le(r[e]);n=!1},d(e){e&&O(t),A(r,e)}}}(e);return{c(){t=H("div"),n=H("div"),p&&p.c(),o=z(),r=H("div"),v&&v.c(),l=z(),b&&b.c(),K(n,"class","box svelte-1abqk9k"),K(t,"class","modal svelte-1abqk9k"),K(t,"tabindex","0")},m(s,d){N(s,t,d),T(t,n),p&&p.m(n,null),T(n,o),T(n,r),v&&v.m(r,null),T(n,l),b&&b.m(n,null),e[9](t),i=!0,c||(a=j(t,"keydown",e[6]),c=!0)},p(e,[t]){u?u.p&&(!i||1024&t)&&h(u,d,e,e[10],i?$(d,e[10],t,Ao):g(e[10]),Ho):p&&p.p&&(!i||1&t)&&p.p(e,i?t:-1),v&&v.p&&(!i||1024&t)&&h(v,m,e,e[10],i?$(m,e[10],t,null):g(e[10]),null),y?y.p&&(!i||1024&t)&&h(y,w,e,e[10],i?$(w,e[10],t,No):g(e[10]),Oo):b&&b.p&&(!i||14&t)&&b.p(e,i?t:-1)},i(e){i||(He(p,e),He(v,e),He(b,e),ke((()=>{i&&(s||(s=ze(t,xo,{duration:100},!0)),s.run(1))})),i=!0)},o(e){Le(p,e),Le(v,e),Le(b,e),s||(s=ze(t,xo,{duration:100},!1)),s.run(0),i=!1},d(n){n&&O(t),p&&p.d(n),v&&v.d(n),b&&b.d(n),e[9](null),n&&s&&s.end(),c=!1,a()}}}function jo(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=fe("wx-i18n").getGroup("core");let s,{title:i=""}=t,{ok:c}=t,{cancel:a}=t,{buttons:d=["cancel","ok"]}=t;ce((()=>{s.focus()}));return e.$$set=e=>{"title"in e&&n(0,i=e.title),"ok"in e&&n(1,c=e.ok),"cancel"in e&&n(2,a=e.cancel),"buttons"in e&&n(3,d=e.buttons),"$$scope"in e&&n(10,r=e.$$scope)},[i,c,a,d,s,l,function(e){switch(e.code){case"Enter":{const t=e.target.tagName;if("TEXTAREA"===t||"BUTTON"===t)return;c();break}case"Escape":a()}},o,e=>"ok"===e?c():a(),function(e){he[e?"unshift":"push"]((()=>{s=e,n(4,s)}))},r]}class qo extends We{constructor(e){super(),Be(this,e,jo,Fo,c,{title:0,ok:1,cancel:2,buttons:3})}}function Po(e){let t,n;return t=new qo({props:{title:e[0].title,buttons:e[0].buttons,ok:e[0].resolve,cancel:e[0].reject,$$slots:{default:[Ko]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.title=e[0].title),1&n&&(o.buttons=e[0].buttons),1&n&&(o.ok=e[0].resolve),1&n&&(o.cancel=e[0].reject),9&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ko(e){let t,n=e[0].message+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){1&o&&n!==(n=e[0].message+"")&&V(t,n)},d(e){e&&O(t)}}}function Uo(e){let t,n,o,r;const l=e[2].default,s=f(l,e,e[3],null);let i=e[0]&&Po(e);return o=new Do({props:{data:e[1]}}),{c(){s&&s.c(),t=z(),i&&i.c(),n=z(),Ye(o.$$.fragment)},m(e,l){s&&s.m(e,l),N(e,t,l),i&&i.m(e,l),N(e,n,l),Ge(o,e,l),r=!0},p(e,[t]){s&&s.p&&(!r||8&t)&&h(s,l,e,e[3],r?$(l,e[3],t,null):g(e[3]),null),e[0]?i?(i.p(e,t),1&t&&He(i,1)):(i=Po(e),i.c(),He(i,1),i.m(n.parentNode,n)):i&&(Oe(),Le(i,1,1,(()=>{i=null})),Ae());const c={};2&t&&(c.data=e[1]),o.$set(c)},i(e){r||(He(s,e),He(i),He(o.$$.fragment,e),r=!0)},o(e){Le(s,e),Le(i),Le(o.$$.fragment,e),r=!1},d(e){s&&s.d(e),e&&O(t),i&&i.d(e),e&&O(n),Je(o,e)}}}function Vo(e,t,n){let{$$slots:o={},$$scope:r}=t,l=null;let s=[];return pe("wx-helpers",{showNotice:function(e){(e={...e}).id=e.id||ft(),e.remove=()=>n(1,s=s.filter((t=>t.id!==e.id))),-1!=e.expire&&setTimeout(e.remove,e.expire||5e3),n(1,s=[...s,e])},showModal:function(e){return n(0,l={...e}),new Promise(((e,t)=>{n(0,l.resolve=t=>{n(0,l=null),e(t)},l),n(0,l.reject=e=>{n(0,l=null),t(e)},l)}))}}),e.$$set=e=>{"$$scope"in e&&n(3,r=e.$$scope)},[l,s,o,r]}class Yo extends We{constructor(e){super(),Be(this,e,Vo,Uo,c,{})}}const Go=e=>({}),Jo=e=>({id:e[5]});function Bo(e){let t,n;return{c(){t=H("label"),n=R(e[0]),K(t,"for",e[5]),K(t,"class","svelte-1b27mb4")},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&V(n,e[0])},d(e){e&&O(t)}}}function Wo(e){let t,n,o,r,l,s,i,c=e[0]&&Bo(e);const a=e[7].default,d=f(a,e,e[6],Jo);return{c(){t=H("div"),c&&c.c(),n=z(),o=H("div"),d&&d.c(),K(o,"class",r="field-control "+e[4]+" svelte-1b27mb4"),K(t,"class",l="field "+e[1]+" svelte-1b27mb4"),K(t,"style",s=e[2]?`width: ${e[2]}`:""),X(t,"error",e[3])},m(e,r){N(e,t,r),c&&c.m(t,null),T(t,n),T(t,o),d&&d.m(o,null),i=!0},p(e,[u]){e[0]?c?c.p(e,u):(c=Bo(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),d&&d.p&&(!i||64&u)&&h(d,a,e,e[6],i?$(a,e[6],u,Go):g(e[6]),Jo),(!i||16&u&&r!==(r="field-control "+e[4]+" svelte-1b27mb4"))&&K(o,"class",r),(!i||2&u&&l!==(l="field "+e[1]+" svelte-1b27mb4"))&&K(t,"class",l),(!i||4&u&&s!==(s=e[2]?`width: ${e[2]}`:""))&&K(t,"style",s),(!i||10&u)&&X(t,"error",e[3])},i(e){i||(He(d,e),i=!0)},o(e){Le(d,e),i=!1},d(e){e&&O(t),c&&c.d(),d&&d.d(e)}}}function Xo(e,t,n){let{$$slots:o={},$$scope:r}=t,{label:l=""}=t,{position:s=""}=t,{width:i=""}=t,{error:c=!1}=t,{type:a=""}=t,d=ft();return e.$$set=e=>{"label"in e&&n(0,l=e.label),"position"in e&&n(1,s=e.position),"width"in e&&n(2,i=e.width),"error"in e&&n(3,c=e.error),"type"in e&&n(4,a=e.type),"$$scope"in e&&n(6,r=e.$$scope)},[l,s,i,c,a,d,r,o]}class Qo extends We{constructor(e){super(),Be(this,e,Xo,Wo,c,{label:0,position:1,width:2,error:3,type:4})}}const Zo=e=>({}),er=e=>({mount:e[1]});function tr(e){let t,n,o,r;const l=e[5].default,s=f(l,e,e[4],er);return{c(){t=H("div"),n=H("div"),s&&s.c(),K(n,"class",o="wx-"+e[0]+"-theme svelte-nejz1p"),K(t,"class","wx-clone svelte-nejz1p")},m(o,l){N(o,t,l),T(t,n),s&&s.m(n,null),e[6](n),r=!0},p(e,[t]){s&&s.p&&(!r||16&t)&&h(s,l,e,e[4],r?$(l,e[4],t,Zo):g(e[4]),er),(!r||1&t&&o!==(o="wx-"+e[0]+"-theme svelte-nejz1p"))&&K(n,"class",o)},i(e){r||(He(s,e),r=!0)},o(e){Le(s,e),r=!1},d(n){n&&O(t),s&&s.d(n),e[6](null)}}}function nr(e,t,n){let o,{$$slots:r={},$$scope:l}=t,{theme:s=""}=t,{target:i=document.body}=t,c=[];return""===s&&(s=fe("wx-theme")),ce((()=>{i.appendChild(o),c&&c.forEach((e=>e()))})),de((()=>{o&&o.parentNode&&o.parentNode.removeChild(o)})),e.$$set=e=>{"theme"in e&&n(0,s=e.theme),"target"in e&&n(3,i=e.target),"$$scope"in e&&n(4,l=e.$$scope)},[s,e=>{c&&c.push(e)},o,i,l,r,function(e){he[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class or extends We{constructor(e){super(),Be(this,e,nr,tr,c,{theme:0,target:3,mount:1})}get mount(){return this.$$.ctx[1]}}const rr=e=>({}),lr=e=>({open:e[9]});function sr(e){let n,o,r,l,i,c;const a=e[15].default,d=f(a,e,e[14],lr),u=d||function(e){let n,o,r,l,s,i;return{c(){n=H("div"),o=H("span"),r=R("Drop files here or\n\t\t\t\t"),l=H("span"),l.textContent="select files",K(l,"class","action svelte-1v47mbj"),K(n,"class","dropzone svelte-1v47mbj")},m(t,c){N(t,n,c),T(n,o),T(o,r),T(o,l),s||(i=j(l,"click",e[9]),s=!0)},p:t,d(e){e&&O(n),s=!1,i()}}}(e);return{c(){n=H("div"),o=H("input"),r=z(),u&&u.c(),K(o,"type","file"),K(o,"accept",e[0]),o.disabled=e[1],o.multiple=e[2],K(o,"class","svelte-1v47mbj"),K(n,"class","label svelte-1v47mbj"),X(n,"active",e[4])},m(t,s){N(t,n,s),T(n,o),e[17](o),T(n,r),u&&u.m(n,null),l=!0,i||(c=[j(o,"change",e[5]),j(n,"dragenter",e[7]),j(n,"dragleave",e[8]),j(n,"dragover",q(e[16])),j(n,"drop",q(e[6]))],i=!0)},p(e,[t]){(!l||1&t)&&K(o,"accept",e[0]),(!l||2&t)&&(o.disabled=e[1]),(!l||4&t)&&(o.multiple=e[2]),d&&d.p&&(!l||16384&t)&&h(d,a,e,e[14],l?$(a,e[14],t,rr):g(e[14]),lr),(!l||16&t)&&X(n,"active",e[4])},i(e){l||(He(u,e),l=!0)},o(e){Le(u,e),l=!1},d(t){t&&O(n),e[17](null),u&&u.d(t),i=!1,s(c)}}}function ir(e,t,n){let o,r,{$$slots:l={},$$scope:s}=t,{data:i}=t,{accept:c=""}=t,{disabled:a=!1}=t,{multiple:d=!0}=t,{folder:u=!1}=t,{uploadURL:p=""}=t,{ready:f=new Promise((()=>({})))}=t,m=0;function $(e,t){if(t=t||"",e.isFile)e.file((e=>h(e)));else if(e.isDirectory){e.createReader().readEntries((e=>e.forEach((e=>{$(e,t+e.name+"/")}))))}}function h(e){const t={id:ft(),status:"client",name:e.name,file:e};n(10,i=d?[...i,t]:[t])}function g(){const e=i.filter((e=>"client"===e.status));if(!e.length)return;const t="function"==typeof p?p(e):function(e){return e.map((e=>{const t=new FormData;return t.append("upload",e.file),fetch(p,{method:"POST",body:t}).then((e=>e.json())).then((e=>e),(()=>({id:e.id,status:"error"}))).catch((e=>console.log(e)))}))}(e);n(11,f=Promise.all(t).then((e=>{e.forEach((e=>{e.status=e.status||"server",v(e.id,e)}))})).catch((e=>{console.log(e)})))}function v(e,t){const o=i.findIndex((t=>t.id===e));n(10,i[o]={...i[o],...t},i)}return ce((()=>{n(3,o.webkitdirectory=u,o)})),e.$$set=e=>{"data"in e&&n(10,i=e.data),"accept"in e&&n(0,c=e.accept),"disabled"in e&&n(1,a=e.disabled),"multiple"in e&&n(2,d=e.multiple),"folder"in e&&n(12,u=e.folder),"uploadURL"in e&&n(13,p=e.uploadURL),"ready"in e&&n(11,f=e.ready),"$$scope"in e&&n(14,s=e.$$scope)},[c,a,d,o,r,function(e){Array.from(e.target.files).forEach((e=>h(e))),g()},function(e){Array.from(e.dataTransfer.items).forEach((e=>{const t=e.webkitGetAsEntry();t&&$(t)})),n(4,r=!1),m=0,g()},function(){0===m&&n(4,r=!0),m++},function(){m--,0===m&&n(4,r=!1)},function(){o.click()},i,f,u,p,s,l,function(t){me.call(this,e,t)},function(e){he[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class cr extends We{constructor(e){super(),Be(this,e,ir,sr,c,{data:10,accept:0,disabled:1,multiple:2,folder:12,uploadURL:13,ready:11})}}function ar(e){let n,o;return{c(){n=new Z(!1),o=F(),n.a=o},m(e,t){n.m("<style>\n@font-face {\nfont-family: 'Roboto';\nfont-style: normal;\nfont-weight: 400;\nsrc: local(''),\n    url('https://cdn.dhtmlx.com/fonts/roboto/regular.woff2') format('woff2'),\n    url('https://cdn.dhtmlx.com/fonts/roboto/regular.woff') format('woff');\n}\n@font-face {\nfont-family: 'Roboto';\nfont-style: normal;\nfont-weight: 500;\nsrc: local(''),\n    url('https://cdn.dhtmlx.com/fonts/roboto/500.woff2') format('woff2'),\n    url('https://cdn.dhtmlx.com/fonts/roboto/500.woff') format('woff');\n}</style>",e,t),N(e,o,t)},p:t,i:t,o:t,d(e){e&&O(o),e&&n.d()}}}class dr extends We{constructor(e){super(),Be(this,e,null,ar,c,{})}}function ur(e){let t,n,o,r,l,s;return o=new dr({}),{c(){t=H("link"),n=z(),Ye(o.$$.fragment),r=z(),l=H("link"),K(t,"rel","preconnect"),K(t,"href","https://cdn.webix.com"),K(t,"crossorigin",""),K(l,"rel","stylesheet"),K(l,"href","https://cdn.dhtmlx.com/fonts/wxi/wx-icons.css")},m(e,i){N(e,t,i),N(e,n,i),Ge(o,e,i),N(e,r,i),N(e,l,i),s=!0},i(e){s||(He(o.$$.fragment,e),s=!0)},o(e){Le(o.$$.fragment,e),s=!1},d(e){e&&O(t),e&&O(n),Je(o,e),e&&O(r),e&&O(l)}}}function pr(e){let t,n,o,r=e[1]&&e[1].default&&function(e){let t,n;const o=e[3].default,r=f(o,e,e[2],null);return{c(){t=H("div"),r&&r.c(),K(t,"class","wx-material-theme"),G(t,"height","100%")},m(e,o){N(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||4&t)&&h(r,o,e,e[2],n?$(o,e[2],t,null):g(e[2]),null)},i(e){n||(He(r,e),n=!0)},o(e){Le(r,e),n=!1},d(e){e&&O(t),r&&r.d(e)}}}(e),l=e[0]&&ur();return{c(){r&&r.c(),t=z(),l&&l.c(),n=F()},m(e,s){r&&r.m(e,s),N(e,t,s),l&&l.m(document.head,null),T(document.head,n),o=!0},p(e,[t]){e[1]&&e[1].default&&r.p(e,t),e[0]?l?1&t&&He(l,1):(l=ur(),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){o||(He(r),He(l),o=!0)},o(e){Le(r),Le(l),o=!1},d(e){r&&r.d(e),e&&O(t),l&&l.d(e),O(n)}}}function fr(e,t,n){let{$$slots:r={},$$scope:l}=t,{fonts:s=!0}=t;const i=t.$$slots;return pe("wx-theme","material"),e.$$set=e=>{n(4,t=o(o({},t),v(e))),"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(2,l=e.$$scope)},t=v(t),[s,i,l,r]}class mr extends We{constructor(e){super(),Be(this,e,fr,pr,c,{fonts:0})}}function $r(e){let n,o;return{c(){n=new Z(!1),o=F(),n.a=o},m(e,t){n.m("<style>\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 500;\nsrc: local(''),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/500.woff2') format('woff2'),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/500.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 400;\nsrc: local(''),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/regular.woff2') format('woff2'),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/regular.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 600;\nsrc: local(''),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/600.woff2') format('woff2'),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/600.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 700;\nsrc: local(''),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/700.woff2') format('woff2'),\n      url('https://cdn.dhtmlx.com/fonts/open-sans/700.woff') format('woff');\n}</style>",e,t),N(e,o,t)},p:t,i:t,o:t,d(e){e&&O(o),e&&n.d()}}}class hr extends We{constructor(e){super(),Be(this,e,null,$r,c,{})}}function gr(e){let t,n,o,r,l,s;return o=new hr({}),{c(){t=H("link"),n=z(),Ye(o.$$.fragment),r=z(),l=H("link"),K(t,"rel","preconnect"),K(t,"href","https://cdn.webix.com"),K(t,"crossorigin",""),K(l,"rel","stylesheet"),K(l,"href","https://cdn.dhtmlx.com/fonts/wxi/wx-icons.css")},m(e,i){N(e,t,i),N(e,n,i),Ge(o,e,i),N(e,r,i),N(e,l,i),s=!0},i(e){s||(He(o.$$.fragment,e),s=!0)},o(e){Le(o.$$.fragment,e),s=!1},d(e){e&&O(t),e&&O(n),Je(o,e),e&&O(r),e&&O(l)}}}function vr(e){let t,n,o,r=e[1]&&e[1].default&&function(e){let t,n;const o=e[3].default,r=f(o,e,e[2],null);return{c(){t=H("div"),r&&r.c(),K(t,"class","wx-willow-theme"),G(t,"height","100%")},m(e,o){N(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||4&t)&&h(r,o,e,e[2],n?$(o,e[2],t,null):g(e[2]),null)},i(e){n||(He(r,e),n=!0)},o(e){Le(r,e),n=!1},d(e){e&&O(t),r&&r.d(e)}}}(e),l=e[0]&&gr();return{c(){r&&r.c(),t=z(),l&&l.c(),n=F()},m(e,s){r&&r.m(e,s),N(e,t,s),l&&l.m(document.head,null),T(document.head,n),o=!0},p(e,[t]){e[1]&&e[1].default&&r.p(e,t),e[0]?l?1&t&&He(l,1):(l=gr(),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){o||(He(r),He(l),o=!0)},o(e){Le(r),Le(l),o=!1},d(e){r&&r.d(e),e&&O(t),l&&l.d(e),O(n)}}}function wr(e,t,n){let{$$slots:r={},$$scope:l}=t,{fonts:s=!0}=t;const i=t.$$slots;return pe("wx-theme","willow"),e.$$set=e=>{n(4,t=o(o({},t),v(e))),"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(2,l=e.$$scope)},t=v(t),[s,i,l,r]}class yr extends We{constructor(e){super(),Be(this,e,wr,vr,c,{fonts:0})}}function br(e){let t,n,o,r,l,s;return o=new hr({}),{c(){t=H("link"),n=z(),Ye(o.$$.fragment),r=z(),l=H("link"),K(t,"rel","preconnect"),K(t,"href","https://cdn.webix.com"),K(t,"crossorigin",""),K(l,"rel","stylesheet"),K(l,"href","https://cdn.dhtmlx.com/fonts/wxi/wx-icons.css")},m(e,i){N(e,t,i),N(e,n,i),Ge(o,e,i),N(e,r,i),N(e,l,i),s=!0},i(e){s||(He(o.$$.fragment,e),s=!0)},o(e){Le(o.$$.fragment,e),s=!1},d(e){e&&O(t),e&&O(n),Je(o,e),e&&O(r),e&&O(l)}}}function xr(e){let t,n,o,r=e[1]&&e[1].default&&function(e){let t,n;const o=e[3].default,r=f(o,e,e[2],null);return{c(){t=H("div"),r&&r.c(),K(t,"class","wx-willow-dark-theme"),G(t,"height","100%")},m(e,o){N(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||4&t)&&h(r,o,e,e[2],n?$(o,e[2],t,null):g(e[2]),null)},i(e){n||(He(r,e),n=!0)},o(e){Le(r,e),n=!1},d(e){e&&O(t),r&&r.d(e)}}}(e),l=e[0]&&br();return{c(){r&&r.c(),t=z(),l&&l.c(),n=F()},m(e,s){r&&r.m(e,s),N(e,t,s),l&&l.m(document.head,null),T(document.head,n),o=!0},p(e,[t]){e[1]&&e[1].default&&r.p(e,t),e[0]?l?1&t&&He(l,1):(l=br(),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){o||(He(r),He(l),o=!0)},o(e){Le(r),Le(l),o=!1},d(e){r&&r.d(e),e&&O(t),l&&l.d(e),O(n)}}}function kr(e,t,n){let{$$slots:r={},$$scope:l}=t,{fonts:s=!0}=t;const i=t.$$slots;return pe("wx-theme","willow-dark"),e.$$set=e=>{n(4,t=o(o({},t),v(e))),"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(2,l=e.$$scope)},t=v(t),[s,i,l,r]}class Sr extends We{constructor(e){super(),Be(this,e,kr,xr,c,{fonts:0})}}const Ir={core:{ok:"OK",cancel:"Cancel"},calendar:{monthFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hours:"Hours",minutes:"Minutes",done:"Done",clear:"Clear",today:"Today",am:["am","AM"],pm:["pm","PM"],weekStart:7,timeFormat:24}};function _r(e){let t;const n=e[3].default,o=f(n,e,e[2],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,[r]){o&&o.p&&(!t||4&r)&&h(o,n,e,e[2],t?$(n,e[2],r,null):g(e[2]),null)},i(e){t||(He(o,e),t=!0)},o(e){Le(o,e),t=!1},d(e){o&&o.d(e)}}}function Mr(e,t,n){let{$$slots:o={},$$scope:r}=t,{words:l=null}=t,{optional:s=!1}=t,i=fe("wx-i18n");return i||(i=yt(Ir)),i=i.extend(l,s),pe("wx-i18n",i),e.$$set=e=>{"words"in e&&n(0,l=e.words),"optional"in e&&n(1,s=e.optional),"$$scope"in e&&n(2,r=e.$$scope)},[l,s,r,o]}class Cr extends We{constructor(e){super(),Be(this,e,Mr,_r,c,{words:0,optional:1})}}const Tr=[];function Dr(e,n=t){let o;const r=new Set;function l(t){if(c(e,t)&&(e=t,o)){const t=!Tr.length;for(const t of r)t[1](),Tr.push(t,e);if(t){for(let e=0;e<Tr.length;e+=2)Tr[e][0](Tr[e+1]);Tr.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,i=t){const c=[s,i];return r.add(c),1===r.size&&(o=n(l)||t),s(e),()=>{r.delete(c),0===r.size&&o&&(o(),o=null)}}}}const Er={label:{show:!0},description:{show:!1},progress:{show:!1},start_date:{show:!1},end_date:{show:!1},users:{show:!1},priority:{show:!1,values:[{id:1,color:"#FE6158",label:"high"},{id:2,color:"#F1B941",label:"medium"},{id:3,color:"#77D257",label:"low"}]},color:{show:!1,values:["#33B0B4","#0096FA","#F1B941"]},cover:{show:!1},attached:{show:!1},menu:{show:!0}},Nr=[{key:"label",type:"text",label:"Label"},{key:"description",type:"textarea",label:"Description"},{type:"combo",label:"Priority",key:"priority"},{type:"color",label:"Color",key:"color"},{type:"progress",key:"progress",label:"Progress"},{type:"date",key:"start_date",label:"Start date"},{type:"date",key:"end_date",label:"End date"},{type:"multiselect",key:"users",label:"Users"}],Or={debounce:100,autoSave:!0},Ar={kanban:"wx-kanban",toolbar:"wx-kanban-toolbar",editor:"wx-kanban-editor",content:"wx-kanban-content",scrollableContent:"wx-kanban-scrollable-content"},Hr={"wxi-message":{path:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2M20 16H5.2L4 17.2V4H20V16Z"},"wxi-like":{path:"M5,9V21H1V9H5M9,21A2,2 0 0,1 7,19V9C7,8.45 7.22,7.95 7.59,7.59L14.17,1L15.23,2.06C15.5,2.33 15.67,2.7 15.67,3.11L15.64,3.43L14.69,8H21C22.11,8 23,8.9 23,10V12C23,12.26 22.95,12.5 22.86,12.73L19.84,19.78C19.54,20.5 18.83,21 18,21H9M9,19H18.03L21,12V10H12.21L13.34,4.68L9,9.03V19Z"}},Lr=({store:e})=>{const{readonly:t}=e.getState(),n=[{id:"duplicate-card",icon:"wxi-content-copy",text:"Duplicate"},{id:"delete-card",icon:"wxi-delete",text:"Delete"}];return!t?.select&&t?.edit?[{id:"set-edit",icon:"wxi-edit",text:"Edit"},...n]:n},Rr=({columns:e,columnIndex:t})=>[{id:"add-card",icon:"wxi-plus",text:"Add new card"},{id:"set-edit",icon:"wxi-edit",text:"Rename"},{id:"move-column:left",icon:"wxi-arrow-left",text:"Move left",disabled:t<=0},{id:"move-column:right",icon:"wxi-arrow-right",text:"Move right",disabled:t>=e.length-1},{id:"delete-column",icon:"wxi-delete",text:"Delete"}],zr=({rows:e,rowIndex:t})=>[{id:"set-edit",icon:"wxi-edit",text:"Rename"},{id:"move-row:up",icon:"wxi-arrow-up",text:"Move up",disabled:t<=0},{id:"move-row:down",icon:"wxi-arrow-down",text:"Move down",disabled:t>=e.length-1},{id:"delete-row",icon:"wxi-delete",text:"Delete"}];function Fr(e,t){return!(!e||!t)&&e==t}function jr(e,t){return!!e?.find((e=>Fr(e,t)))}function qr(e,t){return`${e}`+(t?`:${t}`:"")}function Pr(e,t,n){return n?e[t]+":"+e[n]:e[t]}function Kr(e){var t;const{shape:n,defaultMenuItems:o,store:r}=e,l=n||{};if(!1===l.menu)return{menu:{show:!1,items:()=>null}};if(l.menu||(l.menu={}),Array.isArray(l.menu.items)){const e=[...l.menu.items];l.menu.items=()=>e}const s=l.menu.items||o;return l.menu.items=e=>{let t=s({...e,store:r});return t&&(t=Ur(t)),t},(t=l.menu).show??(t.show=!0),l}function Ur(e){return e.map((e=>{const t={...e};return e.items&&(t.data=e.items),t.data&&(t.data=Ur(t.data)),e.label&&(t.text=e.label),t}))}function Vr(e,t){const{cards:n,columnKey:o,sort:r}=e;if(!r)return n;const l=n.reduce(((e,t)=>(e[t[o]]=e[t[o]]||[],e[t[o]].push(t),e)),{}),s=(e,t)=>`${"function"==typeof t?t(e):e[t]}`;return Object.keys(l).forEach((e=>{let n;if(n="columns"in r?r.columns[e]||{}:r,n.by){t=t||(e=>{const{dir:t}=e,n=e.by;return(e,o)=>{const r=s(e,n),l=s(o,n);return"desc"===t?l.localeCompare(r,void 0,{numeric:!0}):r.localeCompare(l,void 0,{numeric:!0})}});l[e].sort(t(n))}})),Object.values(l).flat()}let Yr=0;function Gr(e,{id:t,before:n,columnId:o,rowId:r}){const l=e.getState(),s=l.columnKey,i=l.rowKey,c=l.cards.findIndex((e=>Fr(e.id,t)));if(c<0)return;if(!l.cardsMap[qr(o,r)])return;if(Fr(t,n))return;const a=l.cards[c],d=qr(o,r)===Pr(a,s,i),u=Fr(o,a[s]);if(e.getState().areasMeta[qr(o,r)].noFreeSpace&&!u&&!d)return;const p=l.cards.splice(c,1)[0],f={...p},m=l.cardsMap[Pr(f,l.columnKey,l.rowKey)]||[],$=m.findIndex((e=>Fr(e.id,t)))||0,h=m[$+1]||{};if(p[s]=o,i&&r&&(p[i]=r),n){const e=l.cards.findIndex((e=>Fr(e.id,n)));l.cards.splice(e,0,p)}else l.cards.push(p);return l.sort&&(l.cards=Vr({...l,cards:l.cards},e.sortRule)),e.setState({cards:l.cards}),()=>{const n=f[s],o=i&&f[i];e.in.exec("move-card",{id:t,before:h.id,columnId:n,rowId:o,$meta:{skipHistory:!0}})}}function Jr(e,t){const n=t.card||{},o=t.id||n.id||tt(),r=e.getState(),l=r.columnKey,s=r.rowKey,i=t.rowId||s&&n[s]||r.rows[0].id;i&&!t.rowId&&(t.rowId=i);const c=t.columnId||n[l]||r.columns[0].id;if(r.areasMeta[qr(c,i)].noFreeSpace)return!1;const a={[l]:c,id:o,...n};s&&(a[s]=i);let d=r.cards;return d.push(a),r.sort&&(d=Vr({...r,cards:d},e.sortRule)),e.setState({cards:d}),t.before&&Gr(e,{...t,id:o}),!1!==t.select&&e.in.exec("select-card",{id:o}),t.card=a,t.id=o,()=>{e.in.exec("delete-card",{id:o,$meta:{skipHistory:!0}})}}function Br(e,{id:t,card:n,replace:o}){const r=e.getState();let l,s=r.cards.map((e=>Fr(e.id,t)?(l={...e},o?{id:t,...n}:{...e,...n}):e));return r.sort&&(s=Vr({...r,cards:s},e.sortRule)),e.setState({cards:s}),()=>{e.in.exec("update-card",{id:t,card:l,replace:!0,$meta:{skipHistory:!0}})}}function Wr(e,{id:t,card:n}){const{cards:o,columnKey:r}=e.getState(),l=o.find((e=>Fr(e.id,t)));if(l){const o={...l,id:tt(),...n||{}};e.in.exec("add-card",{columnId:o[r],before:t,card:o})}}function Xr(e,{id:t}){e.in.exec("unselect-card",{id:t});const n=e.getState(),o=n.cards.findIndex((e=>Fr(e.id,t))),r=n.cards[o],l=n.cards[o+1]?.id,s=n.cards.filter((e=>!Fr(e.id,t)));return e.setState({cards:s}),()=>{e.in.exec("add-card",{columnId:r[n.columnKey],before:l,card:r,$meta:{skipHistory:!0,restore:t}})}}function Qr(e,{id:t,before:n}){const{columns:o}=e.getState(),r=o.findIndex((e=>Fr(e.id,t))),l=o[r+1]?.id,s=o.splice(r,1)[0];if(n){const e=o.findIndex((e=>Fr(e.id,n)));o.splice(e,0,s)}else o.push(s);return e.setState({columns:o}),()=>{e.in.exec("move-column",{id:t,before:l,$meta:{skipHistory:!0}})}}function Zr(e,t){const n=t.id||t.column?.id||tt(),o=e.getState().columns,r={id:n,label:"Untitled",...t.column||{}};return o.push(r),e.setState({columns:o}),t.before&&Qr(e,{...t,id:n}),e.in.exec("scroll",{to:"column",id:n}),t.id=n,t.column=r,()=>{e.in.exec("delete-column",{id:n,$meta:{skipHistory:!0}})}}function el(e,t){const n=e.getState();let o;const r=t.id||t.column?.id,l=n.columns.map((e=>Fr(e.id,r)?(o={...e},t.replace?{id:r,...t.column}:{...e,...t.column}):e));return e.setState({columns:l}),()=>{e.in.exec("update-column",{column:o,replace:!0,$meta:{skipHistory:!0}})}}function tl(e,{id:t}){if(t){const n=e.getState(),o=n.columns.findIndex((e=>Fr(e.id,t))),r=n.columns[o],l=n.columns[o+1]?.id,s=n.columns.filter((e=>!Fr(e.id,t)));return e.setState({columns:s}),()=>{e.in.exec("add-column",{column:r,before:l,$meta:{skipHistory:!0,restore:t}})}}}function nl(e,{id:t,before:n}){const{rows:o,rowKey:r}=e.getState();if(!r)return;const l=o.findIndex((e=>Fr(e.id,t))),s=o[l+1]?.id,i=o.splice(l,1)[0];if(n){const e=o.findIndex((e=>Fr(e.id,n)));o.splice(e,0,i)}else o.push(i);return e.setState({rows:o}),()=>{e.in.exec("move-row",{id:t,before:s,$meta:{skipHistory:!0}})}}function ol(e,t){const n=e.getState(),o=n.rows,r=t.id||t.row?.id||tt(),l={id:r,label:"Untitled",collapsed:!1,...t.row||{}};if(o.push(l),!n.rowKey){const e=n.rowKey="rowKey";n.rows[0]={id:"default",label:"Untitled"},n.cards.map((t=>{t[e]="default"}))}return e.setState({rows:o,rowKey:n.rowKey}),t.before&&nl(e,{id:r,before:t.before}),e.in.exec("scroll",{to:"row",id:r}),t.id=r,t.row=l,()=>{e.in.exec("delete-row",{id:r,$meta:{skipHistory:!0}})}}function rl(e,t){const n=e.getState();let o;const r=t.id||t.row?.id,l=n.rows.map((e=>Fr(e.id,r)?(o={...e},t.replace?{id:r,...t.row}:{...e,...t.row}):e));return e.setState({rows:l}),()=>{e.in.exec("update-row",{row:o,replace:!0,$meta:{skipHistory:!0}})}}function ll(e,{id:t}){if(t){const n=e.getState(),{rows:o}=n,r=o.findIndex((e=>Fr(e.id,t))),l=o[r],s=o[r+1]?.id;return o.splice(r,1),e.setState({rows:o}),()=>{e.in.exec("add-row",{row:l,before:s,$meta:{skipHistory:!0,restore:t}})}}}function sl(e,{id:t,columnId:n,rowId:o,before:r,source:l,dragItemsCoords:s,dropAreasCoords:i}){const{areasMeta:c,cardsMeta:a,layout:d}=e.getState();i?.forEach((e=>{e.id&&(c[e.id].height="default:lazy"!==d?e.height:null)}));[...l].forEach((e=>{const t=a[e]||{};t.dragging=!0,a[e]=t}));const u=`${n}`+(o?`:${o}`:"");e.setState({dragItemId:t,dragItemsCoords:s,overAreaId:u,before:r,areasMeta:c,cardsMeta:a})}function il(e,{rowId:t,columnId:n,before:o}){const{areasMeta:r}=e.getState(),l=`${n}`+(t?`:${t}`:"");if(!n||!l)return;const s=r[l],i=Fr(l,qr(s.columnId||"",s.rowId));s.noFreeSpace&&!i||e.setState({overAreaId:l,before:o})}function cl(e,{id:t,columnId:n,rowId:o,before:r,source:l}){const s={dragItemsCoords:null,dragItemId:null,before:null,overAreaId:null,areasMeta:{}},{areasMeta:i,cardsMeta:c}=e.getState(),a=`${n}`+(o?`:${o}`:"");if(a&&t){const n=i[a],{columnId:o,rowId:s}=n;if(l.length>1){const t=et();l.forEach((n=>{e.in.exec("move-card",{id:n,columnId:o,rowId:s,before:r,$meta:{batch:t}});const l=c[n];l&&(l.dragging=!1)}))}else{e.in.exec("move-card",{id:t,columnId:o,rowId:s,before:r});const n=c[t];n&&(n.dragging=!1)}}s.cardsMeta=c;const d=e.getState().areasMeta;Object.keys(d).forEach((e=>{s.areasMeta[e]={...d[e],height:null}})),e.setState(s)}function al(e,{id:t,groupMode:n}){const{selected:o,search:r}=e.getState();if(t){let l=null;if(n){if(l=o?[...o]:[],l.includes(t))return void e.in.exec("unselect-card",{id:t});l.push(t)}else l=[t];r&&e.in.exec("set-search",{value:null}),e.setState({selected:l}),l.length>1?e.in.exec("set-edit",null):e.in.exec("set-edit",{cardId:t})}}function dl(e,{id:t}){const n=e.getState().selected;if(n){if(e.in.exec("set-edit",null),!t)return void e.setState({selected:null});const o=n.filter((e=>!Fr(e,t)));e.setState({selected:o})}}function ul(e,t){return`${e}`.toLowerCase().includes(`${t}`.toLowerCase())}function pl(e,t,n){return n?ul(e[n]||"",t):ul(e.label||"",t)||ul(e.description||"",t)}function fl(e,{value:t,by:n,searchRule:o}){const r=e.getState(),l=t?.trim(),s=r.cardsMeta;let i={value:t,by:n};if(l){const e=function(e){return Object.keys(e.cardsMap).reduce(((t,n)=>t.concat(e.cardsMap[n])),[])}(r);e.map((e=>{const t=s[e.id]=s[e.id]||{};(o||pl)(e,l,n)?(t.found=!0,t.dimmed=!1):(t.found=!1,t.dimmed=!0)}))}else Object.keys(s).forEach((e=>{const t=s[e];t&&(delete t.dimmed,delete t.found)})),i=null;e.setState({cardsMeta:s,search:i})}function ml(e,t){e.setState({scroll:t})}function $l(e,t){if(!t)return void e.setState({sort:null});const n=e.getState(),o=t.columnId,r=t.by||"label",l=t.dir||"asc",s=t.preserve||!1;let i=n.sort||{};o?("column"in i==!1&&(i={columns:{}}),i.columns[o]={by:r,dir:l,preserve:s}):i={dir:l,by:r,preserve:s};const c=Vr({...n,sort:i},e.sortRule);s?e.setState({sort:i,cards:c}):e.setState({cards:c})}function hl(e,t){e.setState({edit:t})}function gl(e,{id:t,cardId:n,comment:o}){if(n){const r=e.getState(),{currentUser:l}=r,s=t||o.id||tt(),i=n||o.cardId;if(!i||!l)return;const c=r.cards.map((e=>Fr(e.id,i)?{...e,comments:[...e.comments||[],{...o,id:s,cardId:i,userId:l,date:o.date||new Date}]}:e));return e.setState({cards:c}),()=>{e.in.exec("delete-comment",{id:s,cardId:i,$meta:{skipHistory:!0}})}}}function vl(e,{cardId:t,id:n,comment:o}){if(t){const r=e.getState(),l=n||o.id,s=t||o.cardId;if(!l||!s)return;let i={};const c=r.cards.map((e=>Fr(e.id,s)?{...e,comments:(e.comments||[]).map((e=>Fr(e.id,l)?(i={...e},{...e,...o}):e))}:e));return e.setState({cards:c}),()=>{e.in.exec("update-comment",{id:l,cardId:s,comment:i,$meta:{skipHistory:!0}})}}}function wl(e,{cardId:t,id:n}){if(t){const o=e.getState();if(!n||!t)return;let r={};const l=o.cards.map((e=>Fr(e.id,t)?{...e,comments:(e.comments||[]).filter((e=>!Fr(e.id,n)||(r={...e},!1)))}:e));return e.setState({cards:l}),()=>{e.in.exec("add-comment",{id:n,cardId:t,comment:r,$meta:{skipHistory:!0}})}}}function yl(e,{id:t,link:n}){const o=e.getState().links,r=t||n.id||tt();if(o.find((e=>Fr(r,e.id))))return;const l={...n,id:r};return o.push(l),e.setState({links:o}),()=>{e.in.exec("delete-link",{id:r,$meta:{skipHistory:!0}})}}function bl(e,{id:t}){if(t){const n=e.getState(),o=n.links.find((e=>Fr(e.id,t))),r=n.links.filter((e=>!Fr(e.id,t)));return e.setState({links:r}),()=>{e.in.exec("add-link",{id:t,link:o,$meta:{skipHistory:!0}})}}}function xl(e,{cardId:t}){const n=e.getState(),{currentUser:o}=n;if(!t||!o)return;const r=n.cards.map((e=>Fr(e.id,t)?{...e,votes:[...e.votes||[],o]}:e));e.setState({cards:r})}function kl(e,{cardId:t}){const n=e.getState(),{currentUser:o}=n;if(!t||!o)return;const r=n.cards.map((e=>Fr(e.id,t)?{...e,votes:(e.votes||[]).filter((e=>!Fr(e,o)))}:e));e.setState({cards:r})}class Sl extends lt{constructor(e,t){super(e),this.in=new st,this.out=new st,this.in.setNext(this.out.exec),this.config={history:!0,...t||{}},this._router=new ot(super.setState.bind(this),[{in:["cards","rows","columns","columnKey","rowKey"],out:["areasMeta","cardsMap"],exec:e=>{const t=this.getState(),{rows:n,columns:o,columnKey:r,rowKey:l,cards:s}=t,i={},c={};if(!r)return{cardsMap:c,areasMeta:i};s.map((e=>{const t=Pr(e,r,l);c[t]=c[t]||[],c[t]?.push(e)})),o.map((e=>{c[e.id]=c[e.id]||[],l&&n.map((t=>{const n=qr(e.id,t.id);i[n]={columnId:e.id,rowId:t.id,column:e,row:t,cardsCount:0},c[n]=c[n]||[],c[e.id]=c[e.id]?.concat(c[n]||[])})),i[e.id]={columnId:e.id,column:e,cardsCount:0}})),this._computeLimits({areasMeta:i,cardsMap:c}),this.setState({areasMeta:i,cardsMap:c},e)}}],{}),this._initStructure();const n={"add-card":Jr,"update-card":Br,"move-card":Gr,"duplicate-card":Wr,"delete-card":Xr,"add-column":Zr,"update-column":el,"move-column":Qr,"delete-column":tl,"add-row":ol,"update-row":rl,"move-row":nl,"delete-row":ll,"start-drag-card":sl,"drag-card":il,"end-drag-card":cl,"set-search":fl,"select-card":al,"unselect-card":dl,scroll:ml,"set-sort":$l,"set-edit":hl,"add-comment":gl,"update-comment":vl,"delete-comment":wl,"add-link":yl,"delete-link":bl,"add-vote":xl,"delete-vote":kl};this._setHandlers(n)}setState(e,t){this._router.setState(e,t)}init(e){const{cards:t=[],links:n=[],columns:o=[],rows:r,columnKey:l="column",rowKey:s="",sort:i=null,readonly:c=!1,...a}=e,d=this._normalizeReadonlyConfig(c);let u=this._normalizeCards(t);i&&(u=Vr({columnKey:l,sort:i,cards:u},this.sortRule));const p=o.map((e=>({...e}))),f=(s&&r||[{id:""}]).map((e=>({...e}))),{cardShape:m,columnShape:$,rowShape:h}=this._normalizeShapes({...e,cards:u,readonly:d}),g={...a,cards:u,columns:p,columnKey:l,rowKey:s,rows:f,cardShape:m,columnShape:$,rowShape:h,readonly:d};this._router.init(g),this.setState({edit:null,selected:null})}undo(){const{history:e}=this.getState(),t=e.undo.pop();if(t)if("object"==typeof t)t.undo(),e.redo.push({ev:t.ev,key:t.key});else if("number"==typeof t){const n=e.batches[t];for(let e=n.length-1;e>=0;e--)n[e].undo();e.redo.push(t)}this.setState({history:e})}redo(){const{history:e}=this.getState(),t=[...e.redo],n=t.pop();if(n)if("object"==typeof n){const{ev:o,key:r}=n;this.in.exec(r,o),this.setState({history:{...e,redo:t}})}else if("number"==typeof n){const o=e.batches[n];delete e.batches[n],o.forEach((e=>{const{ev:t,key:n}=e;this.in.exec(n,t)})),this.setState({history:{...e,redo:t}})}}_setHandlers(e){const{history:t}=this.getState();Object.keys(e).forEach((n=>{this.in.on(n,(o=>{var r,l;const s=e[n](this,o),i=o?.$meta;this.config.history&&s&&!i?.skipHistory&&(i?.batch?((r=t.batches)[l=i.batch]??(r[l]=[]),t.batches[i.batch].push({undo:s,key:n,ev:o}),t.undo.includes(i.batch)||t.undo.push(i.batch)):t.undo.push({undo:s,key:n,ev:o}),t.redo.forEach((e=>{"string"==typeof e&&delete t.batches[e]})),t.redo=[],this.setState({history:t}))}))}))}_initStructure(){this.setState({columnKey:"column",rowKey:"",columns:[],rows:[],cards:[],cardsMap:{},cardsMeta:{},cardShape:Er,columnShape:{},rowShape:{},areasMeta:{},dragItemsCoords:null,dragItemId:null,before:null,overAreaId:null,selected:null,search:null,scroll:null,sort:null,edit:null,readonly:null,cardHeight:null,layout:"default:default",history:{undo:[],redo:[],batches:{}},currentUser:null,links:[]})}_computeLimits({areasMeta:e,cardsMap:t}){for(const n in e){const o=e[n],r=o.column,l=o.rowId;let s=0;r.limit&&(s="object"==typeof r.limit?l?r.limit[l]||0:Object.keys(r.limit).reduce(((e,t)=>e+r.limit[t]),0):r.limit);const i=t[n];i&&(o.cardsCount=i.length,o.totalLimit=s,o.isOverLimit=!!s&&i.length>s,o.noFreeSpace=r.strictLimit&&!!s&&i.length>=s)}}_normalizeCards(e){return e.map((e=>{const t=e.id||et();return{...e,id:t}}))}_normalizeShapes(e){const{cardShape:t=Er,columnShape:n,rowShape:o,readonly:r}=e;for(const e in t)"boolean"==typeof t[e]&&(t[e]={show:t[e]});let l=Object.keys(t).reduce(((e,n)=>{const o=Er[n];return e[n]=o?{...o,...t[n]}:t[n],e}),{});r&&(r.edit||(l.menu=l.menu||{},l.menu.show=!1)),l=function(e){return e.users?.values&&e.users.values.forEach((e=>{if(!e.id)throw"Please provide user IDs";e.avatar||(e.avatarColor=["#00D19A","#2F77E3","#FFC975"][Math.floor(Yr++%3)])})),e}(l),l=Kr({store:this,shape:l,defaultMenuItems:Lr});return{cardShape:l,columnShape:Kr({store:this,shape:n,defaultMenuItems:Rr}),rowShape:Kr({store:this,shape:o,defaultMenuItems:zr})}}_normalizeReadonlyConfig(e){let t={add:!0,dnd:!0,edit:!0,select:!0};return"object"==typeof e?t={...t,...e}:!0===e&&Object.keys(t).forEach((e=>{t[e]=!1})),t}}function Il(e,t){return e>=t[0]&&e<=t[1]}function _l(e,t,n){const o=t.x-n.x,r=t.y-n.y;return{x:e.x-o,y:e.y-r}}function Ml(e){const t={};if(t.target=e.target,"touches"in e){const n=e.touches[0];t.touches=e.touches,t.clientX=n.clientX,t.clientY=n.clientY}else t.clientX=e.clientX,t.clientY=e.clientY;return t}function Cl(e,t="data-id"){let n=!e.tagName&&e.target?e.target:e;for(;n;){if(n.getAttribute){if(n.getAttribute(t))return n}n=n.parentNode}return null}function Tl(e,t="data-id"){const n=Cl(e,t);return n?n.getAttribute(t):null}function Dl(e,t="data-id"){const n=Cl(e,t);return n?function(e){if("string"==typeof e){const t=1*e;if(!isNaN(t))return t}return e}(n.getAttribute(t)):null}function El(e,t,n){const o=document.createElement("DIV");o.className="wx-theme",e.appendChild(o);let r=window.getComputedStyle(o).getPropertyValue("--wx-theme-name");return e.removeChild(o),(t&&t!==r||!t&&!r&&n)&&(r&&e.classList.remove(`wx-${r}-theme`),r=t||n,e.classList.add(`wx-${r}-theme`)),r}function Nl(e,t){if(t.readonly)return;let n,o;const r=e;let l,s,i,c,a,d,u,p,f,m;const $=(e,n)=>{t.api.exec(e,n),t.onAction&&t.onAction(e,n)},{data:h}=t.api.getStores();function g(e){if(s&&clearTimeout(s),l){const t=l.getBoundingClientRect(),n={x:l.scrollLeft,y:l.scrollTop},o=50;e.clientX>t.width+t.left-o&&l.scrollTo(n.x+o,n.y),e.clientX<t.left+o&&l.scrollTo(n.x-o,n.y),e.clientY>t.height+t.top-o&&l.scrollTo(n.x,n.y+o),e.clientY<t.top+o&&l.scrollTo(n.x,n.y-o),s=setTimeout((()=>{g(e)}),100)}}function v(e){const t={},n=u.find((t=>function(e,t){const{x:n,y:o}=e,r=Il(n,[t.x,t.right]),l=Il(o,[t.y,t.bottom]);return r&&l}(e,t)))?.id;if(n){const[o,r]=n.split(":");t.overAreaId={rowId:r,columnId:o};const l=d[n];t.before=l.find((t=>Il(e.y,[t.y,t.bottom])))?.id}return t}function w(e,t,o,r,l){if(e.touches&&e.touches.length>1)return;const s=r.itemId;-1===l?.indexOf(s)&&($("select-card",{id:s}),l=[s]),i=_l(t,r,a[s]),function(e){const t=document.querySelector(".wx-kanban");t.classList.add(".wx-dragged"),e&&e.length>1&&t.style.setProperty("--wx-kanban-dragged-cards-count",JSON.stringify(`${e.length}`));t.appendChild(n),n.classList.add("wx-dragged-card"),n.style.position="fixed",n.style.left=i.x+"px",n.style.top=i.y+"px",document.body.classList.add("wx-ondrag")}(l);const c=v(o);f=c.before,p=c.overAreaId,m=l||[s],$("start-drag-card",{id:s,rowId:p.rowId,columnId:p.columnId,before:f,source:m,dragItemsCoords:a,dropAreasCoords:u})}function y(e){const t=Ml(e);if(t.touches&&t.touches.length>1||"button"in e&&0!==e.button)return;const s=Cl(t.target,"data-drag-item");if(l=r.querySelector(`[data-kanban-id="${Ar.content}"]`),s){const i=Dl(s,"data-drag-item"),p=Dl(t.target,"data-drag-item"),f=h.getState().selected,m=f&&f.length>1?[...f,i]:[i],$=function(e,t,n=!1){const o=Array.from(e.querySelectorAll("[data-drop-area]")),r=Array.isArray(t)?t:[t],l=e.querySelector(`[data-drag-item='${r[r.length-1]}']`),s=l?.offsetHeight||300,i={},c=[],a=o.reduce(((e,t)=>{const o=JSON.parse(JSON.stringify(t.getBoundingClientRect())),l=t.getAttribute("data-drop-area"),a=Array.from(t.querySelectorAll("[data-drag-item]")),d=[],u=a.reduce(((e,t)=>{const n=JSON.parse(JSON.stringify(t.getBoundingClientRect())),o=t.getAttribute("data-drag-item"),l=e[e.length-1],s=l?.bottom??n.y,c={...n,y:s,id:o};return i[o]=c,e.push(c),jr(r,o)||d.push(o),e}),[]),p=d.map(((e,t)=>({...u[t],id:e})));if(!n){const e=t.offsetParent,n=30;t.offsetTop+t.offsetHeight+n>=e.scrollHeight&&(o.bottom+=s+n,o.height+=s+n)}return c.push({...o,id:l}),e[l]=p,e}),{});return{dragItemsCoords:i,dropAreasCoords:c,dropAreaItemsCoords:a}}(r,m);a=$.dragItemsCoords,u=$.dropAreasCoords,d=$.dropAreaItemsCoords,n=s.cloneNode(!0),o="touches"in e?{up:"touchend",move:"touchmove"}:{up:"mouseup",move:"mousemove"},document.addEventListener(o.move,b),document.addEventListener(o.up,x),c={x:t.clientX,y:t.clientY,itemId:i,itemsId:m,itemRect:a[i],areaId:p,scroll:{x:l.scrollLeft,y:l.scrollTop}}}}function b(e){e.preventDefault(),e.stopPropagation();const t=Ml(e);if(g(t),!c)return;const o=h.getState(),{selected:r,dragItemId:s}=o,d=function(e,t,n){const o=n.scroll,r=t.scrollLeft,l=t.scrollTop;return{x:e.clientX+(r-o.x),y:e.clientY+(l-o.y)}}(t,l,c),u={x:t.clientX,y:t.clientY};!s&&function(e,t,n=5){return Math.abs(t.x-e.x)>n||Math.abs(t.y-e.y)>n}(c,u)&&w(t,u,d,c,r),s&&function(e,t,o,r){const{dragItemId:l}=e,s=a[r.itemId];i=_l(t,r,s),n.style.left=i.x+"px",n.style.top=i.y+"px";const c=v(o),d={id:l,rowId:p.rowId,columnId:p.columnId,before:f,source:m};!c.overAreaId?.columnId||d.rowId===c.overAreaId?.rowId&&d.columnId===c.overAreaId?.columnId||(p=c.overAreaId,d.rowId=p.rowId,d.columnId=p.columnId),f!==c.before&&(f=d.before=c.before),$("drag-card",d)}(o,u,d,c)}function x(){document.removeEventListener(o.move,b),document.removeEventListener(o.up,x),function(){const e=document.querySelector(".wx-kanban");n.parentNode&&e.removeChild(n),document.body.classList.remove("wx-ondrag"),e.style.removeProperty("--wx-kanban-dragged-cards-count"),e.classList.remove(".wx-dragged"),n=null}(),s&&clearTimeout(s);const{dragItemId:e}=h.getState();e&&$("end-drag-card",{id:e,rowId:p.rowId,columnId:p.columnId,before:f,source:m}),c=null}return r.addEventListener("mousedown",y),r.addEventListener("touchstart",y),r.addEventListener("dragstart",(e=>e.preventDefault())),{destroy(){r.removeEventListener("mousedown",y),r.removeEventListener("touchstart",y)}}}function Ol(e,t){if(t.readonly)return;let n;const{api:o}=t,r=e=>{n=e.target};o.on("select-card",(({id:e})=>{n||setTimeout((()=>{o.exec("scroll",{to:"card",id:e})}),100)}));const l=e=>{if(!n)return;if(Tl(e.target,"data-ignore-selection"))return;const t=Dl(n,"data-drag-item"),r=Dl(n,"data-kanban-id"),l=e.metaKey||e.ctrlKey,s=e.shiftKey;n===e.target&&r!==Ar.editor&&function(e){const{itemId:t,groupMode:n,rangeMode:o,api:r}=e,{cardsMap:l,columnKey:s}=r.getState(),{selected:i}=r.getState();if(!t&&i?.length)return void r.exec("unselect-card",{id:null});if(o&&i?.length){const e=r.getCard(t),n=r.getCard(i[i.length-1]),o=function(e,t,n){if(!e||!t||!n)return!1;return Fr(e[n],t[n])}(e,n,s);if(o){const o=Object.keys(l).filter((t=>t.split(":")[0]===e[s])).reduce(((e,t)=>{const n=l[t];return e.concat(n)}),[]),c=o.findIndex((e=>Fr(e.id,t))),a=o.findIndex((e=>Fr(e.id,n?.id))),d=Math.min(c,a),u=Math.max(c,a);return void o.slice(d,u+1).forEach((e=>{-1===i.indexOf(e.id)&&r.exec("select-card",{id:e.id,groupMode:!0})}))}}r.exec("select-card",{id:t,groupMode:n})}({itemId:t,groupMode:l,rangeMode:s,api:o}),n=null};return e.addEventListener("mousedown",r),e.addEventListener("mouseup",l),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",l)}}}function Al(e,t){const{api:n,tick:o=(()=>new Promise((e=>{requestAnimationFrame((()=>{e()}))})))}=t,r=n.getReactiveState().scroll,l={card:"data-drag-item",column:"data-column-header",row:"data-row-header"};r?.subscribe((t=>{if(t){const{to:n,id:s,options:i}=t;(function(t,n){return new Promise((r=>{o().then((()=>{const o=e.querySelector(t);o&&(o.scrollIntoView(n||{behavior:"smooth",block:"nearest",inline:"nearest"}),r(!0)),r(!1)}))}))})(`[${l[n]}="${s}"]`,i).then((e=>{e&&r.set(null)})).catch()}}))}function Hl(e){let t=!1;function n(e){1===e.buttons&&(t=!0)}function o(){t=!1,r&&r()}let r=null;function l(n){t&&(r&&r(),r=function(e,t,n={shift:20}){let o=null;return function r(){if(t){const l=t.getBoundingClientRect(),s={x:t.scrollLeft,y:t.scrollTop},{shift:i}=n;e.clientX>l.width+l.left-i&&t.scrollTo(s.x+i,s.y),e.clientX<l.left+i&&t.scrollTo(s.x-i,s.y),e.clientY>l.height+l.top-i&&t.scrollTo(s.x,s.y+i),e.clientY<l.top+i&&t.scrollTo(s.x,s.y-i),o=setTimeout((()=>{r()}),100)}}(),()=>{o&&clearTimeout(o)}}(n,e))}function s(){r&&(r(),r=null),t=!1}return document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",s),e.addEventListener("mousedown",n),e.addEventListener("mouseover",n),e.addEventListener("mouseleave",o),{destroy:()=>{document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",s),e.removeEventListener("mousedown",n),e.removeEventListener("mouseover",n),e.removeEventListener("mouseleave",o)}}}function Ll(e,t){if(t.readonly)return;const n=t.locale,{api:o}=t,r=t.onAction;let l=t.inFocus||!1;function s(e){if(l){const t=`${e.ctrlKey||e.metaKey?"ctrl+":""}${e.shiftKey?"shift+":""}${e.code.replace("Key","").toLowerCase()}`;!function(e,t){switch(e){case"delete":o.getState().selected?.forEach((e=>{o.exec("delete-card",{id:e})}));break;case"ctrl+d":t.preventDefault(),o.getState().selected?.forEach((e=>{const t=o.getCard(e);o.exec("duplicate-card",{id:e,card:{label:`${n("Duplicate of")} ${t?.label}`}})}));break;case"ctrl+z":t.preventDefault(),o.getStores().data.undo();break;case"ctrl+shift+z":case"ctrl+y":t.preventDefault(),o.getStores().data.redo()}}(t,e),r&&r("keydown",{hotkey:t})}}function i(e){const t=Tl(e.target,"data-wx-widget");l=t===Ar.kanban||t===Ar.toolbar,r&&r("set-focus",{inFocus:l})}return document.addEventListener("keydown",s),document.addEventListener("mousedown",i),{destroy:()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i)}}}function Rl(e){switch(e){case"jpg":case"jpeg":case"gif":case"png":case"bmp":case"tiff":case"pcx":case"svg":case"ico":return!0;default:return!1}}class zl{constructor(e){this._store=e}json(e){const{cards:t,columns:n,rows:o}=this._store.getState(),r={cards:t,columns:n};o.length>0&&(r.rows=o),this._save(r,`${e||"kanban-export"}`,"json")}_save(e,t,n){const o=document.createElement("a");document.body.appendChild(o),o.style.display="none";const r=JSON.stringify(e),l=new Blob([r],{type:"octet/stream"}),s=window.URL.createObjectURL(l);o.href=s,o.download=`${t}.${n}`,o.click(),window.URL.revokeObjectURL(s),document.body.removeChild(o)}}function Fl(e,t){const{container:n,at:o,position:r="top",align:l="start"}=t,s=function(e){if("string"==typeof e)return document.querySelector(e);return e}(n)||document.body;if(o){e.style.position="absolute";const t=o.getBoundingClientRect();e.style.top=`${t[r]}px`,e.style.left=`${t["start"===l?"left":"right"]}px`}return s.appendChild(e),{destroy(){e.remove()}}}function jl(e){let t,n,o,r;return{c(){t=H("i"),K(t,"class",n="wx-icon "+e[0]+" svelte-p36u8h"),G(t,"font-size",e[1]+"px"),X(t,"wx-spin",e[2]),X(t,"wx-clickable",e[4])},m(n,l){N(n,t,l),o||(r=j(t,"click",(function(){i(e[3])&&e[3].apply(this,arguments)})),o=!0)},p(o,r){e=o,1&r&&n!==(n="wx-icon "+e[0]+" svelte-p36u8h")&&K(t,"class",n),2&r&&G(t,"font-size",e[1]+"px"),5&r&&X(t,"wx-spin",e[2]),17&r&&X(t,"wx-clickable",e[4])},d(e){e&&O(t),o=!1,r()}}}function ql(e){let t,n,o,r,l,s;return{c(){t=H("i"),n=L("svg"),o=L("path"),K(o,"d",r=Hr[e[0]].path),K(n,"xmlns","http://www.w3.org/2000/svg"),K(n,"viewBox","0 0 24 24"),K(n,"width",e[1]),K(n,"height",e[1]),K(n,"fill","currentColor"),K(t,"class","wx-icon svelte-p36u8h"),G(t,"font-size",e[1]+"px"),X(t,"wx-spin",e[2]),X(t,"wx-clickable",e[4])},m(r,c){N(r,t,c),T(t,n),T(n,o),l||(s=j(t,"click",(function(){i(e[3])&&e[3].apply(this,arguments)})),l=!0)},p(l,s){e=l,1&s&&r!==(r=Hr[e[0]].path)&&K(o,"d",r),2&s&&K(n,"width",e[1]),2&s&&K(n,"height",e[1]),2&s&&G(t,"font-size",e[1]+"px"),4&s&&X(t,"wx-spin",e[2]),16&s&&X(t,"wx-clickable",e[4])},d(e){e&&O(t),l=!1,s()}}}function Pl(e){let n;function o(e,t){return Hr[e[0]]?ql:jl}let r=o(e),l=r(e);return{c(){l.c(),n=F()},m(e,t){l.m(e,t),N(e,n,t)},p(e,[t]){r===(r=o(e))&&l?l.p(e,t):(l.d(1),l=r(e),l&&(l.c(),l.m(n.parentNode,n)))},i:t,o:t,d(e){l.d(e),e&&O(n)}}}function Kl(e,t,n){let{name:o}=t,{size:r=20}=t,{spin:l=!1}=t,{click:s=null}=t,{clickable:i=!!s}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"size"in e&&n(1,r=e.size),"spin"in e&&n(2,l=e.spin),"click"in e&&n(3,s=e.click),"clickable"in e&&n(4,i=e.clickable)},[o,r,l,s,i]}class Ul extends We{constructor(e){super(),Be(this,e,Kl,Pl,c,{name:0,size:1,spin:2,click:3,clickable:4})}}function Vl(e){if("string"==typeof e){const t=1*e;if(!isNaN(t))return t}return e}function Yl(e,t){const n=["click","contextmenu"],o=n=>{!e||e.contains(n.target)||n.defaultPrevented||t(n)};return n.forEach((e=>document.addEventListener(e,o,!0))),{destroy(){n.forEach((e=>document.removeEventListener(e,o,!0)))}}}let Gl=(new Date).valueOf();function Jl(){return Gl+=1,Gl}function Bl(e){return e<10?"0"+e:e.toString()}const Wl=["",""];function Xl(e,t,n){switch(e){case"%d":return Bl(t.getDate());case"%m":return Bl(t.getMonth()+1);case"%j":return t.getDate();case"%n":return t.getMonth()+1;case"%y":return Bl(t.getFullYear()%100);case"%Y":return t.getFullYear();case"%D":return n.dayShort[t.getDay()];case"%l":return n.dayFull[t.getDay()];case"%M":return n.monthShort[t.getMonth()];case"%F":return n.monthFull[t.getMonth()];case"%h":return Bl((t.getHours()+11)%12+1);case"%g":return(t.getHours()+11)%12+1;case"%G":return t.getHours();case"%H":return Bl(t.getHours());case"%i":return Bl(t.getMinutes());case"%a":return((t.getHours()>11?n.pm:n.am)||Wl)[0];case"%A":return((t.getHours()>11?n.pm:n.am)||Wl)[1];case"%s":return Bl(t.getSeconds());case"%S":return function(e){const t=Bl(e);return 2==t.length?"0"+t:t}(t.getMilliseconds());case"%W":return Bl(function(e){let t=e.getDay();0===t&&(t=7);const n=new Date(e.valueOf());n.setDate(e.getDate()+(4-t));const o=n.getFullYear(),r=Math.floor((n.getTime()-new Date(o,0,1).getTime())/864e5);return 1+Math.floor(r/7)}(t));case"%c":{let e=t.getFullYear()+"";return e+="-"+Bl(t.getMonth()+1),e+="-"+Bl(t.getDate()),e+="T",e+=Bl(t.getHours()),e+=":"+Bl(t.getMinutes()),e+=":"+Bl(t.getSeconds()),e}default:return e}}const Ql=/%[a-zA-Z]/g;function Zl(e,t){return"function"==typeof e?e:function(n){return n?(n.getMonth||(n=new Date(n)),e.replace(Ql,(e=>Xl(e,n,t)))):""}}function es(e){return e&&"object"==typeof e&&!Array.isArray(e)}function ts(e,t){for(const n in t){const o=t[n];es(e[n])&&es(o)?e[n]=ts({...e[n]},t[n]):e[n]=t[n]}return e}function ns(e){return{getGroup(t){const n=e[t];return e=>n&&n[e]||e},getRaw:()=>e,extend(t,n){if(!t)return this;let o;return o=n?ts({...t},e):ts({...e},t),ns(o)}}}function os(e,t){e.forEach((e=>{t(e),e.data&&e.data.length&&os(e.data,t)}))}function rs(e,t){const n=[];return e.forEach((e=>{if(e.data){const o=rs(e.data,t);o.length&&n.push({...e,data:o})}else t(e)&&n.push(e)})),n}let ls=1;function ss(e){return os(e,(e=>{e.id=e.id||ls++})),e}const is={};function cs(e){return is[e]}function as(e){let t,n;return{c(){t=H("i"),K(t,"class",n="icon "+e[0].icon+" svelte-m1kace")},m(e,n){N(e,t,n)},p(e,o){1&o&&n!==(n="icon "+e[0].icon+" svelte-m1kace")&&K(t,"class",n)},d(e){e&&O(t)}}}function ds(e){let n,o,r=e[0].text+"";return{c(){n=H("span"),o=R(r),K(n,"class","value svelte-m1kace")},m(e,t){N(e,n,t),T(n,o)},p(e,t){1&t&&r!==(r=e[0].text+"")&&V(o,r)},i:t,o:t,d(e){e&&O(n)}}}function us(e){let t,n,o;var r=cs(e[0].type);function l(e){return{props:{item:e[0]}}}return r&&(t=ee(r,l(e))),{c(){t&&Ye(t.$$.fragment),n=F()},m(e,r){t&&Ge(t,e,r),N(e,n,r),o=!0},p(e,o){const s={};if(1&o&&(s.item=e[0]),1&o&&r!==(r=cs(e[0].type))){if(t){Oe();const e=t;Le(e.$$.fragment,1,0,(()=>{Je(e,1)})),Ae()}r?(t=ee(r,l(e)),Ye(t.$$.fragment),He(t.$$.fragment,1),Ge(t,n.parentNode,n)):t=null}else r&&t.$set(s)},i(e){o||(t&&He(t.$$.fragment,e),o=!0)},o(e){t&&Le(t.$$.fragment,e),o=!1},d(e){e&&O(n),t&&Je(t,e)}}}function ps(e){let t,n,o=e[0].subtext+"";return{c(){t=H("span"),n=R(o),K(t,"class","subtext svelte-m1kace")},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&o!==(o=e[0].subtext+"")&&V(n,o)},d(e){e&&O(t)}}}function fs(e){let t;return{c(){t=H("i"),K(t,"class","sub-icon wxi-angle-right svelte-m1kace")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function ms(e){let t,n,o,r,l,i,c,a,d,u,p,f=e[0].icon&&as(e);const m=[us,ds],$=[];function h(e,t){return e[0].type?0:1}o=h(e),r=$[o]=m[o](e);let g=e[0].subtext&&ps(e),v=e[0].data&&fs();return{c(){t=H("div"),f&&f.c(),n=z(),r.c(),l=z(),g&&g.c(),i=z(),v&&v.c(),K(t,"class",c="item "+(e[0].css||"")+" svelte-m1kace"),K(t,"data-id",a=e[0].id)},m(r,s){N(r,t,s),f&&f.m(t,null),T(t,n),$[o].m(t,null),T(t,l),g&&g.m(t,null),T(t,i),v&&v.m(t,null),d=!0,u||(p=[j(t,"mouseenter",e[1]),j(t,"click",e[4])],u=!0)},p(e,[s]){e[0].icon?f?f.p(e,s):(f=as(e),f.c(),f.m(t,n)):f&&(f.d(1),f=null);let u=o;o=h(e),o===u?$[o].p(e,s):(Oe(),Le($[u],1,1,(()=>{$[u]=null})),Ae(),r=$[o],r?r.p(e,s):(r=$[o]=m[o](e),r.c()),He(r,1),r.m(t,l)),e[0].subtext?g?g.p(e,s):(g=ps(e),g.c(),g.m(t,i)):g&&(g.d(1),g=null),e[0].data?v||(v=fs(),v.c(),v.m(t,null)):v&&(v.d(1),v=null),(!d||1&s&&c!==(c="item "+(e[0].css||"")+" svelte-m1kace"))&&K(t,"class",c),(!d||1&s&&a!==(a=e[0].id))&&K(t,"data-id",a)},i(e){d||(He(r),d=!0)},o(e){Le(r),d=!1},d(e){e&&O(t),f&&f.d(),$[o].d(),g&&g.d(),v&&v.d(),u=!1,s(p)}}}function $s(e,t,n){let{item:o}=t,{showSub:r=!1}=t,{activeItem:l=null}=t;return e.$$set=e=>{"item"in e&&n(0,o=e.item),"showSub"in e&&n(2,r=e.showSub),"activeItem"in e&&n(3,l=e.activeItem)},[o,function(){n(2,r=!!o.data&&o.id),n(3,l=this)},r,l,function(t){me.call(this,e,t)}]}class hs extends We{constructor(e){super(),Be(this,e,$s,ms,c,{item:0,showSub:2,activeItem:3})}}function gs(e,t,n){const o=e.slice();return o[27]=t[n],o}function vs(e){let t,n,o,r;function l(t){e[16](t)}function s(t){e[17](t)}let i={item:e[27]};return void 0!==e[6]&&(i.showSub=e[6]),void 0!==e[7]&&(i.activeItem=e[7]),t=new hs({props:i}),he.push((()=>Ve(t,"showSub",l))),he.push((()=>Ve(t,"activeItem",s))),t.$on("click",(function(...t){return e[18](e[27],...t)})),{c(){Ye(t.$$.fragment)},m(e,n){Ge(t,e,n),r=!0},p(r,l){e=r;const s={};4&l&&(s.item=e[27]),!n&&64&l&&(n=!0,s.showSub=e[6],Se((()=>n=!1))),!o&&128&l&&(o=!0,s.activeItem=e[7],Se((()=>o=!1))),t.$set(s)},i(e){r||(He(t.$$.fragment,e),r=!0)},o(e){Le(t.$$.fragment,e),r=!1},d(e){Je(t,e)}}}function ws(e){let n;return{c(){n=H("div"),K(n,"class","separator svelte-9lfyly")},m(e,t){N(e,n,t)},p:t,i:t,o:t,d(e){e&&O(n)}}}function ys(e){let t,n;return t=new Ss({props:{relativeTo:e[8],options:e[27].data,level:e[3]+1,at:"right",parent:e[7]}}),t.$on("click",e[19]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};256&n&&(o.relativeTo=e[8]),4&n&&(o.options=e[27].data),8&n&&(o.level=e[3]+1),128&n&&(o.parent=e[7]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function bs(e,t){let n,o,r,l,s,i;const c=[ws,vs],a=[];function d(e,t){return"separator"===e[27].type?0:1}o=d(t),r=a[o]=c[o](t);let u=t[27].data&&t[6]===t[27].id&&ys(t);return{key:e,first:null,c(){n=F(),r.c(),l=z(),u&&u.c(),s=F(),this.first=n},m(e,t){N(e,n,t),a[o].m(e,t),N(e,l,t),u&&u.m(e,t),N(e,s,t),i=!0},p(e,n){let i=o;o=d(t=e),o===i?a[o].p(t,n):(Oe(),Le(a[i],1,1,(()=>{a[i]=null})),Ae(),r=a[o],r?r.p(t,n):(r=a[o]=c[o](t),r.c()),He(r,1),r.m(l.parentNode,l)),t[27].data&&t[6]===t[27].id?u?(u.p(t,n),68&n&&He(u,1)):(u=ys(t),u.c(),He(u,1),u.m(s.parentNode,s)):u&&(Oe(),Le(u,1,1,(()=>{u=null})),Ae())},i(e){i||(He(r),He(u),i=!0)},o(e){Le(r),Le(u),i=!1},d(e){e&&O(n),a[o].d(e),e&&O(l),u&&u.d(e),e&&O(s)}}}function xs(e){let t,n,o,r,l,i=[],c=new Map,a=e[2];const d=e=>e[27].id;for(let t=0;t<a.length;t+=1){let n=gs(e,a,t),o=d(n);c.set(o,i[t]=bs(o,n))}return{c(){t=H("div");for(let e=0;e<i.length;e+=1)i[e].c();K(t,"class",n="menu "+(e[3]>1?"sub":"")+" svelte-9lfyly"),G(t,"top",e[1]+"px"),G(t,"left",e[0]+"px"),G(t,"width",e[5]),K(t,"data-level",e[3])},m(n,s){N(n,t,s);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[20](t),o=!0,r||(l=[k(Yl.call(null,t,e[11])),j(t,"mouseleave",e[10])],r=!0)},p(e,[r]){988&r&&(a=e[2],Oe(),i=Pe(i,r,d,1,e,a,c,t,qe,bs,null,gs),Ae()),(!o||8&r&&n!==(n="menu "+(e[3]>1?"sub":"")+" svelte-9lfyly"))&&K(t,"class",n),(!o||2&r)&&G(t,"top",e[1]+"px"),(!o||1&r)&&G(t,"left",e[0]+"px"),(!o||32&r)&&G(t,"width",e[5]),(!o||8&r)&&K(t,"data-level",e[3])},i(e){if(!o){for(let e=0;e<a.length;e+=1)He(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)Le(i[e]);o=!1},d(n){n&&O(t);for(let e=0;e<i.length;e+=1)i[e].d();e[20](null),r=!1,s(l)}}}function ks(e,t,n){const o=ue();let r,l,s,i,c,a,d,u,{options:p}=t,{level:f=1}=t,{left:m=0}=t,{top:$=0}=t,{at:h="bottom"}=t,{parent:g=null}=t,{relativeTo:v=document.body}=t,{mount:w}=t,{object:y=null}=t;function b(){if(!u)return;const e=document.body.getBoundingClientRect(),t=u.getBoundingClientRect();let o=i;const r=t.bottom-e.bottom;r>0&&n(1,$-=r);t.right-e.right>0&&("right"!==h?n(0,m=l.right-t.width):o=!0),o&&n(0,m=(f>1?0:l.left)-t.width);const s=m-e.left;s<0&&f<2&&n(0,"left"!==h?m-=s:m=f>1?l.width:l.right)}w&&w(b),ce(b);return e.$$set=e=>{"options"in e&&n(2,p=e.options),"level"in e&&n(3,f=e.level),"left"in e&&n(0,m=e.left),"top"in e&&n(1,$=e.top),"at"in e&&n(12,h=e.at),"parent"in e&&n(13,g=e.parent),"relativeTo"in e&&n(14,v=e.relativeTo),"mount"in e&&n(15,w=e.mount),"object"in e&&n(4,y=e.object)},e.$$.update=()=>{4&e.$$.dirty&&ss(p),4096&e.$$.dirty&&(s=-1!==h.indexOf("bottom")),4096&e.$$.dirty&&(i=-1!==h.indexOf("left")),4096&e.$$.dirty&&(c=-1!==h.indexOf("fit")),8192&e.$$.dirty&&function(e){if(!e||"point"===h)return;l=e.getBoundingClientRect();const t=v.getBoundingClientRect();n(0,m=("right"===h?l.right+(f?0:1):l.left)-t.left),n(1,$=(s?l.bottom+1:l.top)-t.top),n(5,r=c?l.width+"px":"auto"),n(0,m+=v.scrollLeft),n(1,$+=v.scrollTop)}(g)},[m,$,p,f,y,r,a,d,u,o,function(){n(6,a=!1)},function(){o("click",{action:null})},h,g,v,w,function(e){a=e,n(6,a)},function(e){d=e,n(7,d)},(e,t)=>{if(!e.data&&!t.defaultPrevented){const t={item:y,action:e};e.handler&&e.handler(t),o("click",t)}},function(t){me.call(this,e,t)},function(e){he[e?"unshift":"push"]((()=>{u=e,n(8,u)}))}]}class Ss extends We{constructor(e){super(),Be(this,e,ks,xs,c,{options:2,level:3,left:0,top:1,at:12,parent:13,relativeTo:14,mount:15,object:4})}}function Is(e){let t,n;return t=new or({props:{target:e[1],$$slots:{default:[_s,({mount:e})=>({20:e}),({mount:e})=>e?1048576:0]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.target=e[1]),1114239&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function _s(e){let t,n;return t=new Ss({props:{at:e[0],top:e[6],left:e[5],mount:e[20],parent:e[4],relativeTo:e[1],object:e[3],options:e[2]}}),t.$on("click",e[8]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.at=e[0]),64&n&&(o.top=e[6]),32&n&&(o.left=e[5]),1048576&n&&(o.mount=e[20]),16&n&&(o.parent=e[4]),2&n&&(o.relativeTo=e[1]),8&n&&(o.object=e[3]),4&n&&(o.options=e[2]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ms(e){let t,n,o,r=e[7]&&e[7].default&&function(e){let t,n,o,r;const l=e[15].default,s=f(l,e,e[16],null);return{c(){t=H("div"),s&&s.c(),K(t,"data-menu-ignore","true")},m(l,i){N(l,t,i),s&&s.m(t,null),n=!0,o||(r=j(t,"contextmenu",e[9]),o=!0)},p(e,t){s&&s.p&&(!n||65536&t)&&h(s,l,e,e[16],n?$(l,e[16],t,null):g(e[16]),null)},i(e){n||(He(s,e),n=!0)},o(e){Le(s,e),n=!1},d(e){e&&O(t),s&&s.d(e),o=!1,r()}}}(e),l=e[4]&&Is(e);return{c(){r&&r.c(),t=z(),l&&l.c(),n=F()},m(e,s){r&&r.m(e,s),N(e,t,s),l&&l.m(e,s),N(e,n,s),o=!0},p(e,[t]){e[7]&&e[7].default&&r.p(e,t),e[4]?l?(l.p(e,t),16&t&&He(l,1)):(l=Is(e),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){o||(He(r),He(l),o=!0)},o(e){Le(r),Le(l),o=!1},d(e){r&&r.d(e),e&&O(t),l&&l.d(e),e&&O(n)}}}function Cs(e,t,n){let{$$slots:r={},$$scope:l}=t;const s=ue(),i=t.$$slots;let{options:c}=t,{at:a="bottom"}=t,{resolver:d=null}=t,{dataKey:u="contextId"}=t,{filter:p=null}=t;const f=b;let{relativeTo:m}=t;var $,h=null,g=null;let w=0,y=0;function b(e,t){if(!e)return void n(4,g=null);const o=e.target;o&&o.dataset&&o.dataset.menuIgnore||(n(5,w=e.clientX+1),n(6,y=e.clientY+1),n(3,h=void 0!==t?t:function(e,t){let n=null;for(;e&&e.dataset&&!n;)n=e.dataset[t],e=e.parentNode;return n?Vl(n):null}(o,u)),d&&(n(3,h=d(h,e)),!h)||(null!==h&&p&&n(2,$=rs(c,(e=>p(e,h)))),n(4,g=o),e.preventDefault()))}return e.$$set=e=>{n(19,t=o(o({},t),v(e))),"options"in e&&n(10,c=e.options),"at"in e&&n(0,a=e.at),"resolver"in e&&n(11,d=e.resolver),"dataKey"in e&&n(12,u=e.dataKey),"filter"in e&&n(13,p=e.filter),"relativeTo"in e&&n(1,m=e.relativeTo),"$$scope"in e&&n(16,l=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,$=c)},t=v(t),[a,m,$,h,g,w,y,i,function(e){n(4,g=null),s("click",e.detail)},b,c,d,u,p,f,r,l]}class Ts extends We{constructor(e){super(),Be(this,e,Cs,Ms,c,{options:10,at:0,resolver:11,dataKey:12,filter:13,handler:14,relativeTo:1})}get handler(){return this.$$.ctx[14]}}function Ds(e){let t,n;return t=new or({props:{target:e[2],$$slots:{default:[Es,({mount:e})=>({10:e}),({mount:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.target=e[2]),1295&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Es(e){let t,n;return t=new Ss({props:{at:e[1],mount:e[10],parent:e[3],options:e[0],relativeTo:e[2]}}),t.$on("click",e[4]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.at=e[1]),1024&n&&(o.mount=e[10]),8&n&&(o.parent=e[3]),1&n&&(o.options=e[0]),4&n&&(o.relativeTo=e[2]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ns(e){let t,n,o,r,l,s;const i=e[7].default,c=f(i,e,e[8],null);let a=e[3]&&Ds(e);return{c(){t=H("div"),c&&c.c(),n=z(),a&&a.c(),o=F(),K(t,"data-menu-ignore","true")},m(i,d){N(i,t,d),c&&c.m(t,null),N(i,n,d),a&&a.m(i,d),N(i,o,d),r=!0,l||(s=j(t,"click",e[5]),l=!0)},p(e,[t]){c&&c.p&&(!r||256&t)&&h(c,i,e,e[8],r?$(i,e[8],t,null):g(e[8]),null),e[3]?a?(a.p(e,t),8&t&&He(a,1)):(a=Ds(e),a.c(),He(a,1),a.m(o.parentNode,o)):a&&(Oe(),Le(a,1,1,(()=>{a=null})),Ae())},i(e){r||(He(c,e),He(a),r=!0)},o(e){Le(c,e),Le(a),r=!1},d(e){e&&O(t),c&&c.d(e),e&&O(n),a&&a.d(e),e&&O(o),l=!1,s()}}}function Os(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=ue();let{options:s}=t,{at:i="bottom"}=t,{relativeTo:c}=t;var a=null;return e.$$set=e=>{"options"in e&&n(0,s=e.options),"at"in e&&n(1,i=e.at),"relativeTo"in e&&n(2,c=e.relativeTo),"$$scope"in e&&n(8,r=e.$$scope)},[s,i,c,a,function(e){n(3,a=null),l("click",e.detail)},function(e){const t=e.target;t.dataset.menuIgnore||n(3,a=t)},e=>{n(3,a=e.target),e.preventDefault()},o,r]}class As extends We{constructor(e){super(),Be(this,e,Os,Ns,c,{options:0,at:1,relativeTo:2,handler:6})}get handler(){return this.$$.ctx[6]}}function Hs(e){let t,n,o,r,l,s,i,c,a;function d(e,t){return e[2]?Rs:Ls}n=new Ul({props:{name:e[0].collapsed?"wxi-angle-right":"wxi-angle-down",size:18,clickable:!0,click:e[8]}});let u=d(e),p=u(e),f=e[7]&&zs(e);return{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("div"),p.c(),l=z(),f&&f.c(),s=F(),K(t,"class","wx-label-icon svelte-30nbk4"),K(r,"class","wx-label-text svelte-30nbk4")},m(d,u){N(d,t,u),Ge(n,t,null),N(d,o,u),N(d,r,u),p.m(r,null),N(d,l,u),f&&f.m(d,u),N(d,s,u),i=!0,c||(a=j(r,"dblclick",e[14]),c=!0)},p(e,t){const o={};1&t[0]&&(o.name=e[0].collapsed?"wxi-angle-right":"wxi-angle-down"),n.$set(o),u===(u=d(e))&&p?p.p(e,t):(p.d(1),p=u(e),p&&(p.c(),p.m(r,null))),e[7]?f?(f.p(e,t),128&t[0]&&He(f,1)):(f=zs(e),f.c(),He(f,1),f.m(s.parentNode,s)):f&&(Oe(),Le(f,1,1,(()=>{f=null})),Ae())},i(e){i||(He(n.$$.fragment,e),He(f),i=!0)},o(e){Le(n.$$.fragment,e),Le(f),i=!1},d(e){e&&O(t),Je(n),e&&O(o),e&&O(r),p.d(),e&&O(l),f&&f.d(e),e&&O(s),c=!1,a()}}}function Ls(e){let t,n=e[0].label+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){1&o[0]&&n!==(n=e[0].label+"")&&V(t,n)},d(e){e&&O(t)}}}function Rs(e){let t,n,o,r;return{c(){t=H("input"),K(t,"type","text"),K(t,"class","wx-input svelte-30nbk4"),t.value=n=e[0].label},m(n,l){N(n,t,l),o||(r=[j(t,"input",e[15]),j(t,"keypress",e[16]),j(t,"blur",e[13]),k(Ps.call(null,t))],o=!0)},p(e,o){1&o[0]&&n!==(n=e[0].label)&&t.value!==n&&(t.value=n)},d(e){e&&O(t),o=!1,s(r)}}}function zs(e){let t,n;return t=new As({props:{options:e[3],$$slots:{default:[Fs]},$$scope:{ctx:e}}}),t.$on("click",e[18]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.options=e[3]),1073741856&n[0]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Fs(e){let n,o,r;return o=new Ul({props:{name:"wxi-dots-h",click:e[17]}}),{c(){n=H("div"),Ye(o.$$.fragment),K(n,"class","wx-menu svelte-30nbk4")},m(t,l){N(t,n,l),Ge(o,n,null),e[28](n),r=!0},p:t,i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(t){t&&O(n),Je(o),e[28](null)}}}function js(e){let t,n;const o=e[27].default,r=f(o,e,e[30],null);return{c(){t=H("div"),r&&r.c(),K(t,"class","wx-content svelte-30nbk4")},m(e,o){N(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||1073741824&t[0])&&h(r,o,e,e[30],n?$(o,e[30],t,null):g(e[30]),null)},i(e){n||(He(r,e),n=!0)},o(e){Le(r,e),n=!1},d(e){e&&O(t),r&&r.d(e)}}}function qs(e){let t,n,o,r,l,s,i,c,a,d,u=e[1]&&Hs(e),p=!e[0].collapsed&&js(e);return{c(){t=H("div"),n=H("div"),u&&u.c(),o=z(),r=H("div"),c=z(),p&&p.c(),K(r,"class",l="wx-label-line "+(e[1]?"collapsable":"")+" svelte-30nbk4"),K(n,"class",s="wx-label "+(e[1]?"collapsable":"")+" svelte-30nbk4"),K(n,"data-row-header",i=e[0].id),K(t,"class",a=b(e[6])+" svelte-30nbk4"),X(t,"wx-collapsed",e[0].collapsed)},m(l,s){N(l,t,s),T(t,n),u&&u.m(n,null),T(n,o),T(n,r),e[29](n),T(t,c),p&&p.m(t,null),d=!0},p(e,c){e[1]?u?(u.p(e,c),2&c[0]&&He(u,1)):(u=Hs(e),u.c(),He(u,1),u.m(n,o)):u&&(Oe(),Le(u,1,1,(()=>{u=null})),Ae()),(!d||2&c[0]&&l!==(l="wx-label-line "+(e[1]?"collapsable":"")+" svelte-30nbk4"))&&K(r,"class",l),(!d||2&c[0]&&s!==(s="wx-label "+(e[1]?"collapsable":"")+" svelte-30nbk4"))&&K(n,"class",s),(!d||1&c[0]&&i!==(i=e[0].id))&&K(n,"data-row-header",i),e[0].collapsed?p&&(Oe(),Le(p,1,1,(()=>{p=null})),Ae()):p?(p.p(e,c),1&c[0]&&He(p,1)):(p=js(e),p.c(),He(p,1),p.m(t,null)),(!d||64&c[0]&&a!==(a=b(e[6])+" svelte-30nbk4"))&&K(t,"class",a),(!d||65&c[0])&&X(t,"wx-collapsed",e[0].collapsed)},i(e){d||(He(u),He(p),d=!0)},o(e){Le(u),Le(p),d=!1},d(n){n&&O(t),u&&u.d(),e[29](null),p&&p.d()}}}function Ps(e){e.focus()}function Ks(e,t,n){let o,r,l,s,i,c,a,d,u,{$$slots:f={},$$scope:m}=t,{row:$={id:"default",label:"default",collapsed:!1}}=t,{rows:h=[]}=t,{api:g}=t,{collapsable:v=!0}=t;const w=fe("wx-i18n").getGroup("kanban"),y=ue();const{readonly:b,rowShape:x,cardsMap:k,columns:S}=g.getReactiveState();p(e,b,(e=>n(26,u=e))),p(e,x,(e=>n(25,d=e))),p(e,k,(e=>n(23,c=e))),p(e,S,(e=>n(24,a=e)));let I,_,M=!1,C=null;function T(){M&&(null==C?void 0:C.trim())&&y("action",{action:"update-row",data:{id:$.id,row:{label:C}}}),n(2,M=!1),C=null}function D(){o&&n(2,M=!0)}function E(e){var t;const n=null===(t=h["up"===e?r-1:r+2])||void 0===t?void 0:t.id;y("action",{action:"move-row",data:{id:$.id,before:n}})}return e.$$set=e=>{"row"in e&&n(0,$=e.row),"rows"in e&&n(19,h=e.rows),"api"in e&&n(20,g=e.api),"collapsable"in e&&n(1,v=e.collapsable),"$$scope"in e&&n(30,m=e.$$scope)},e.$$.update=()=>{67108864&e.$$.dirty[0]&&n(21,o=u.edit),524289&e.$$.dirty[0]&&n(22,r=h.findIndex((e=>e.id===$.id))),38273025&e.$$.dirty[0]&&n(3,l=((e,t,n,o)=>{const r=o.menu.items({rows:n,rowIndex:t,row:e});return r&&r.length?r.map((e=>Object.assign(Object.assign({},e),{text:w(e.text),css:e.disabled?"disabled":""}))):null})($,r,h,d)),35651596&e.$$.dirty[0]&&n(7,s=d.menu.show&&!!l&&o&&!M),58720257&e.$$.dirty[0]&&n(6,i=function(e,t,n,o){let r="wx-row";if(e.collapsed&&(r+=" wx-collapsed"),e.css&&(r+=" "+e.css),t&&t.css){let l=[];n.forEach((t=>l=l.concat(o[qr(t.id,e.id)]))),r+=" "+t.css(e,l)}return r}($,d,a,c))},[$,v,M,l,I,_,i,s,function(){y("action",{action:"update-row",data:{id:$.id,row:{collapsed:!$.collapsed}}})},b,x,k,S,T,D,function(e){C=e.target.value},function(e){13===e.charCode&&T()},function(){},function(e){const t=e.detail.action;if(t){if(t.onClick)return void t.onClick({id:t.id,item:t,row:$});switch(t.id){case"set-edit":D();break;case"delete-row":y("action",{action:"delete-row",data:{id:$.id}});break;case"move-row:up":E("up");break;case"move-row:down":E("down")}}},h,g,o,r,c,a,d,u,f,function(e){he[e?"unshift":"push"]((()=>{_=e,n(5,_)}))},function(e){he[e?"unshift":"push"]((()=>{I=e,n(4,I)}))},m]}class Us extends We{constructor(e){super(),Be(this,e,Ks,qs,c,{row:0,rows:19,api:20,collapsable:1},null,[-1,-1])}}function Vs(e){let t,n;return{c(){t=H("div"),n=R(e[0]),K(t,"class","wx-label svelte-grrbga")},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&V(n,e[0])},d(e){e&&O(t)}}}function Ys(e){let t,n;return{c(){t=H("div"),n=R(e[2]),K(t,"class","wx-value svelte-grrbga")},m(e,o){N(e,t,o),T(t,n)},p(e,t){4&t&&V(n,e[2])},d(e){e&&O(t)}}}function Gs(e){let n,o,r,l,s,i=e[0]&&Vs(e),c=e[1]&&Ys(e);return{c(){n=H("div"),i&&i.c(),o=z(),r=H("div"),l=H("div"),s=z(),c&&c.c(),K(l,"class","wx-progress svelte-grrbga"),K(l,"style",e[3]),K(r,"class","wx-wrap svelte-grrbga"),K(n,"class","wx-layout svelte-grrbga")},m(e,t){N(e,n,t),i&&i.m(n,null),T(n,o),T(n,r),T(r,l),T(r,s),c&&c.m(r,null)},p(e,[t]){e[0]?i?i.p(e,t):(i=Vs(e),i.c(),i.m(n,o)):i&&(i.d(1),i=null),8&t&&K(l,"style",e[3]),e[1]?c?c.p(e,t):(c=Ys(e),c.c(),c.m(r,null)):c&&(c.d(1),c=null)},i:t,o:t,d(e){e&&O(n),i&&i.d(),c&&c.d()}}}function Js(e,t,n){let{label:o=""}=t,{min:r=0}=t,{max:l=100}=t,{value:s=0}=t,{showValue:i=!0}=t,c="0",a="";return e.$$set=e=>{"label"in e&&n(0,o=e.label),"min"in e&&n(4,r=e.min),"max"in e&&n(5,l=e.max),"value"in e&&n(6,s=e.value),"showValue"in e&&n(1,i=e.showValue)},e.$$.update=()=>{116&e.$$.dirty&&(n(2,c=Math.round((s-r)/(l-r)*100)+"%"),n(3,a=`background: linear-gradient(90deg, var(--wx-color-primary) 0% ${c}, var(--wx-kanban-progress-inactive-color) ${c} 100%);`))},[o,i,c,a,r,l,s]}class Bs extends We{constructor(e){super(),Be(this,e,Js,Gs,c,{label:0,min:4,max:5,value:6,showValue:1})}}function Ws(e){let t;return{c(){t=R(e[5])},m(e,n){N(e,t,n)},p(e,n){32&n&&V(t,e[5])},d(e){e&&O(t)}}}function Xs(e){let t,n=e[0].label+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){1&o&&n!==(n=e[0].label+"")&&V(t,n)},d(e){e&&O(t)}}}function Qs(e){let t,n,o;return{c(){t=H("img"),d(t.src,n=e[0].avatar)||K(t,"src",n),K(t,"alt",o=e[0].label),K(t,"class","svelte-113eyyu")},m(e,n){N(e,t,n)},p(e,r){1&r&&!d(t.src,n=e[0].avatar)&&K(t,"src",n),1&r&&o!==(o=e[0].label)&&K(t,"alt",o)},d(e){e&&O(t)}}}function Zs(e){let n,o;function r(e,t){return e[0].avatar?Qs:e[1]?Xs:Ws}let l=r(e),s=l(e);return{c(){n=H("div"),s.c(),K(n,"class",o="wx-user "+e[2]+" svelte-113eyyu"),K(n,"style",e[4]),X(n,"border",e[3])},m(e,t){N(e,n,t),s.m(n,null)},p(e,[t]){l===(l=r(e))&&s?s.p(e,t):(s.d(1),s=l(e),s&&(s.c(),s.m(n,null))),4&t&&o!==(o="wx-user "+e[2]+" svelte-113eyyu")&&K(n,"class",o),16&t&&K(n,"style",e[4]),12&t&&X(n,"border",e[3])},i:t,o:t,d(e){e&&O(n),s.d()}}}function ei(e,t,n){let o,{data:r={label:"",avatar:"",avatarColor:""}}=t,{noTransform:l=!1}=t,{size:s="normal"}=t,{border:i=!0}=t,c="";return e.$$set=e=>{"data"in e&&n(0,r=e.data),"noTransform"in e&&n(1,l=e.noTransform),"size"in e&&n(2,s=e.size),"border"in e&&n(3,i=e.border)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=r.label.split(" ").map((e=>e[0])).join("")),1&e.$$.dirty&&r.avatarColor&&n(4,c=`background: ${r.avatarColor}; color: var(--wx-color-primary-font);`)},[r,l,s,i,c,o]}class ti extends We{constructor(e){super(),Be(this,e,ei,Zs,c,{data:0,noTransform:1,size:2,border:3})}}function ni(e,t,n){const o=e.slice();return o[8]=t[n],o}function oi(e){let t,n,o=[],r=new Map,l=e[2].users;const s=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=ni(e,l,t),i=s(n);r.set(i,o[t]=ri(i,n))}return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","wx-users svelte-vhwr63")},m(e,r){N(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,n){4&n&&(l=e[2].users,Oe(),o=Pe(o,n,s,1,e,l,r,t,qe,ri,null,ni),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){e&&O(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function ri(e,t){let n,o,r;return o=new ti({props:{data:t[8],noTransform:"$total"===t[8].id}}),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};4&n&&(r.data=t[8]),4&n&&(r.noTransform="$total"===t[8].id),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function li(e){let t,n,o,r,l,s;n=new Ul({props:{name:"wxi-calendar"}});let i=e[2].startDate&&si(e),c=e[2].endDate&&e[2].startDate&&ii(),a=e[2].endDate&&ci(e);return{c(){t=H("div"),Ye(n.$$.fragment),o=z(),i&&i.c(),r=z(),c&&c.c(),l=z(),a&&a.c(),K(t,"class","wx-date svelte-vhwr63")},m(e,d){N(e,t,d),Ge(n,t,null),T(t,o),i&&i.m(t,null),T(t,r),c&&c.m(t,null),T(t,l),a&&a.m(t,null),s=!0},p(e,n){e[2].startDate?i?i.p(e,n):(i=si(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),e[2].endDate&&e[2].startDate?c||(c=ii(),c.c(),c.m(t,l)):c&&(c.d(1),c=null),e[2].endDate?a?a.p(e,n):(a=ci(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){s||(He(n.$$.fragment,e),s=!0)},o(e){Le(n.$$.fragment,e),s=!1},d(e){e&&O(t),Je(n),i&&i.d(),c&&c.d(),a&&a.d()}}}function si(e){let t,n,o=e[2].startDate+"";return{c(){t=H("span"),n=R(o),K(t,"class","wx-date-value svelte-vhwr63")},m(e,o){N(e,t,o),T(t,n)},p(e,t){4&t&&o!==(o=e[2].startDate+"")&&V(n,o)},d(e){e&&O(t)}}}function ii(e){let t;return{c(){t=R("-")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function ci(e){let t,n,o=e[2].endDate+"";return{c(){t=H("span"),n=R(o),K(t,"class","wx-date-value svelte-vhwr63")},m(e,o){N(e,t,o),T(t,n)},p(e,t){4&t&&o!==(o=e[2].endDate+"")&&V(n,o)},d(e){e&&O(t)}}}function ai(e){let t,n,o,r,l,s,i=e[2].votes+"";return n=new Ul({props:{name:"wxi-like"}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("span"),l=R(i),K(r,"class","wx-item-value svelte-vhwr63"),K(t,"class","wx-votes svelte-vhwr63"),X(t,"wx-kanban-editor-voted",e[0].votes.includes(e[3]))},m(e,i){N(e,t,i),Ge(n,t,null),T(t,o),T(t,r),T(r,l),s=!0},p(e,n){(!s||4&n)&&i!==(i=e[2].votes+"")&&V(l,i),(!s||9&n)&&X(t,"wx-kanban-editor-voted",e[0].votes.includes(e[3]))},i(e){s||(He(n.$$.fragment,e),s=!0)},o(e){Le(n.$$.fragment,e),s=!1},d(e){e&&O(t),Je(n)}}}function di(e){let t,n,o,r,l,s,i=e[2].comments+"";return n=new Ul({props:{name:"wxi-message"}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("span"),l=R(i),K(r,"class","wx-item-value svelte-vhwr63"),K(t,"class","wx-comments svelte-vhwr63")},m(e,i){N(e,t,i),Ge(n,t,null),T(t,o),T(t,r),T(r,l),s=!0},p(e,t){(!s||4&t)&&i!==(i=e[2].comments+"")&&V(l,i)},i(e){s||(He(n.$$.fragment,e),s=!0)},o(e){Le(n.$$.fragment,e),s=!1},d(e){e&&O(t),Je(n)}}}function ui(e){let t,n,o,r,l,s,i=e[2].attached+"";return n=new Ul({props:{name:"wxi-paperclip"}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("span"),l=R(i),K(r,"class","wx-item-value svelte-vhwr63"),K(t,"class","wx-attached svelte-vhwr63")},m(e,i){N(e,t,i),Ge(n,t,null),T(t,o),T(t,r),T(r,l),s=!0},p(e,t){(!s||4&t)&&i!==(i=e[2].attached+"")&&V(l,i)},i(e){s||(He(n.$$.fragment,e),s=!0)},o(e){Le(n.$$.fragment,e),s=!1},d(e){e&&O(t),Je(n)}}}function pi(e){let t,n,o,r,l,s,i,c,a,d=e[2].users&&oi(e),u=(e[2].endDate||e[2].startDate)&&li(e),p=e[2].votes&&ai(e),f=e[2].comments&&di(e),m=e[2].attached&&ui(e);return{c(){t=H("div"),d&&d.c(),n=z(),o=H("div"),r=H("div"),u&&u.c(),l=z(),s=H("div"),p&&p.c(),i=z(),f&&f.c(),c=z(),m&&m.c(),K(r,"class","wx-icons-container svelte-vhwr63"),K(s,"class","wx-icons-container svelte-vhwr63"),K(o,"class","wx-card-icons svelte-vhwr63"),K(t,"class","wx-footer svelte-vhwr63"),X(t,"wx-with-content",!!Object.keys(e[2]).length)},m(e,$){N(e,t,$),d&&d.m(t,null),T(t,n),T(t,o),T(o,r),u&&u.m(r,null),T(o,l),T(o,s),p&&p.m(s,null),T(s,i),f&&f.m(s,null),T(s,c),m&&m.m(s,null),a=!0},p(e,[o]){e[2].users?d?(d.p(e,o),4&o&&He(d,1)):(d=oi(e),d.c(),He(d,1),d.m(t,n)):d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()),e[2].endDate||e[2].startDate?u?(u.p(e,o),4&o&&He(u,1)):(u=li(e),u.c(),He(u,1),u.m(r,null)):u&&(Oe(),Le(u,1,1,(()=>{u=null})),Ae()),e[2].votes?p?(p.p(e,o),4&o&&He(p,1)):(p=ai(e),p.c(),He(p,1),p.m(s,i)):p&&(Oe(),Le(p,1,1,(()=>{p=null})),Ae()),e[2].comments?f?(f.p(e,o),4&o&&He(f,1)):(f=di(e),f.c(),He(f,1),f.m(s,c)):f&&(Oe(),Le(f,1,1,(()=>{f=null})),Ae()),e[2].attached?m?(m.p(e,o),4&o&&He(m,1)):(m=ui(e),m.c(),He(m,1),m.m(s,null)):m&&(Oe(),Le(m,1,1,(()=>{m=null})),Ae()),(!a||4&o)&&X(t,"wx-with-content",!!Object.keys(e[2]).length)},i(e){a||(He(d),He(u),He(p),He(f),He(m),a=!0)},o(e){Le(d),Le(u),Le(p),Le(f),Le(m),a=!1},d(e){e&&O(t),d&&d.d(),u&&u.d(),p&&p.d(),f&&f.d(),m&&m.d()}}}const fi="%M %d";function mi(e,n,o){let r,l,s=t,i=()=>(s(),s=u(f,(e=>o(3,l=e))),f);e.$$.on_destroy.push((()=>s()));let{cardFields:c}=n,{cardShape:a}=n,{api:d}=n;const p=fe("wx-i18n");let f=null;return i(),e.$$set=e=>{"cardFields"in e&&o(0,c=e.cardFields),"cardShape"in e&&o(4,a=e.cardShape),"api"in e&&o(5,d=e.api)},e.$$.update=()=>{17&e.$$.dirty&&o(2,r=function(e,t){var n,o,r,l,s,i,c,a;let d={};const{show:u}=(null==t?void 0:t.users)||{},f=e.users;if(u&&f){const e=(Array.isArray(f)?f:[f]).reduce(((e,n)=>{var o;const r=null===(o=t.users.values)||void 0===o?void 0:o.find((e=>e.id===n));return r&&e.push(r),e}),[]);let n=e.map((e=>Object.assign(Object.assign({},e),{label:e.label||""})));const o=2;e.length>o&&(n=n.splice(0,o),n.push({label:"+"+(e.length-n.length),id:"$total"})),(null==n?void 0:n.length)&&(d.users=n)}const{show:m,format:$}=t.start_date||{},{show:h,format:g}=t.end_date||{};let{end_date:v,start_date:w}=e;return(m||h)&&(w&&(d.startDate=Zl($||fi,p.getRaw().calendar)(w)),v&&(d.endDate=Zl(g||fi,p.getRaw().calendar)(v))),(null===(n=null==t?void 0:t.attached)||void 0===n?void 0:n.show)&&(null===(o=e.attached)||void 0===o?void 0:o.length)&&(d.attached=e.attached.length),(null===(r=t.comments)||void 0===r?void 0:r.show)&&(null===(l=e.comments)||void 0===l?void 0:l.length)&&(d.comments=null===(s=e.comments)||void 0===s?void 0:s.length),(null===(i=t.votes)||void 0===i?void 0:i.show)&&(null===(c=e.votes)||void 0===c?void 0:c.length)&&(d.votes=null===(a=e.votes)||void 0===a?void 0:a.length),d}(c,a)),32&e.$$.dirty&&d&&i(o(1,f=d.getReactiveState().currentUser))},[c,f,r,l,a,d]}class $i extends We{constructor(e){super(),Be(this,e,mi,pi,c,{cardFields:0,cardShape:4,api:5})}}function hi(e,t,n){const o=e.slice();return o[3]=t[n],o}function gi(e){let t;function n(e,t){return"priority"===e[3].type?wi:vi}let o=n(e),r=o(e);return{c(){r.c(),t=F()},m(e,n){r.m(e,n),N(e,t,n)},p(e,l){o===(o=n(e))&&r?r.p(e,l):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&O(t)}}}function vi(e){let t,n,o,r,l,s,i=e[3].value+"",c=e[3]?.label&&yi(e);return{c(){t=H("div"),c&&c.c(),n=z(),o=H("span"),r=R(i),l=z(),K(o,"class","wx-value"),K(t,"class",s="wx-field "+(e[3].css||"")+" svelte-upffav")},m(e,s){N(e,t,s),c&&c.m(t,null),T(t,n),T(t,o),T(o,r),T(t,l)},p(e,o){e[3]?.label?c?c.p(e,o):(c=yi(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),1&o&&i!==(i=e[3].value+"")&&V(r,i),1&o&&s!==(s="wx-field "+(e[3].css||"")+" svelte-upffav")&&K(t,"class",s)},d(e){e&&O(t),c&&c.d()}}}function wi(e){let t,n,o,r,l=e[3].value+"";return{c(){t=H("div"),n=H("span"),o=R(l),r=z(),K(n,"class","wx-priority-label svelte-upffav"),K(t,"class","wx-field wx-priority svelte-upffav"),G(t,"background",e[3].color)},m(e,l){N(e,t,l),T(t,n),T(n,o),T(t,r)},p(e,n){1&n&&l!==(l=e[3].value+"")&&V(o,l),1&n&&G(t,"background",e[3].color)},d(e){e&&O(t)}}}function yi(e){let t,n,o,r=e[3].label+"";return{c(){t=H("span"),n=R(r),o=R(":"),K(t,"class","wx-label")},m(e,r){N(e,t,r),T(t,n),T(t,o)},p(e,t){1&t&&r!==(r=e[3].label+"")&&V(n,r)},d(e){e&&O(t)}}}function bi(e){let t,n=e[3].value&&gi(e);return{c(){n&&n.c(),t=F()},m(e,o){n&&n.m(e,o),N(e,t,o)},p(e,o){e[3].value?n?n.p(e,o):(n=gi(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&O(t)}}}function xi(e){let n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=bi(hi(e,o,t));return{c(){n=H("div");for(let e=0;e<r.length;e+=1)r[e].c();K(n,"class","wx-card-header svelte-upffav")},m(e,t){N(e,n,t);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,[t]){if(1&t){let l;for(o=e[0],l=0;l<o.length;l+=1){const s=hi(e,o,l);r[l]?r[l].p(s,t):(r[l]=bi(s),r[l].c(),r[l].m(n,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:t,o:t,d(e){e&&O(n),A(r,e)}}}function ki(e,t,n){let o,{cardFields:r}=t,{cardShape:l}=t;return e.$$set=e=>{"cardFields"in e&&n(1,r=e.cardFields),"cardShape"in e&&n(2,l=e.cardShape)},e.$$.update=()=>{6&e.$$.dirty&&n(0,o=function(e,t){var n,o;let r=[];if(null===(n=t.priority)||void 0===n?void 0:n.show){const n=null===(o=t.priority.values)||void 0===o?void 0:o.find((t=>t.id===e.priority));n&&r.push({type:"priority",value:n.label,color:n.color})}const l=t.headerFields;if(l){const t=l.reduce(((t,n)=>(e[n.key]&&t.push({value:e[n.key],label:n.label,css:n.css}),t)),[]);t&&r.push(...t)}return r}(r,l))},[o,r,l]}class Si extends We{constructor(e){super(),Be(this,e,ki,xi,c,{cardFields:1,cardShape:2})}}function Ii(e){let t;return{c(){t=H("div"),K(t,"class","wx-color wx-rounded svelte-kqkezg"),G(t,"background",e[0].color)},m(e,n){N(e,t,n)},p(e,n){1&n&&G(t,"background",e[0].color)},d(e){e&&O(t)}}}function _i(e){let t,n,o;return{c(){t=H("div"),n=H("img"),d(n.src,o=e[5])||K(n,"src",o),K(n,"alt",""),K(n,"class","svelte-kqkezg"),K(t,"class","wx-field wx-image svelte-kqkezg"),X(t,"wx-rounded",!(e[1].color?.show&&e[0].color))},m(e,o){N(e,t,o),T(t,n)},p(e,r){32&r&&!d(n.src,o=e[5])&&K(n,"src",o),3&r&&X(t,"wx-rounded",!(e[1].color?.show&&e[0].color))},d(e){e&&O(t)}}}function Mi(e){let t,n,o=e[0].label+"";return{c(){t=H("span"),n=R(o)},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&o!==(o=e[0].label+"")&&V(n,o)},d(e){e&&O(t)}}}function Ci(e){let t,n,o,r,l;return o=new Ul({props:{name:"wxi-dots-v",clickable:!0}}),{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),K(n,"data-menu-id",r=e[0].id),K(t,"class","wx-menu svelte-kqkezg"),K(t,"data-ignore-selection","true")},m(e,r){N(e,t,r),T(t,n),Ge(o,n,null),l=!0},p(e,t){(!l||1&t&&r!==(r=e[0].id))&&K(n,"data-menu-id",r)},i(e){l||(He(o.$$.fragment,e),l=!0)},o(e){Le(o.$$.fragment,e),l=!1},d(e){e&&O(t),Je(o)}}}function Ti(e){let t,n,o=e[0].description+"";return{c(){t=H("div"),n=R(o),K(t,"class","wx-field wx-description svelte-kqkezg")},m(e,o){N(e,t,o),T(t,n)},p(e,t){1&t&&o!==(o=e[0].description+"")&&V(n,o)},d(e){e&&O(t)}}}function Di(e){let t,n,o;return n=new Bs({props:{min:e[1].progress?.config?.min||0,max:e[1].progress?.config?.max||100,value:e[0].progress}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","wx-field svelte-kqkezg")},m(e,r){N(e,t,r),Ge(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.min=e[1].progress?.config?.min||0),2&t&&(o.max=e[1].progress?.config?.max||100),1&t&&(o.value=e[0].progress),n.$set(o)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){e&&O(t),Je(n)}}}function Ei(e){let t,n,o,r,l,s,i,c,a,d,u,p,f,m,$=e[1].color?.show&&e[0].color&&Ii(e),h=e[1]?.cover?.show&&e[5]&&_i(e);r=new Si({props:{cardFields:e[0],cardShape:e[1]}});let g=e[1]?.label?.show&&e[0].label&&Mi(e),v=e[2]&&Ci(e),w=e[1]?.description?.show&&e[0].description&&Ti(e),y=e[1]?.progress?.show&&e[0].progress&&Di(e);return p=new $i({props:{cardFields:e[0],cardShape:e[1],api:e[3]}}),{c(){$&&$.c(),t=z(),h&&h.c(),n=z(),o=H("div"),Ye(r.$$.fragment),l=z(),s=H("div"),i=H("div"),g&&g.c(),c=z(),v&&v.c(),a=z(),w&&w.c(),d=z(),y&&y.c(),u=z(),Ye(p.$$.fragment),K(i,"class","wx-field wx-label svelte-kqkezg"),K(s,"class","wx-body svelte-kqkezg"),K(o,"class",f=b(e[4])+" svelte-kqkezg")},m(e,f){$&&$.m(e,f),N(e,t,f),h&&h.m(e,f),N(e,n,f),N(e,o,f),Ge(r,o,null),T(o,l),T(o,s),T(s,i),g&&g.m(i,null),T(i,c),v&&v.m(i,null),T(s,a),w&&w.m(s,null),T(s,d),y&&y.m(s,null),T(o,u),Ge(p,o,null),m=!0},p(e,[l]){e[1].color?.show&&e[0].color?$?$.p(e,l):($=Ii(e),$.c(),$.m(t.parentNode,t)):$&&($.d(1),$=null),e[1]?.cover?.show&&e[5]?h?h.p(e,l):(h=_i(e),h.c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null);const a={};1&l&&(a.cardFields=e[0]),2&l&&(a.cardShape=e[1]),r.$set(a),e[1]?.label?.show&&e[0].label?g?g.p(e,l):(g=Mi(e),g.c(),g.m(i,c)):g&&(g.d(1),g=null),e[2]?v?(v.p(e,l),4&l&&He(v,1)):(v=Ci(e),v.c(),He(v,1),v.m(i,null)):v&&(Oe(),Le(v,1,1,(()=>{v=null})),Ae()),e[1]?.description?.show&&e[0].description?w?w.p(e,l):(w=Ti(e),w.c(),w.m(s,d)):w&&(w.d(1),w=null),e[1]?.progress?.show&&e[0].progress?y?(y.p(e,l),3&l&&He(y,1)):(y=Di(e),y.c(),He(y,1),y.m(s,null)):y&&(Oe(),Le(y,1,1,(()=>{y=null})),Ae());const u={};1&l&&(u.cardFields=e[0]),2&l&&(u.cardShape=e[1]),8&l&&(u.api=e[3]),p.$set(u),(!m||16&l&&f!==(f=b(e[4])+" svelte-kqkezg"))&&K(o,"class",f)},i(e){m||(He(r.$$.fragment,e),He(v),He(y),He(p.$$.fragment,e),m=!0)},o(e){Le(r.$$.fragment,e),Le(v),Le(y),Le(p.$$.fragment,e),m=!1},d(e){$&&$.d(e),e&&O(t),h&&h.d(e),e&&O(n),e&&O(o),Je(r),g&&g.d(),v&&v.d(),w&&w.d(),y&&y.d(),Je(p)}}}function Ni(e,t,n){let o,r,l;var s;let{cardFields:i}=t,{cardShape:c}=t,{menu:a=!0}=t,{api:d}=t;return e.$$set=e=>{"cardFields"in e&&n(0,i=e.cardFields),"cardShape"in e&&n(1,c=e.cardShape),"menu"in e&&n(2,a=e.menu),"api"in e&&n(3,d=e.api)},e.$$.update=()=>{65&e.$$.dirty&&n(7,o=null===n(6,s=null==i?void 0:i.attached)||void 0===s?void 0:s.find((e=>e.isCover))),128&e.$$.dirty&&n(5,r=o?o.coverURL||o.url:null),3&e.$$.dirty&&n(4,l=function(e,t){let n="wx-content";return e.css&&(n+=" "+e.css),t.css?()=>n+=` ${t.css(e)}`:()=>n}(i,c)())},[i,c,a,d,l,r,s,o]}class Oi extends We{constructor(e){super(),Be(this,e,Ni,Ei,c,{cardFields:0,cardShape:1,menu:2,api:3})}}function Ai(e){let t,n,o,r,l;var s=e[4];function i(e){return{props:{api:e[7],cardFields:e[0],dragging:e[1],selected:e[2],cardShape:e[3],menu:e[6]}}}return s&&(n=ee(s,i(e)),n.$on("action",e[10])),{c(){t=H("div"),n&&Ye(n.$$.fragment),K(t,"class","wx-card svelte-1t9rqgm"),K(t,"data-drag-item",o=e[0].id),G(t,"height",e[8]),G(t,"max-height",e[8]),K(t,"data-id",r=e[0].id),X(t,"wx-hidden",e[1]),X(t,"wx-selected",e[2]),X(t,"wx-dimmed",e[5]?.dimmed)},m(e,o){N(e,t,o),n&&Ge(n,t,null),l=!0},p(e,[c]){const a={};if(128&c&&(a.api=e[7]),1&c&&(a.cardFields=e[0]),2&c&&(a.dragging=e[1]),4&c&&(a.selected=e[2]),8&c&&(a.cardShape=e[3]),64&c&&(a.menu=e[6]),16&c&&s!==(s=e[4])){if(n){Oe();const e=n;Le(e.$$.fragment,1,0,(()=>{Je(e,1)})),Ae()}s?(n=ee(s,i(e)),n.$on("action",e[10]),Ye(n.$$.fragment),He(n.$$.fragment,1),Ge(n,t,null)):n=null}else s&&n.$set(a);(!l||1&c&&o!==(o=e[0].id))&&K(t,"data-drag-item",o),(!l||256&c)&&G(t,"height",e[8]),(!l||256&c)&&G(t,"max-height",e[8]),(!l||1&c&&r!==(r=e[0].id))&&K(t,"data-id",r),(!l||2&c)&&X(t,"wx-hidden",e[1]),(!l||4&c)&&X(t,"wx-selected",e[2]),(!l||32&c)&&X(t,"wx-dimmed",e[5]?.dimmed)},i(e){l||(n&&He(n.$$.fragment,e),l=!0)},o(e){n&&Le(n.$$.fragment,e),l=!1},d(e){e&&O(t),n&&Je(n)}}}function Hi(e,t,n){let o,{cardFields:r}=t,{dragging:l=!1}=t,{selected:s=!1}=t,{cardShape:i}=t,{cardTemplate:c}=t,{meta:a=null}=t,{cardHeight:d}=t,{menu:u}=t,{api:p}=t;return e.$$set=e=>{"cardFields"in e&&n(0,r=e.cardFields),"dragging"in e&&n(1,l=e.dragging),"selected"in e&&n(2,s=e.selected),"cardShape"in e&&n(3,i=e.cardShape),"cardTemplate"in e&&n(4,c=e.cardTemplate),"meta"in e&&n(5,a=e.meta),"cardHeight"in e&&n(9,d=e.cardHeight),"menu"in e&&n(6,u=e.menu),"api"in e&&n(7,p=e.api)},e.$$.update=()=>{512&e.$$.dirty&&n(8,o=d?d+"px":"auto")},[r,l,s,i,c,a,u,p,o,d,function(t){me.call(this,e,t)}]}class Li extends We{constructor(e){super(),Be(this,e,Hi,Ai,c,{cardFields:0,dragging:1,selected:2,cardShape:3,cardTemplate:4,meta:5,cardHeight:9,menu:6,api:7})}}const Ri=e=>({}),zi=e=>({});function Fi(e,t,n){const o=e.slice();return o[28]=t[n],o}const ji=e=>({item:16&e}),qi=e=>({item:e[28].data});function Pi(e,t){let n,o,r,l,s;const i=t[15].item,c=f(i,t,t[14],qi);return{key:e,first:null,c(){n=H("div"),c&&c.c(),o=z(),K(n,"class","wx-item svelte-p0hyfc"),K(n,"data-id",r=t[28].data.id),K(n,"data-index",l=t[28].index),this.first=n},m(e,t){N(e,n,t),c&&c.m(n,null),T(n,o),s=!0},p(e,o){t=e,c&&c.p&&(!s||16400&o)&&h(c,i,t,t[14],s?$(i,t[14],o,ji):g(t[14]),qi),(!s||16&o&&r!==(r=t[28].data.id))&&K(n,"data-id",r),(!s||16&o&&l!==(l=t[28].index))&&K(n,"data-index",l)},i(e){s||(He(c,e),s=!0)},o(e){Le(c,e),s=!1},d(e){e&&O(n),c&&c.d(e)}}}function Ki(e){let t,n,o,r,l,i,c,a=[],d=new Map,u=e[4];const p=e=>e[28].index;for(let t=0;t<u.length;t+=1){let n=Fi(e,u,t),o=p(n);d.set(o,a[t]=Pi(o,n))}const m=e[15].extra,v=f(m,e,e[14],zi);return{c(){t=H("div"),n=H("div");for(let e=0;e<a.length;e+=1)a[e].c();o=z(),v&&v.c(),K(n,"class","wx-content svelte-p0hyfc"),G(n,"padding-top",e[5]+"px"),G(n,"padding-bottom",e[6]+"px"),K(t,"class","wx-virtual-list svelte-p0hyfc"),G(t,"height",e[0]),ke((()=>e[18].call(t)))},m(s,d){N(s,t,d),T(t,n);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);e[16](n),T(t,o),v&&v.m(t,null),e[17](t),r=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=H("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=W();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=j(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{r=j(n.contentWindow,"resize",t),t()}),T(e,n),()=>{(o||r&&n.contentWindow)&&r(),O(n)}}(t,e[18].bind(t)),l=!0,i||(c=[j(t,"scroll",e[7]),k(Hl.call(null,t))],i=!0)},p(e,[o]){16400&o&&(u=e[4],Oe(),a=Pe(a,o,p,1,e,u,d,n,qe,Pi,null,Fi),Ae()),(!l||32&o)&&G(n,"padding-top",e[5]+"px"),(!l||64&o)&&G(n,"padding-bottom",e[6]+"px"),v&&v.p&&(!l||16384&o)&&h(v,m,e,e[14],l?$(m,e[14],o,Ri):g(e[14]),zi),(!l||1&o)&&G(t,"height",e[0])},i(e){if(!l){for(let e=0;e<u.length;e+=1)He(a[e]);He(v,e),l=!0}},o(e){for(let e=0;e<a.length;e+=1)Le(a[e]);Le(v,e),l=!1},d(n){n&&O(t);for(let e=0;e<a.length;e+=1)a[e].d();e[16](null),v&&v.d(n),e[17](null),r(),i=!1,s(c)}}}function Ui(e,t,n){let{$$slots:o={},$$scope:r}=t;var l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,l){function s(e){try{c(o.next(e))}catch(e){l(e)}}function i(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};let{items:s}=t,{scrollToId:i}=t,{height:c="100%"}=t,{itemHeight:a}=t,{start:d=0}=t,{end:u=0}=t;const p=ue();let f,m,$,h,g,v=[],w=0,y=!1,b=0,x=0;function k(e){return l(this,void 0,void 0,(function*(){if(m.querySelector(`[data-id="${e}"]`))return;const t=s.findIndex((t=>t.id===e));t>-1&&(n(2,m.scrollTop=(t+1)*g-w/2,m),I(),e=null)}))}function S(e){const t=s.length-u;n(6,x=t*e)}function I(){return l(this,void 0,void 0,(function*(){const{scrollTop:e}=m;h.forEach(((e,t)=>{const{index:n}=e;v[n]=a||f[t].offsetHeight}));let t=0,o=0;for(;t<s.length;){const r=v[t]||g;if(o+r>e){n(8,d=t),n(5,b=o);break}o+=r,t+=1}for(;t<s.length&&(o+=v[t]||g,t+=1,!(o>e+w)););n(9,u=t),g=Math.round(o/u),S(g)}))}return ce((()=>{f=$.children,n(13,y=!0)})),e.$$set=e=>{"items"in e&&n(10,s=e.items),"scrollToId"in e&&n(11,i=e.scrollToId),"height"in e&&n(0,c=e.height),"itemHeight"in e&&n(12,a=e.itemHeight),"start"in e&&n(8,d=e.start),"end"in e&&n(9,u=e.end),"$$scope"in e&&n(14,r=e.$$scope)},e.$$.update=()=>{1792&e.$$.dirty&&n(4,h=s.slice(d,u).map(((e,t)=>({index:t+d,data:e})))),15362&e.$$.dirty&&y&&function(e,t,o,r){l(this,void 0,void 0,(function*(){yield xe(),v.length=e.length,v.fill(0);const{scrollTop:l}=m;let s=b-l;for(let r=d;r<e.length;r++){if(s>t){n(9,u=r);break}let e=f[r-d];e||(n(9,u=r+1),yield xe(),e=f[r-d]);const l=o||e.offsetHeight;v[r]=l,s+=l}g=Math.round((b+s)/u),S(g),yield xe(),r&&k(r)}))}(s,w,a,i)},[c,w,m,$,h,b,x,function(){return l(this,void 0,void 0,(function*(){I(),p("scroll",{start:d,end:u})}))},d,u,s,i,a,y,r,o,function(e){he[e?"unshift":"push"]((()=>{$=e,n(3,$)}))},function(e){he[e?"unshift":"push"]((()=>{m=e,n(2,m)}))},function(){w=this.offsetHeight,n(1,w)}]}class Vi extends We{constructor(e){super(),Be(this,e,Ui,Ki,c,{items:10,scrollToId:11,height:0,itemHeight:12,start:8,end:9})}}function Yi(e){let t,n,o;return n=new Vi({props:{items:e[13],scrollToId:e[14],$$slots:{extra:[Wi,({item:e})=>({19:e}),({item:e})=>e?524288:0],item:[Ji,({item:e})=>({19:e}),({item:e})=>e?524288:0]},$$scope:{ctx:e}}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","wx-list-wrapper svelte-84hxz5"),K(t,"data-id","scroll-column")},m(e,r){N(e,t,r),Ge(n,t,null),o=!0},p(e,t){const o={};8192&t&&(o.items=e[13]),16384&t&&(o.scrollToId=e[14]),1580030&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){e&&O(t),Je(n)}}}function Gi(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-84hxz5"),G(t,"min-height",e[8]+"px")},m(e,n){N(e,t,n)},p(e,n){256&n&&G(t,"min-height",e[8]+"px")},d(e){e&&O(t)}}}function Ji(e){let t,n,o,r,l=Fr(e[19].id,e[1]),s=l&&Gi(e);return o=new Li({props:{api:e[12],cardTemplate:e[5]||Oi,cardFields:e[19],cardHeight:e[7],dragging:e[6][e[19].id]?.dragging,selected:jr(e[3],e[19].id),meta:e[6]&&e[6][e[19].id],cardShape:e[4],menu:e[11][e[19].id]}}),o.$on("action",e[18]),{c(){t=H("div"),s&&s.c(),n=z(),Ye(o.$$.fragment),K(t,"slot","item")},m(e,l){N(e,t,l),s&&s.m(t,null),T(t,n),Ge(o,t,null),r=!0},p(e,r){524290&r&&(l=Fr(e[19].id,e[1])),l?s?s.p(e,r):(s=Gi(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const i={};4096&r&&(i.api=e[12]),32&r&&(i.cardTemplate=e[5]||Oi),524288&r&&(i.cardFields=e[19]),128&r&&(i.cardHeight=e[7]),524352&r&&(i.dragging=e[6][e[19].id]?.dragging),524296&r&&(i.selected=jr(e[3],e[19].id)),524352&r&&(i.meta=e[6]&&e[6][e[19].id]),16&r&&(i.cardShape=e[4]),526336&r&&(i.menu=e[11][e[19].id]),o.$set(i)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(t),s&&s.d(),Je(o)}}}function Bi(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-84hxz5"),G(t,"min-height",e[8]+"px")},m(e,n){N(e,t,n)},p(e,n){256&n&&G(t,"min-height",e[8]+"px")},d(e){e&&O(t)}}}function Wi(e){let t,n=!e[1]&&Fr(e[2],e[9]),o=n&&Bi(e);return{c(){t=H("div"),o&&o.c(),K(t,"slot","extra")},m(e,n){N(e,t,n),o&&o.m(t,null)},p(e,r){518&r&&(n=!e[1]&&Fr(e[2],e[9])),n?o?o.p(e,r):(o=Bi(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&O(t),o&&o.d()}}}function Xi(e){let t,n,o=e[0]&&Yi(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&He(o,1)):(o=Yi(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function Qi(e,n,o){let r,l,s=t,i=()=>(s(),s=u(b,(e=>o(17,l=e))),b);e.$$.on_destroy.push((()=>s()));let{column:c}=n,{cards:a}=n,{overCardId:d}=n,{overColId:p}=n,{movedCardId:f}=n,{selected:m}=n,{cardShape:$}=n,{cardTemplate:h=null}=n,{cardsMeta:g={}}=n,{cardHeight:v=null}=n,{movedCardHeight:w=0}=n,{areaId:y}=n,{scrollTo:b}=n;i();let k,{isMenuVisible:S}=n,{api:I}=n;return e.$$set=e=>{"column"in e&&o(15,c=e.column),"cards"in e&&o(0,a=e.cards),"overCardId"in e&&o(1,d=e.overCardId),"overColId"in e&&o(2,p=e.overColId),"movedCardId"in e&&o(16,f=e.movedCardId),"selected"in e&&o(3,m=e.selected),"cardShape"in e&&o(4,$=e.cardShape),"cardTemplate"in e&&o(5,h=e.cardTemplate),"cardsMeta"in e&&o(6,g=e.cardsMeta),"cardHeight"in e&&o(7,v=e.cardHeight),"movedCardHeight"in e&&o(8,w=e.movedCardHeight),"areaId"in e&&o(9,y=e.areaId),"scrollTo"in e&&i(o(10,b=e.scrollTo)),"isMenuVisible"in e&&o(11,S=e.isMenuVisible),"api"in e&&o(12,I=e.api)},e.$$.update=()=>{98309&e.$$.dirty&&o(13,r=a.filter((e=>!Fr(f,e.id)&&!Fr(p,c.id)))),139264&e.$$.dirty&&l&&"card"===l.to&&l.id&&r.find((e=>Fr(e.id,l.id)))&&(o(14,k=l.id),x(b,l=null,l))},[a,d,p,m,$,h,g,v,w,y,b,S,I,r,k,c,f,l,function(t){me.call(this,e,t)}]}class Zi extends We{constructor(e){super(),Be(this,e,Qi,Xi,c,{column:15,cards:0,overCardId:1,overColId:2,movedCardId:16,selected:3,cardShape:4,cardTemplate:5,cardsMeta:6,cardHeight:7,movedCardHeight:8,areaId:9,scrollTo:10,isMenuVisible:11,api:12})}}function ec(e,t,n){const o=e.slice();return o[13]=t[n],o}function tc(e){let t,n,o,r,l=e[0]&&nc(e);return{c(){t=H("div"),l&&l.c(),K(t,"class","wx-list-wrapper svelte-1ck6han")},m(e,s){N(e,t,s),l&&l.m(t,null),n=!0,o||(r=k(Hl.call(null,t)),o=!0)},p(e,n){e[0]?l?(l.p(e,n),1&n&&He(l,1)):(l=nc(e),l.c(),He(l,1),l.m(t,null)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){n||(He(l),n=!0)},o(e){Le(l),n=!1},d(e){e&&O(t),l&&l.d(),o=!1,r()}}}function nc(e){let t,n,o,r=[],l=new Map,s=!e[1]&&Fr(e[2],e[9]),i=e[0];const c=e=>e[13].id;for(let t=0;t<i.length;t+=1){let n=ec(e,i,t),o=c(n);l.set(o,r[t]=rc(o,n))}let a=s&&lc(e);return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=z(),a&&a.c(),n=F()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);N(e,t,l),a&&a.m(e,l),N(e,n,l),o=!0},p(e,o){3579&o&&(i=e[0],Oe(),r=Pe(r,o,c,1,e,i,l,t.parentNode,qe,rc,t,ec),Ae()),518&o&&(s=!e[1]&&Fr(e[2],e[9])),s?a?a.p(e,o):(a=lc(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!o){for(let e=0;e<i.length;e+=1)He(r[e]);o=!0}},o(e){for(let e=0;e<r.length;e+=1)Le(r[e]);o=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&O(t),a&&a.d(e),e&&O(n)}}}function oc(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-1ck6han"),G(t,"min-height",e[8]+"px")},m(e,n){N(e,t,n)},p(e,n){256&n&&G(t,"min-height",e[8]+"px")},d(e){e&&O(t)}}}function rc(e,t){let n,o,r,l,s=Fr(t[13].id,t[1]),i=s&&oc(t);return r=new Li({props:{api:t[11],cardTemplate:t[5]||Oi,cardFields:t[13],cardHeight:t[7],dragging:t[6][t[13].id]?.dragging,selected:jr(t[3],t[13].id),meta:t[6]&&t[6][t[13].id],cardShape:t[4],menu:t[10][t[13].id]}}),r.$on("action",t[12]),{key:e,first:null,c(){n=F(),i&&i.c(),o=z(),Ye(r.$$.fragment),this.first=n},m(e,t){N(e,n,t),i&&i.m(e,t),N(e,o,t),Ge(r,e,t),l=!0},p(e,n){t=e,3&n&&(s=Fr(t[13].id,t[1])),s?i?i.p(t,n):(i=oc(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null);const l={};2048&n&&(l.api=t[11]),32&n&&(l.cardTemplate=t[5]||Oi),1&n&&(l.cardFields=t[13]),128&n&&(l.cardHeight=t[7]),65&n&&(l.dragging=t[6][t[13].id]?.dragging),9&n&&(l.selected=jr(t[3],t[13].id)),65&n&&(l.meta=t[6]&&t[6][t[13].id]),16&n&&(l.cardShape=t[4]),1025&n&&(l.menu=t[10][t[13].id]),r.$set(l)},i(e){l||(He(r.$$.fragment,e),l=!0)},o(e){Le(r.$$.fragment,e),l=!1},d(e){e&&O(n),i&&i.d(e),e&&O(o),Je(r,e)}}}function lc(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-1ck6han"),G(t,"min-height",e[8]+"px")},m(e,n){N(e,t,n)},p(e,n){256&n&&G(t,"min-height",e[8]+"px")},d(e){e&&O(t)}}}function sc(e){let t,n,o=e[0]&&tc(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&He(o,1)):(o=tc(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function ic(e,t,n){let{cards:o}=t,{overCardId:r}=t,{overColId:l}=t,{selected:s}=t,{cardShape:i}=t,{cardTemplate:c=null}=t,{cardsMeta:a={}}=t,{cardHeight:d=null}=t,{movedCardHeight:u=0}=t,{areaId:p}=t,{isMenuVisible:f}=t,{api:m}=t;return e.$$set=e=>{"cards"in e&&n(0,o=e.cards),"overCardId"in e&&n(1,r=e.overCardId),"overColId"in e&&n(2,l=e.overColId),"selected"in e&&n(3,s=e.selected),"cardShape"in e&&n(4,i=e.cardShape),"cardTemplate"in e&&n(5,c=e.cardTemplate),"cardsMeta"in e&&n(6,a=e.cardsMeta),"cardHeight"in e&&n(7,d=e.cardHeight),"movedCardHeight"in e&&n(8,u=e.movedCardHeight),"areaId"in e&&n(9,p=e.areaId),"isMenuVisible"in e&&n(10,f=e.isMenuVisible),"api"in e&&n(11,m=e.api)},[o,r,l,s,i,c,a,d,u,p,f,m,function(t){me.call(this,e,t)}]}class cc extends We{constructor(e){super(),Be(this,e,ic,sc,c,{cards:0,overCardId:1,overColId:2,selected:3,cardShape:4,cardTemplate:5,cardsMeta:6,cardHeight:7,movedCardHeight:8,areaId:9,isMenuVisible:10,api:11})}}function ac(e,t,n){const o=e.slice();return o[54]=t[n],o}function dc(e){let n,o,r,l=e[0].label+"";return{c(){n=H("div"),o=H("div"),r=R(l),K(o,"class","wx-label-text svelte-1ppa004"),K(n,"class","wx-collapsed-label svelte-1ppa004")},m(e,t){N(e,n,t),T(n,o),T(o,r)},p(e,t){1&t[0]&&l!==(l=e[0].label+"")&&V(r,l)},i:t,o:t,d(e){e&&O(n)}}}function uc(e){let t,n,o,r,l,s;const i=[mc,fc,pc],c=[];function a(e,t){return"column:lazy"===e[11]?0:"column:default"===e[11]?1:2}t=a(e),n=c[t]=i[t](e);let d=e[18]&&!e[1].noFreeSpace&&wc(e),u=e[1].rowId&&e[0].limit&&yc(e);return{c(){n.c(),o=z(),r=H("div"),d&&d.c(),l=z(),u&&u.c(),K(r,"class","wx-controls-wrapper svelte-1ppa004")},m(e,n){c[t].m(e,n),N(e,o,n),N(e,r,n),d&&d.m(r,null),T(r,l),u&&u.m(r,null),s=!0},p(e,s){let p=t;t=a(e),t===p?c[t].p(e,s):(Oe(),Le(c[p],1,1,(()=>{c[p]=null})),Ae(),n=c[t],n?n.p(e,s):(n=c[t]=i[t](e),n.c()),He(n,1),n.m(o.parentNode,o)),e[18]&&!e[1].noFreeSpace?d?(d.p(e,s),262146&s[0]&&He(d,1)):(d=wc(e),d.c(),He(d,1),d.m(r,l)):d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()),e[1].rowId&&e[0].limit?u?u.p(e,s):(u=yc(e),u.c(),u.m(r,null)):u&&(u.d(1),u=null)},i(e){s||(He(n),He(d),s=!0)},o(e){Le(n),Le(d),s=!1},d(e){c[t].d(e),e&&O(o),e&&O(r),d&&d.d(),u&&u.d()}}}function pc(e){let t,n,o,r=!e[14]&&Fr(e[13],e[9]),l=e[2]&&$c(e),s=r&&vc(e);return{c(){l&&l.c(),t=z(),s&&s.c(),n=F()},m(e,r){l&&l.m(e,r),N(e,t,r),s&&s.m(e,r),N(e,n,r),o=!0},p(e,o){e[2]?l?(l.p(e,o),4&o[0]&&He(l,1)):(l=$c(e),l.c(),He(l,1),l.m(t.parentNode,t)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae()),25088&o[0]&&(r=!e[14]&&Fr(e[13],e[9])),r?s?s.p(e,o):(s=vc(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(e){o||(He(l),o=!0)},o(e){Le(l),o=!1},d(e){l&&l.d(e),e&&O(t),s&&s.d(e),e&&O(n)}}}function fc(e){let t,n;return t=new cc({props:{api:e[4],cards:e[2],overCardId:e[14],overColId:e[13],selected:e[17],cardShape:e[16],cardTemplate:e[3],cardsMeta:e[15],movedCardHeight:e[7],areaId:e[9],cardHeight:e[10],isMenuVisible:e[5]}}),t.$on("action",e[50]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};16&n[0]&&(o.api=e[4]),4&n[0]&&(o.cards=e[2]),16384&n[0]&&(o.overCardId=e[14]),8192&n[0]&&(o.overColId=e[13]),131072&n[0]&&(o.selected=e[17]),65536&n[0]&&(o.cardShape=e[16]),8&n[0]&&(o.cardTemplate=e[3]),32768&n[0]&&(o.cardsMeta=e[15]),128&n[0]&&(o.movedCardHeight=e[7]),512&n[0]&&(o.areaId=e[9]),1024&n[0]&&(o.cardHeight=e[10]),32&n[0]&&(o.isMenuVisible=e[5]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function mc(e){let t,n;return t=new Zi({props:{api:e[4],column:e[0],cards:e[2],overCardId:e[14],overColId:e[13],movedCardId:e[12],selected:e[17],cardShape:e[16],cardTemplate:e[3],cardsMeta:e[15],movedCardHeight:e[7],areaId:e[9],scrollTo:e[23],cardHeight:e[10],isMenuVisible:e[5]}}),t.$on("action",e[49]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};16&n[0]&&(o.api=e[4]),1&n[0]&&(o.column=e[0]),4&n[0]&&(o.cards=e[2]),16384&n[0]&&(o.overCardId=e[14]),8192&n[0]&&(o.overColId=e[13]),4096&n[0]&&(o.movedCardId=e[12]),131072&n[0]&&(o.selected=e[17]),65536&n[0]&&(o.cardShape=e[16]),8&n[0]&&(o.cardTemplate=e[3]),32768&n[0]&&(o.cardsMeta=e[15]),128&n[0]&&(o.movedCardHeight=e[7]),512&n[0]&&(o.areaId=e[9]),1024&n[0]&&(o.cardHeight=e[10]),32&n[0]&&(o.isMenuVisible=e[5]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function $c(e){let t,n,o=[],r=new Map,l=e[2];const s=e=>e[54].id;for(let t=0;t<l.length;t+=1){let n=ac(e,l,t),i=s(n);r.set(i,o[t]=gc(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=F()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){246972&n[0]&&(l=e[2],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,gc,t,ac),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function hc(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-1ppa004"),G(t,"min-height",e[7]+"px")},m(e,n){N(e,t,n)},p(e,n){128&n[0]&&G(t,"min-height",e[7]+"px")},d(e){e&&O(t)}}}function gc(e,t){let n,o,r,l,s=Fr(t[54].id,t[14]),i=s&&hc(t);return r=new Li({props:{api:t[4],cardTemplate:t[3]||Oi,cardFields:t[54],dragging:t[15][t[54].id]?.dragging,selected:jr(t[17],t[54].id),meta:t[15]&&t[15][t[54].id],cardShape:t[16],cardHeight:t[10],menu:t[5][t[54].id]}}),r.$on("action",t[51]),{key:e,first:null,c(){n=F(),i&&i.c(),o=z(),Ye(r.$$.fragment),this.first=n},m(e,t){N(e,n,t),i&&i.m(e,t),N(e,o,t),Ge(r,e,t),l=!0},p(e,n){t=e,16388&n[0]&&(s=Fr(t[54].id,t[14])),s?i?i.p(t,n):(i=hc(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null);const l={};16&n[0]&&(l.api=t[4]),8&n[0]&&(l.cardTemplate=t[3]||Oi),4&n[0]&&(l.cardFields=t[54]),32772&n[0]&&(l.dragging=t[15][t[54].id]?.dragging),131076&n[0]&&(l.selected=jr(t[17],t[54].id)),32772&n[0]&&(l.meta=t[15]&&t[15][t[54].id]),65536&n[0]&&(l.cardShape=t[16]),1024&n[0]&&(l.cardHeight=t[10]),36&n[0]&&(l.menu=t[5][t[54].id]),r.$set(l)},i(e){l||(He(r.$$.fragment,e),l=!0)},o(e){Le(r.$$.fragment,e),l=!1},d(e){e&&O(n),i&&i.d(e),e&&O(o),Je(r,e)}}}function vc(e){let t;return{c(){t=H("div"),K(t,"class","wx-drop-area svelte-1ppa004"),G(t,"min-height",e[7]+"px")},m(e,n){N(e,t,n)},p(e,n){128&n[0]&&G(t,"min-height",e[7]+"px")},d(e){e&&O(t)}}}function wc(e){let n,o,r,l,s,i,c;return o=new Ul({props:{name:"wxi-plus"}}),{c(){n=H("div"),Ye(o.$$.fragment),r=z(),l=H("span"),l.textContent=`${e[19]("Add new card")}...`,K(l,"class","wx-add-card-tip svelte-1ppa004"),K(n,"class","wx-add-card-btn svelte-1ppa004")},m(t,a){N(t,n,a),Ge(o,n,null),T(n,r),T(n,l),s=!0,i||(c=j(n,"click",e[33]),i=!0)},p:t,i(e){s||(He(o.$$.fragment,e),s=!0)},o(e){Le(o.$$.fragment,e),s=!1},d(e){e&&O(n),Je(o),i=!1,c()}}}function yc(e){let t,n,o,r,l=e[1].cardsCount+"",s=e[1].totalLimit+"";return{c(){t=H("div"),n=R(l),o=R("/"),r=R(s),K(t,"class","wx-swimlane-limit svelte-1ppa004")},m(e,l){N(e,t,l),T(t,n),T(t,o),T(t,r)},p(e,t){2&t[0]&&l!==(l=e[1].cardsCount+"")&&V(n,l),2&t[0]&&s!==(s=e[1].totalLimit+"")&&V(r,s)},d(e){e&&O(t)}}}function bc(e){let t,n,o;var r=e[0].overlay;return r&&(t=ee(r,{})),{c(){t&&Ye(t.$$.fragment),n=F()},m(e,r){t&&Ge(t,e,r),N(e,n,r),o=!0},p(e,o){if(1&o[0]&&r!==(r=e[0].overlay)){if(t){Oe();const e=t;Le(e.$$.fragment,1,0,(()=>{Je(e,1)})),Ae()}r?(t=ee(r,{}),Ye(t.$$.fragment),He(t.$$.fragment,1),Ge(t,n.parentNode,n)):t=null}},i(e){o||(t&&He(t.$$.fragment,e),o=!0)},o(e){t&&Le(t.$$.fragment,e),o=!1},d(e){e&&O(n),t&&Je(t,e)}}}function xc(e){let t,n,o,r,l,s;const i=[uc,dc],c=[];function a(e,t){return e[0].collapsed?1:0}n=a(e),o=c[n]=i[n](e);let d=e[0].overlay&&bc(e);return{c(){t=H("div"),o.c(),r=z(),d&&d.c(),K(t,"class",l=b(e[6])+" svelte-1ppa004"),K(t,"data-drop-area",e[9]),G(t,"min-height",e[8])},m(e,o){N(e,t,o),c[n].m(t,null),T(t,r),d&&d.m(t,null),s=!0},p(e,u){let p=n;n=a(e),n===p?c[n].p(e,u):(Oe(),Le(c[p],1,1,(()=>{c[p]=null})),Ae(),o=c[n],o?o.p(e,u):(o=c[n]=i[n](e),o.c()),He(o,1),o.m(t,r)),e[0].overlay?d?(d.p(e,u),1&u[0]&&He(d,1)):(d=bc(e),d.c(),He(d,1),d.m(t,null)):d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()),(!s||64&u[0]&&l!==(l=b(e[6])+" svelte-1ppa004"))&&K(t,"class",l),(!s||512&u[0])&&K(t,"data-drop-area",e[9]),(!s||256&u[0])&&G(t,"min-height",e[8])},i(e){s||(He(o),He(d),s=!0)},o(e){Le(o),Le(d),s=!1},d(e){e&&O(t),c[n].d(),d&&d.d()}}}function kc(e,t,n){let o,r,l,s,i,c,a,d,u,f,m,$,h,g,v,w,y,b,x,k,S,I,_,M,C,T,D,{column:E}=t,{areaMeta:N}=t,{row:O}=t,{cards:A}=t,{cardTemplate:H=null}=t,{api:L}=t,{isMenuVisible:R}=t;const z=fe("wx-i18n").getGroup("kanban"),{selected:F,cardShape:j,cardsMeta:q,scroll:P,readonly:K,columnShape:U,before:V,overAreaId:Y,dragItemId:G,dragItemsCoords:J,layout:B,cardHeight:W,cardsMap:X}=L.getReactiveState();p(e,F,(e=>n(46,C=e))),p(e,j,(e=>n(45,M=e))),p(e,q,(e=>n(44,_=e))),p(e,K,(e=>n(48,D=e))),p(e,U,(e=>n(38,y=e))),p(e,V,(e=>n(43,I=e))),p(e,Y,(e=>n(42,S=e))),p(e,G,(e=>n(41,k=e))),p(e,J,(e=>n(47,T=e))),p(e,B,(e=>n(40,x=e))),p(e,W,(e=>n(39,b=e))),p(e,X,(e=>n(37,w=e)));const Q=ue();return e.$$set=e=>{"column"in e&&n(0,E=e.column),"areaMeta"in e&&n(1,N=e.areaMeta),"row"in e&&n(34,O=e.row),"cards"in e&&n(2,A=e.cards),"cardTemplate"in e&&n(3,H=e.cardTemplate),"api"in e&&n(4,L=e.api),"isMenuVisible"in e&&n(5,R=e.isMenuVisible)},e.$$.update=()=>{131072&e.$$.dirty[1]&&n(18,o=D.add),66560&e.$$.dirty[1]&&n(35,r=T&&T[k]),32768&e.$$.dirty[1]&&n(17,l=C),16384&e.$$.dirty[1]&&n(16,s=M),8192&e.$$.dirty[1]&&n(15,i=_),4096&e.$$.dirty[1]&&n(14,c=I),2048&e.$$.dirty[1]&&n(13,a=S),1024&e.$$.dirty[1]&&n(12,d=k),512&e.$$.dirty[1]&&n(11,u=x),256&e.$$.dirty[1]&&n(10,f=b),1&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(9,m=qr(E.id,O.id)),2&e.$$.dirty[0]&&n(36,$=null==N?void 0:N.height),32&e.$$.dirty[1]&&n(8,h=$?`${$}px`:"auto"),16&e.$$.dirty[1]&&n(7,g=((null==r?void 0:r.height)||50)-2),3&e.$$.dirty[0]|192&e.$$.dirty[1]&&n(6,v=function(e,t,n,o){let r="wx-column";return t.collapsed&&(r+=" wx-collapsed"),n&&(r+=" wx-over-limit"),t.css&&(r+=" "+t.css),e&&e.css&&(r+=" "+e.css(t,o)),r}(y,E,N.isOverLimit,w[E.id]))},[E,N,A,H,L,R,v,g,h,m,f,u,d,a,c,i,s,l,o,z,F,j,q,P,K,U,V,Y,G,J,B,W,X,function(e){e.stopPropagation(),Q("action",{action:"add-card",data:{columnId:E.id,rowId:O.id,card:{label:z("Untitled")}}})},O,r,$,w,y,b,x,k,S,I,_,M,C,T,D,function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(t){me.call(this,e,t)}]}class Sc extends We{constructor(e){super(),Be(this,e,kc,xc,c,{column:0,areaMeta:1,row:34,cards:2,cardTemplate:3,api:4,isMenuVisible:5},null,[-1,-1])}}function Ic(e){let t,n,o,r,l;return{c(){t=H("div"),K(t,"class",n="wx-collapsed-column"+(e[2].css?" "+e[2].css:"")+" svelte-ms9wpd"),G(t,"left",e[6]+"px")},m(n,s){N(n,t,s),r||(l=[j(t,"click",e[22]),k(o=Fl.call(null,t,{container:e[1]}))],r=!0)},p(e,r){4&r&&n!==(n="wx-collapsed-column"+(e[2].css?" "+e[2].css:"")+" svelte-ms9wpd")&&K(t,"class",n),64&r&&G(t,"left",e[6]+"px"),o&&i(o.update)&&2&r&&o.update.call(null,{container:e[1]})},d(e){e&&O(t),r=!1,s(l)}}}function _c(e){let t,n=e[2].label+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){4&o&&n!==(n=e[2].label+"")&&V(t,n)},d(e){e&&O(t)}}}function Mc(e){let t,n,o,r;return{c(){t=H("input"),K(t,"type","text"),K(t,"class","wx-input svelte-ms9wpd"),t.value=n=e[2].label},m(n,l){N(n,t,l),o||(r=[j(t,"input",e[15]),j(t,"keypress",e[16]),j(t,"blur",e[13]),k(Nc.call(null,t))],o=!0)},p(e,o){4&o&&n!==(n=e[2].label)&&t.value!==n&&(t.value=n)},d(e){e&&O(t),o=!1,s(r)}}}function Cc(e){let t,n,o,r,l,s=e[2].limit&&Tc(e);return o=new Ul({props:{name:"wxi-dots-h",clickable:!0}}),{c(){s&&s.c(),t=z(),n=H("div"),Ye(o.$$.fragment),K(n,"class","wx-menu svelte-ms9wpd"),K(n,"data-menu-id",r=e[2].id)},m(e,r){s&&s.m(e,r),N(e,t,r),N(e,n,r),Ge(o,n,null),l=!0},p(e,o){e[2].limit?s?s.p(e,o):(s=Tc(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),(!l||4&o&&r!==(r=e[2].id))&&K(n,"data-menu-id",r)},i(e){l||(He(o.$$.fragment,e),l=!0)},o(e){Le(o.$$.fragment,e),l=!1},d(e){s&&s.d(e),e&&O(t),e&&O(n),Je(o)}}}function Tc(e){let t,n,o,r,l,s=e[3][e[2].id].cardsCount+"",i=e[3][e[2].id].totalLimit+"";return{c(){t=R("("),n=R(s),o=R("/"),r=R(i),l=R(")")},m(e,s){N(e,t,s),N(e,n,s),N(e,o,s),N(e,r,s),N(e,l,s)},p(e,t){12&t&&s!==(s=e[3][e[2].id].cardsCount+"")&&V(n,s),12&t&&i!==(i=e[3][e[2].id].totalLimit+"")&&V(r,i)},d(e){e&&O(t),e&&O(n),e&&O(o),e&&O(r),e&&O(l)}}}function Dc(e){let t;return{c(){t=H("span"),t.textContent="Trial",K(t,"class","wx-mark svelte-ms9wpd"),X(t,"wx-error",0<new Date)},m(e,n){N(e,t,n)},p(e,n){0&n&&X(t,"wx-error",0<new Date)},d(e){e&&O(t)}}}function Ec(e){let t,n,o,r,l,s,i,c,a,d,u,p,f,m=!1,$=e[2].collapsed&&e[5]&&e[1]&&Ic(e);function h(e,t){return e[0]?Mc:_c}r=new Ul({props:{name:e[2].collapsed?"wxi-angle-right":"wxi-angle-left",size:24,clickable:!0,click:e[23]}});let g=h(e),v=g(e),w=e[4]&&e[9]&&!e[0]&&Cc(e),y=m&&Dc();return{c(){t=H("div"),$&&$.c(),n=z(),o=H("div"),Ye(r.$$.fragment),l=z(),s=H("div"),v.c(),i=z(),w&&w.c(),c=z(),y&&y.c(),K(o,"class","wx-collapse-icon svelte-ms9wpd"),K(s,"class","wx-label svelte-ms9wpd"),K(t,"class",a=b(e[8])+" svelte-ms9wpd"),K(t,"data-column-header",d=e[2].id)},m(a,d){N(a,t,d),$&&$.m(t,null),T(t,n),T(t,o),Ge(r,o,null),T(t,l),T(t,s),v.m(s,null),T(s,i),w&&w.m(s,null),T(t,c),y&&y.m(t,null),e[25](t),u=!0,p||(f=j(s,"dblclick",e[24]),p=!0)},p(e,[o]){e[2].collapsed&&e[5]&&e[1]?$?$.p(e,o):($=Ic(e),$.c(),$.m(t,n)):$&&($.d(1),$=null);const l={};4&o&&(l.name=e[2].collapsed?"wxi-angle-right":"wxi-angle-left"),r.$set(l),g===(g=h(e))&&v?v.p(e,o):(v.d(1),v=g(e),v&&(v.c(),v.m(s,i))),e[4]&&e[9]&&!e[0]?w?(w.p(e,o),529&o&&He(w,1)):(w=Cc(e),w.c(),He(w,1),w.m(s,null)):w&&(Oe(),Le(w,1,1,(()=>{w=null})),Ae()),128&o&&(m=!1),m?y?y.p(e,o):(y=Dc(),y.c(),y.m(t,null)):y&&(y.d(1),y=null),(!u||256&o&&a!==(a=b(e[8])+" svelte-ms9wpd"))&&K(t,"class",a),(!u||4&o&&d!==(d=e[2].id))&&K(t,"data-column-header",d)},i(e){u||(He(r.$$.fragment,e),He(w),u=!0)},o(e){Le(r.$$.fragment,e),Le(w),u=!1},d(n){n&&O(t),$&&$.d(),Je(r),v.d(),w&&w.d(),y&&y.d(),e[25](null),p=!1,f()}}}function Nc(e){e.focus()}function Oc(e,t,n){let o,r,l,s,i,{api:c}=t,{contentEl:a}=t,{column:d}=t,{areasMeta:u}=t,{isMenuVisible:f}=t,{renaming:m=!1}=t;const $=ue(),{readonly:h,columnShape:g,cardsMap:v}=c.getReactiveState();p(e,h,(e=>n(21,i=e))),p(e,g,(e=>n(20,s=e))),p(e,v,(e=>n(19,l=e)));let w,y=null;function b(){m&&(null==y?void 0:y.trim())&&$("action",{action:"update-column",data:{id:d.id,column:{label:y}}}),n(0,m=!1),y=null,$("action",{action:"close-column-input",data:{}})}function x(){o&&n(0,m=!0)}function k(){$("action",{action:"update-column",data:{id:d.id,column:{collapsed:!d.collapsed}}})}let S=null;function I(){n(6,S=null==w?void 0:w.offsetLeft)}ae((()=>{I()}));const _=new ResizeObserver((()=>{I()}));de((()=>{_.disconnect()}));return e.$$set=e=>{"api"in e&&n(18,c=e.api),"contentEl"in e&&n(1,a=e.contentEl),"column"in e&&n(2,d=e.column),"areasMeta"in e&&n(3,u=e.areasMeta),"isMenuVisible"in e&&n(4,f=e.isMenuVisible),"renaming"in e&&n(0,m=e.renaming)},e.$$.update=()=>{2097152&e.$$.dirty&&n(9,o=i.edit),1572876&e.$$.dirty&&n(8,r=function(e,t,n,o){let r="wx-column";return t.collapsed&&(r+=" wx-collapsed"),n&&(r+=" wx-over-limit"),t.css&&(r+=" "+t.css),e&&e.css&&(r+=" "+e.css(t,o)),r}(s,d,u[d.id].isOverLimit,l[d.id])),2&e.$$.dirty&&a&&_.observe(a)},[m,a,d,u,f,w,S,undefined,r,o,h,g,v,b,x,function(e){y=e.target.value},function(e){13===e.charCode&&b()},k,c,l,s,i,()=>k(),()=>k(),()=>x(),function(e){he[e?"unshift":"push"]((()=>{w=e,n(5,w)}))}]}class Ac extends We{constructor(e){super(),Be(this,e,Oc,Ec,c,{api:18,contentEl:1,column:2,areasMeta:3,isMenuVisible:4,renaming:0})}}function Hc(e,t,n){const o=e.slice();return o[21]=t[n],o}function Lc(e,t){let n,o,r;return o=new Ac({props:{column:t[21],isMenuVisible:t[4].menu.show&&t[5][t[21].id]?.length,contentEl:t[3],api:t[2],areasMeta:t[1],renaming:t[6]===t[21].id}}),o.$on("action",t[14]),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};1&n&&(r.column=t[21]),49&n&&(r.isMenuVisible=t[4].menu.show&&t[5][t[21].id]?.length),8&n&&(r.contentEl=t[3]),4&n&&(r.api=t[2]),2&n&&(r.areasMeta=t[1]),65&n&&(r.renaming=t[6]===t[21].id),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function Rc(e){let t,n,o,r,l,s,i,c=[],a=new Map,d=e[0];const u=e=>e[21].id;for(let t=0;t<d.length;t+=1){let n=Hc(e,d,t),o=u(n);a.set(o,c[t]=Lc(o,n))}function p(t){e[15](t)}let f={at:"left-bottom",options:e[8],resolver:e[13],dataKey:"menuId"};return void 0!==e[7]&&(f.handler=e[7]),o=new Ts({props:f}),he.push((()=>Ve(o,"handler",p))),o.$on("click",e[11]),{c(){t=H("div");for(let e=0;e<c.length;e+=1)c[e].c();n=z(),Ye(o.$$.fragment),K(t,"class","wx-header svelte-o226r")},m(r,a){N(r,t,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,null);N(r,n,a),Ge(o,r,a),l=!0,s||(i=j(t,"click",e[12]),s=!0)},p(e,[n]){16511&n&&(d=e[0],Oe(),c=Pe(c,n,u,1,e,d,a,t,qe,Lc,null,Hc),Ae());const l={};256&n&&(l.options=e[8]),!r&&128&n&&(r=!0,l.handler=e[7],Se((()=>r=!1))),o.$set(l)},i(e){if(!l){for(let e=0;e<d.length;e+=1)He(c[e]);He(o.$$.fragment,e),l=!0}},o(e){for(let e=0;e<c.length;e+=1)Le(c[e]);Le(o.$$.fragment,e),l=!1},d(e){e&&O(t);for(let e=0;e<c.length;e+=1)c[e].d();e&&O(n),Je(o,e),s=!1,i()}}}function zc(e,t,n){let o,r,{columns:l}=t,{areasMeta:s}=t,{api:i}=t,{contentEl:c}=t;const a=fe("wx-i18n").getGroup("kanban"),d=ue(),{readonly:u,columnShape:f}=i.getReactiveState();p(e,u,(e=>n(16,o=e))),p(e,f,(e=>n(4,r=e)));let m={};function $(e,t){var n;const o=l.findIndex((t=>t.id===e)),r=null===(n=l["left"===t?o-1:o+2])||void 0===n?void 0:n.id;d("action",{action:"move-column",data:{id:e,before:r}})}let h=null;let g=null;let v=[];return e.$$set=e=>{"columns"in e&&n(0,l=e.columns),"areasMeta"in e&&n(1,s=e.areasMeta),"api"in e&&n(2,i=e.api),"contentEl"in e&&n(3,c=e.contentEl)},e.$$.update=()=>{17&e.$$.dirty&&l.forEach(((e,t)=>{n(5,m[e.id]=((e,t,n,o)=>{const r=o.menu.items({columns:n,columnIndex:t,column:e});return r&&r.length?r.map((e=>Object.assign(Object.assign({},e),{text:a(e.text),css:e.disabled?"disabled":""}))):null})(e,t,l,r),m)}))},[l,s,i,c,r,m,h,g,v,u,f,function(e){const{action:t,item:r}=e.detail;if(t){if(t.onClick)return void t.onClick({id:t.id,item:t,column:r});switch(t.id){case"add-card":d("action",{action:"add-card",data:{columnId:r.id,card:{label:a("Untitled")}}});break;case"set-edit":o.edit&&n(6,h=r.id);break;case"delete-column":d("action",{action:"delete-column",data:{id:r.id}});break;case"move-column:left":$(r.id,"left");break;case"move-column:right":$(r.id,"right")}}},e=>(e.cancelBubble=!0,g(e)),function(e){return n(8,v=m[e]||[]),l.find((t=>t.id===e))},({detail:{action:e,data:t}})=>{"close-column-input"===e&&n(6,h=null),d("action",{action:e,data:t})},function(e){g=e,n(7,g)}]}class Fc extends We{constructor(e){super(),Be(this,e,zc,Rc,c,{columns:0,areasMeta:1,api:2,contentEl:3})}}const jc=e=>({startIndex:1&e[0],endIndex:2&e[0],byRow:8&e[0]}),qc=e=>({startIndex:e[0],endIndex:e[1],byRow:e[3]});function Pc(e){let t,n,o,r,l;const i=e[29].default,c=f(i,e,e[28],qc);return{c(){t=H("div"),n=H("div"),c&&c.c(),K(n,"class","wx-content svelte-14plw7q"),G(n,"padding-top",e[5]+"px"),G(n,"padding-bottom",e[4]+"px"),K(t,"class","wx-list-wrapper svelte-14plw7q"),K(t,"data-id","virtual-content")},m(s,i){N(s,t,i),T(t,n),c&&c.m(n,null),e[30](t),o=!0,r||(l=[j(t,"scroll",e[13]),k(Hl.call(null,t))],r=!0)},p(e,t){c&&c.p&&(!o||268435467&t[0])&&h(c,i,e,e[28],o?$(i,e[28],t,jc):g(e[28]),qc),(!o||32&t[0])&&G(n,"padding-top",e[5]+"px"),(!o||16&t[0])&&G(n,"padding-bottom",e[4]+"px")},i(e){o||(He(c,e),o=!0)},o(e){Le(c,e),o=!1},d(n){n&&O(t),c&&c.d(n),e[30](null),r=!1,s(l)}}}function Kc(e,t,n){let o,r,l,s,i,c,a,d,u,f,m,$,h,g,v,w,y,{$$slots:b={},$$scope:k}=t;var S=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,l){function s(e){try{c(o.next(e))}catch(e){l(e)}}function i(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};let{api:I}=t;const{cardsMap:_,columns:M,rows:C,cardHeight:T,cards:D,columnKey:E,scroll:N}=I.getReactiveState();let O;p(e,_,(e=>n(27,y=e))),p(e,M,(e=>n(26,w=e))),p(e,C,(e=>n(25,v=e))),p(e,T,(e=>n(24,g=e))),p(e,D,(e=>n(23,h=e))),p(e,E,(e=>n(22,$=e))),p(e,N,(e=>n(21,m=e)));let A=0,H={},L=0,R=1;function z(){const e=O.scrollTop-d,t=Math.floor(e<0?0:e/a),o=t+Math.floor((O.offsetHeight+2*d)/a);o>=A?n(1,R=A):(n(0,L=t),n(1,R=o))}return ce((()=>{z()})),e.$$set=e=>{"api"in e&&n(14,I=e.api),"$$scope"in e&&n(28,k=e.$$scope)},e.$$.update=()=>{134217728&e.$$.dirty[0]&&n(19,o=y),67108864&e.$$.dirty[0]&&n(18,r=w),33554432&e.$$.dirty[0]&&n(16,l=v),16777216&e.$$.dirty[0]&&n(20,s=g),8388608&e.$$.dirty[0]&&(i=h),4194304&e.$$.dirty[0]&&(c=$),1048576&e.$$.dirty[0]&&n(17,a=s+10),131072&e.$$.dirty[0]&&(d=2*a),851968&e.$$.dirty[0]&&l&&r&&o&&(n(15,A=0),l.reduce(((e,t)=>{if(t.collapsed)return e;const l=r.reduce(((e,n)=>{const r=qr(n.id,t.id),l=o[r].length;return l>e&&(e=l),e}),0);return n(3,H[t.id]={id:t.id,maxCardsCount:l,minIndex:e,maxIndex:e+l,startIndex:0,endIndex:0,visible:!0},H),n(15,A+=l),e+l}),0),O&&(n(0,L=0),n(1,R=0),z())),2097152&e.$$.dirty[0]&&m&&"card"===m.to&&m.id&&function(e){return S(this,void 0,void 0,(function*(){if(O.querySelector(`[data-drag-item="${e}"]`))return;const t=Pr(i.find((t=>Fr(t.id,e))),c),l=o[t].findIndex((t=>Fr(t.id,e))),s=r.findIndex((e=>e.id===t)),d=parseFloat(getComputedStyle(O).getPropertyValue("--wx-kanban-column-width"))||300;return l>-1&&(yield xe(),n(2,O.scrollTop=l*a,O),n(2,O.scrollLeft=d*s,O),!0)}))}(m.id).then((e=>{e&&x(N,m=null,m)})),3&e.$$.dirty[0]&&function(e,t){l.forEach((o=>{const r=H[o.id],l=t-e;let s=e-r.minIndex,i=s+l;r.startIndex=s<0?0:s,r.endIndex=i>r.maxIndex?r.maxIndex:i;const c=s<r.maxIndex&&i>0;r.visible=c,o.collapsed&&(r.visible=!0),n(3,H[o.id]=r,H)}))}(L,R),131073&e.$$.dirty[0]&&n(5,u=L*a),163842&e.$$.dirty[0]&&n(4,f=(A-R)*a)},[L,R,O,H,f,u,_,M,C,T,D,E,N,function(){z()},I,A,l,a,r,o,s,m,$,h,g,v,w,y,k,b,function(e){he[e?"unshift":"push"]((()=>{O=e,n(2,O)}))}]}class Uc extends We{constructor(e){super(),Be(this,e,Kc,Pc,c,{api:14},null,[-1,-1])}}function Vc(e,t){for(const n in t){const o=e[n],r=t[n];if(o!==r){if(!Array.isArray(o)||!Array.isArray(r)||o.length!==r.length)return!1;for(let e=o.length-1;e>=0;e--)if(o[e]!==r[e])return!1}}return!0}function Yc(e,t,n){let o=!1,r=null;const l=Dr(e),{set:s}=l;let i={...e};return l.set=function(e){Vc(i,e)||(i={...e},s(e))},l.update=function(t){const n=t(e);Vc(i,n)||(i={...n},s(n))},l.reset=function(e){o=!1,i={},l.set(e)},l.subscribe((e=>{o?e&&(n&&n.debounce?(clearTimeout(r),r=setTimeout((()=>t(e)),n.debounce)):t(e)):o=!0})),l}function Gc(e,t,n){const o=e.slice();return o[12]=t[n],o}function Jc(e){let t,n,o,r,l,s,i=[],c=new Map;o=new Ul({props:{name:"wxi-close",click:e[2]}});let a=e[1];const d=e=>e[12].id;for(let t=0;t<a.length;t+=1){let n=Gc(e,a,t),o=d(n);c.set(o,i[t]=sa(o,n))}return{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),l=H("div");for(let e=0;e<i.length;e+=1)i[e].c();K(n,"class","wx-header svelte-19angmd"),K(l,"class","wx-list svelte-19angmd"),K(t,"class","wx-layout svelte-19angmd")},m(e,c){N(e,t,c),T(t,n),Ge(o,n,null),T(t,r),T(t,l);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(l,null);s=!0},p(e,t){250&t&&(a=e[1],Oe(),i=Pe(i,t,d,1,e,a,c,l,qe,sa,null,Gc),Ae())},i(e){if(!s){He(o.$$.fragment,e);for(let e=0;e<a.length;e+=1)He(i[e]);s=!0}},o(e){Le(o.$$.fragment,e);for(let e=0;e<i.length;e+=1)Le(i[e]);s=!1},d(e){e&&O(t),Je(o);for(let e=0;e<i.length;e+=1)i[e].d()}}}function Bc(e){let n,o;return n=new Ul({props:{name:"wxi-paperclip",size:20}}),{c(){Ye(n.$$.fragment)},m(e,t){Ge(n,e,t),o=!0},p:t,i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){Je(n,e)}}}function Wc(e){let n;return{c(){n=H("div"),K(n,"class","wx-thumb svelte-19angmd"),G(n,"background-image","url('"+(e[12].previewURL||e[12].url)+"')")},m(e,t){N(e,n,t)},p(e,t){2&t&&G(n,"background-image","url('"+(e[12].previewURL||e[12].url)+"')")},i:t,o:t,d(e){e&&O(n)}}}function Xc(e){let t,n,o=e[4](e[12].file.size)+"";return{c(){t=H("div"),n=R(o),K(t,"class","wx-size")},m(e,o){N(e,t,o),T(t,n)},p(e,t){2&t&&o!==(o=e[4](e[12].file.size)+"")&&V(n,o)},d(e){e&&O(t)}}}function Qc(e){let t,n,o,r,l,s,i,c,a,d=e[5](e[12]);function u(){return e[9](e[12])}o=new Ul({props:{name:"wxi-external",clickable:!0}}),i=new Ul({props:{name:"wxi-delete",click:u}});let p=d&&ta(e);return{c(){t=H("div"),n=H("a"),Ye(o.$$.fragment),s=z(),Ye(i.$$.fragment),c=z(),p&&p.c(),K(n,"class","wx-upload-link svelte-19angmd"),K(n,"href",r=e[12].url),K(n,"download",l=e[12].name),K(n,"target","_blank"),K(n,"rel","noreferrer nofollow noopener"),K(t,"class","wx-hidden svelte-19angmd")},m(e,r){N(e,t,r),T(t,n),Ge(o,n,null),T(t,s),Ge(i,t,null),T(t,c),p&&p.m(t,null),a=!0},p(o,s){e=o,(!a||2&s&&r!==(r=e[12].url))&&K(n,"href",r),(!a||2&s&&l!==(l=e[12].name))&&K(n,"download",l);const c={};2&s&&(c.click=u),i.$set(c),2&s&&(d=e[5](e[12])),d?p?(p.p(e,s),2&s&&He(p,1)):(p=ta(e),p.c(),He(p,1),p.m(t,null)):p&&(Oe(),Le(p,1,1,(()=>{p=null})),Ae())},i(e){a||(He(o.$$.fragment,e),He(i.$$.fragment,e),He(p),a=!0)},o(e){Le(o.$$.fragment,e),Le(i.$$.fragment,e),Le(p),a=!1},d(e){e&&O(t),Je(o),Je(i),p&&p.d()}}}function Zc(e){let t,n,o,r;function l(){return e[8](e[12])}return t=new Ul({props:{name:"wxi-alert"}}),o=new Ul({props:{name:"wxi-delete",click:l}}),{c(){Ye(t.$$.fragment),n=z(),Ye(o.$$.fragment)},m(e,l){Ge(t,e,l),N(e,n,l),Ge(o,e,l),r=!0},p(t,n){e=t;const r={};2&n&&(r.click=l),o.$set(r)},i(e){r||(He(t.$$.fragment,e),He(o.$$.fragment,e),r=!0)},o(e){Le(t.$$.fragment,e),Le(o.$$.fragment,e),r=!1},d(e){Je(t,e),e&&O(n),Je(o,e)}}}function ea(e){let n,o;return n=new Ul({props:{name:"wxi-loading",spin:!0}}),{c(){Ye(n.$$.fragment)},m(e,t){Ge(n,e,t),o=!0},p:t,i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){Je(n,e)}}}function ta(e){let t,n,o,r;const l=[oa,na],s=[];function i(e,t){return e[12].isCover?1:0}return t=i(e),n=s[t]=l[t](e),{c(){n.c(),o=F()},m(e,n){s[t].m(e,n),N(e,o,n),r=!0},p(e,r){let c=t;t=i(e),t===c?s[t].p(e,r):(Oe(),Le(s[c],1,1,(()=>{s[c]=null})),Ae(),n=s[t],n?n.p(e,r):(n=s[t]=l[t](e),n.c()),He(n,1),n.m(o.parentNode,o))},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){s[t].d(e),e&&O(o)}}}function na(e){let t,n;return t=new Mt({props:{click:e[7],$$slots:{default:[ra]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};32768&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function oa(e){let t,n;function o(){return e[10](e[12])}return t=new Mt({props:{click:o,$$slots:{default:[la]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(n,r){e=n;const l={};2&r&&(l.click=o),32768&r&&(l.$$scope={dirty:r,ctx:e}),t.$set(l)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ra(e){let t;return{c(){t=R("Remove cover")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function la(e){let t;return{c(){t=R("Make cover")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function sa(e,t){let n,o,r,l,s,i,c,a,d,u,p,f,m,$,h,g=t[12].name+"";const v=[Wc,Bc],w=[];function y(e,t){return 2&t&&(r=null),null==r&&(r=!!e[5](e[12])),r?0:1}l=y(t,-1),s=w[l]=v[l](t);let b=t[12].file&&Xc(t);const x=[ea,Zc,Qc],k=[];function S(e,t){return"client"===e[12].status?0:"error"===e[12].status?1:e[12].status&&"server"!==e[12].status?-1:2}return~(f=S(t))&&(m=k[f]=x[f](t)),{key:e,first:null,c(){n=H("div"),o=H("div"),s.c(),i=z(),c=H("div"),a=R(g),d=z(),b&&b.c(),u=z(),p=H("div"),m&&m.c(),$=z(),K(o,"class","wx-file-icon svelte-19angmd"),K(c,"class","wx-name svelte-19angmd"),K(p,"class","wx-controls svelte-19angmd"),K(n,"class","wx-row svelte-19angmd"),this.first=n},m(e,t){N(e,n,t),T(n,o),w[l].m(o,null),T(n,i),T(n,c),T(c,a),T(n,d),b&&b.m(n,null),T(n,u),T(n,p),~f&&k[f].m(p,null),T(n,$),h=!0},p(e,r){let i=l;l=y(t=e,r),l===i?w[l].p(t,r):(Oe(),Le(w[i],1,1,(()=>{w[i]=null})),Ae(),s=w[l],s?s.p(t,r):(s=w[l]=v[l](t),s.c()),He(s,1),s.m(o,null)),(!h||2&r)&&g!==(g=t[12].name+"")&&V(a,g),t[12].file?b?b.p(t,r):(b=Xc(t),b.c(),b.m(n,u)):b&&(b.d(1),b=null);let c=f;f=S(t),f===c?~f&&k[f].p(t,r):(m&&(Oe(),Le(k[c],1,1,(()=>{k[c]=null})),Ae()),~f?(m=k[f],m?m.p(t,r):(m=k[f]=x[f](t),m.c()),He(m,1),m.m(p,null)):m=null)},i(e){h||(He(s),He(m),h=!0)},o(e){Le(s),Le(m),h=!1},d(e){e&&O(n),w[l].d(),b&&b.d(),~f&&k[f].d()}}}function ia(e){let t,n,o=e[1].length&&Jc(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,[n]){e[1].length?o?(o.p(e,n),2&n&&He(o,1)):(o=Jc(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function ca(e,n,o){let r,l=t,s=()=>(l(),l=u(i,(e=>o(1,r=e))),i);e.$$.on_destroy.push((()=>l()));let{data:i}=n;s();const c=["b","Kb","Mb","Gb","Tb","Pb","Eb"];function a(e){i.update((t=>t.filter((t=>t.id!==e))))}function d(e){i.update((t=>t.map((t=>t.id===e?Object.assign(Object.assign({},t),{isCover:!0}):(delete t.isCover,t)))))}return e.$$set=e=>{"data"in e&&s(o(0,i=e.data))},[i,r,function(){i.set([])},a,function(e){let t=0;for(;e>1024;)t++,e/=1024;return Math.round(100*e)/100+" "+c[t]},function(e){var t,n;const o=null===(t=null==e?void 0:e.url)||void 0===t?void 0:t.split(".").pop();return Rl(null===(n=null==e?void 0:e.previewURL)||void 0===n?void 0:n.split(".").pop())||Rl(o)},d,function(){i.update((e=>e.map((e=>{const t=Object.assign({},e);return delete t.isCover,t}))))},e=>a(e.id),e=>a(e.id),e=>d(e.id)]}class aa extends We{constructor(e){super(),Be(this,e,ca,ia,c,{data:0})}}function da(e){let t,n,r,l,s;t=new aa({props:{data:e[3]}});const i=[{uploadURL:e[4]},e[0].config];function c(t){e[6](t)}let a={};for(let e=0;e<i.length;e+=1)a=o(a,i[e]);return void 0!==e[2]&&(a.data=e[2]),r=new cr({props:a}),he.push((()=>Ve(r,"data",c))),{c(){Ye(t.$$.fragment),n=z(),Ye(r.$$.fragment)},m(e,o){Ge(t,e,o),N(e,n,o),Ge(r,e,o),s=!0},p(e,[t]){const n=17&t?Ke(i,[16&t&&{uploadURL:e[4]},1&t&&Ue(e[0].config)]):{};!l&&4&t&&(l=!0,n.data=e[2],Se((()=>l=!1))),r.$set(n)},i(e){s||(He(t.$$.fragment,e),He(r.$$.fragment,e),s=!0)},o(e){Le(t.$$.fragment,e),Le(r.$$.fragment,e),s=!1},d(e){Je(t,e),e&&O(n),Je(r,e)}}}function ua(e,n,o){let r,l,s=t,i=()=>(s(),s=u(a,(e=>o(7,l=e))),a);e.$$.on_destroy.push((()=>s()));let{field:c}=n,{values:a}=n;i();const d=Dr(l[c.key]||[]);p(e,d,(e=>o(2,r=e)));let f=!1;return e.$$set=e=>{"field"in e&&o(0,c=e.field),"values"in e&&i(o(1,a=e.values))},e.$$.update=()=>{37&e.$$.dirty&&(f&&x(a,l[c.key]=r,l),o(5,f=!0))},[c,a,r,d,function(e){return e.map((e=>{const t=new FormData;t.append("upload",e.file);const n={method:"POST",body:t};return fetch(c.uploadURL,n).then((e=>e.json())).then((t=>(e.id=t.id,t)),(()=>({id:e.id,status:"error"}))).catch()}))},f,function(e){r=e,d.set(r)}]}class pa extends We{constructor(e){super(),Be(this,e,ua,da,c,{field:0,values:1})}}function fa(e){let t,n;return t=new or({props:{target:e[5],$$slots:{default:[va]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.target=e[5]),65539&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ma(e){let t;return{c(){t=R("Clear")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function $a(e){let t;return{c(){t=R("Today")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function ha(e){let t;return{c(){t=R("Done")},m(e,n){N(e,t,n)},d(e){e&&O(t)}}}function ga(e){let t,n,o,r,l,s,i,c,a,d,u;function p(t){e[11](t)}function f(t){e[12](t)}let m={buttons:!1};return void 0!==e[0]&&(m.start=e[0]),void 0!==e[1]&&(m.end=e[1]),t=new uo({props:m}),he.push((()=>Ve(t,"start",p))),he.push((()=>Ve(t,"end",f))),s=new Mt({props:{type:"link wx-calendar-btn",click:e[8],$$slots:{default:[ma]},$$scope:{ctx:e}}}),c=new Mt({props:{type:"link wx-calendar-btn",click:e[7],$$slots:{default:[$a]},$$scope:{ctx:e}}}),d=new Mt({props:{type:"primary wx-calendar-btn",click:e[6],$$slots:{default:[ha]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment),r=z(),l=H("div"),Ye(s.$$.fragment),i=z(),Ye(c.$$.fragment),a=z(),Ye(d.$$.fragment),K(l,"class","wx-buttons svelte-12qisfw")},m(e,n){Ge(t,e,n),N(e,r,n),N(e,l,n),Ge(s,l,null),T(l,i),Ge(c,l,null),T(l,a),Ge(d,l,null),u=!0},p(e,r){const l={};!n&&1&r&&(n=!0,l.start=e[0],Se((()=>n=!1))),!o&&2&r&&(o=!0,l.end=e[1],Se((()=>o=!1))),t.$set(l);const i={};65536&r&&(i.$$scope={dirty:r,ctx:e}),s.$set(i);const a={};65536&r&&(a.$$scope={dirty:r,ctx:e}),c.$set(a);const u={};65536&r&&(u.$$scope={dirty:r,ctx:e}),d.$set(u)},i(e){u||(He(t.$$.fragment,e),He(s.$$.fragment,e),He(c.$$.fragment,e),He(d.$$.fragment,e),u=!0)},o(e){Le(t.$$.fragment,e),Le(s.$$.fragment,e),Le(c.$$.fragment,e),Le(d.$$.fragment,e),u=!1},d(e){Je(t,e),e&&O(r),e&&O(l),Je(s),Je(c),Je(d)}}}function va(e){let t,n;return t=new Ht({props:{cancel:e[6],width:"unset",$$slots:{default:[ga]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};65539&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function wa(e){let t,n,o,r,l,i,c,a,d;n=new hn({props:{value:e[4],id:e[2],readonly:!0,inputStyle:"cursor: pointer; text-overflow: ellipsis; padding-right: 18px;"}}),l=new Ul({props:{name:"wxi-calendar"}});let u=e[3]&&fa(e);return{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("div"),Ye(l.$$.fragment),i=z(),u&&u.c(),K(r,"class","wx-input-icon svelte-12qisfw"),K(t,"class","wx-layout svelte-12qisfw")},m(s,p){N(s,t,p),Ge(n,t,null),T(t,o),T(t,r),Ge(l,r,null),T(t,i),u&&u.m(t,null),e[13](t),c=!0,a||(d=[j(window,"scroll",e[6]),j(t,"click",e[9])],a=!0)},p(e,[o]){const r={};16&o&&(r.value=e[4]),4&o&&(r.id=e[2]),n.$set(r),e[3]?u?(u.p(e,o),8&o&&He(u,1)):(u=fa(e),u.c(),He(u,1),u.m(t,null)):u&&(Oe(),Le(u,1,1,(()=>{u=null})),Ae())},i(e){c||(He(n.$$.fragment,e),He(l.$$.fragment,e),He(u),c=!0)},o(e){Le(n.$$.fragment,e),Le(l.$$.fragment,e),Le(u),c=!1},d(o){o&&O(t),Je(n),Je(l),u&&u.d(),e[13](null),a=!1,s(d)}}}function ya(e,t,n){let{start:o=null}=t,{end:r=null}=t,{id:l=Jl()}=t,{format:s}=t;const i=fe("wx-i18n").getGroup("calendar");let c,a="function"==typeof s?s:Zl(s,i);let d,u="";return e.$$set=e=>{"start"in e&&n(0,o=e.start),"end"in e&&n(1,r=e.end),"id"in e&&n(2,l=e.id),"format"in e&&n(10,s=e.format)},e.$$.update=()=>{3&e.$$.dirty&&n(4,u=o?a(o)+(r?` - ${a(r)}`:""):"")},[o,r,l,c,u,d,function(e){e.stopPropagation(),n(3,c=null)},function(){const e=new Date;n(0,o=e),n(1,r=e)},function(){n(0,o=null),n(1,r=null)},function(){n(3,c=!0)},s,function(e){o=e,n(0,o)},function(e){r=e,n(1,r)},function(e){he[e?"unshift":"push"]((()=>{d=e,n(5,d)}))}]}class ba extends We{constructor(e){super(),Be(this,e,ya,wa,c,{start:0,end:1,id:2,format:10})}}function xa(e){let t,n,o,r;function l(t){e[4](t)}function s(t){e[5](t)}let i={id:e[3],format:e[2]};return void 0!==e[0]&&(i.start=e[0]),void 0!==e[1]&&(i.end=e[1]),t=new ba({props:i}),he.push((()=>Ve(t,"start",l))),he.push((()=>Ve(t,"end",s))),{c(){Ye(t.$$.fragment)},m(e,n){Ge(t,e,n),r=!0},p(e,[r]){const l={};8&r&&(l.id=e[3]),4&r&&(l.format=e[2]),!n&&1&r&&(n=!0,l.start=e[0],Se((()=>n=!1))),!o&&2&r&&(o=!0,l.end=e[1],Se((()=>o=!1))),t.$set(l)},i(e){r||(He(t.$$.fragment,e),r=!0)},o(e){Le(t.$$.fragment,e),r=!1},d(e){Je(t,e)}}}function ka(e,t,n){let{start:o}=t,{end:r}=t,{format:l}=t,{id:s=Jl()}=t;return e.$$set=e=>{"start"in e&&n(0,o=e.start),"end"in e&&n(1,r=e.end),"format"in e&&n(2,l=e.format),"id"in e&&n(3,s=e.id)},[o,r,l,s,function(e){o=e,n(0,o)},function(e){r=e,n(1,r)}]}class Sa extends We{constructor(e){super(),Be(this,e,ka,xa,c,{start:0,end:1,format:2,id:3})}}function Ia(){let e,t,n,o,r=null,l=!1;const s=e=>{r=e,l=null!==r,n(r)},i=(n,o)=>{const l=null===n?null:Math.max(0,Math.min(r+n,t.length-1));if(l!==r&&(s(l),r&&e)){const t=e.querySelectorAll(".list > .item")[r];t&&(t.scrollIntoView({block:"nearest"}),o&&o.preventDefault())}};return{move:e=>{const n=function(e,t="data-id"){const n=function(e,t="data-id"){let n=e;for(!n.tagName&&e.target&&(n=e.target);n;){if(n.getAttribute&&n.getAttribute(t))return n;n=n.parentNode}return null}(e,t);return n?Vl(n.getAttribute(t)):null}(e),o=t.findIndex((e=>e.id===n));o!==r&&s(o)},keydown:e=>{switch(e.code){case"Enter":l?o():s(0);break;case"Space":!l&&s(0);break;case"Escape":case"Tab":n(r=null);break;case"ArrowDown":l?i(1,e):s(0);break;case"ArrowUp":l?i(-1,e):s(0)}},init:(r,l,s,i)=>{e=r,t=l,n=s,o=i},navigate:i}}function _a(e,t,n){const o=e.slice();return o[13]=t[n],o[15]=n,o}const Ma=e=>({option:1&e}),Ca=e=>({option:e[13]});function Ta(e){let t,n;return t=new Ht({props:{cancel:e[8],$$slots:{default:[Oa]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};519&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Da(e){let n;return{c(){n=H("div"),n.textContent="No data",K(n,"class","no-data svelte-1qa7v2v")},m(e,t){N(e,n,t)},p:t,i:t,o:t,d(e){e&&O(n)}}}function Ea(e){let t,n,o=[],r=new Map,l=e[0];const s=e=>e[13].id;for(let t=0;t<l.length;t+=1){let n=_a(e,l,t),i=s(n);r.set(i,o[t]=Na(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=F()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){517&n&&(l=e[0],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,Na,t,_a),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function Na(e,t){let n,o,r,l;const s=t[6].default,i=f(s,t,t[9],Ca),c=i||function(e){let t,n=e[13].name+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){1&o&&n!==(n=e[13].name+"")&&V(t,n)},d(e){e&&O(t)}}}(t);return{key:e,first:null,c(){n=H("div"),c&&c.c(),o=z(),K(n,"class","item svelte-1qa7v2v"),K(n,"data-id",r=t[13].id),X(n,"disabled",t[13].disabled),X(n,"focus",t[15]===t[2]),this.first=n},m(e,t){N(e,n,t),c&&c.m(n,null),T(n,o),l=!0},p(e,o){t=e,i?i.p&&(!l||513&o)&&h(i,s,t,t[9],l?$(s,t[9],o,Ma):g(t[9]),Ca):c&&c.p&&(!l||1&o)&&c.p(t,l?o:-1),(!l||1&o&&r!==(r=t[13].id))&&K(n,"data-id",r),(!l||1&o)&&X(n,"disabled",t[13].disabled),(!l||5&o)&&X(n,"focus",t[15]===t[2])},i(e){l||(He(c,e),l=!0)},o(e){Le(c,e),l=!1},d(e){e&&O(n),c&&c.d(e)}}}function Oa(e){let t,n,o,r,l,i;const c=[Ea,Da],a=[];function d(e,t){return e[0].length?0:1}return n=d(e),o=a[n]=c[n](e),{c(){t=H("div"),o.c(),K(t,"class","list svelte-1qa7v2v")},m(o,s){N(o,t,s),a[n].m(t,null),e[7](t),r=!0,l||(i=[j(t,"click",P(e[5])),j(t,"mousemove",e[3])],l=!0)},p(e,r){let l=n;n=d(e),n===l?a[n].p(e,r):(Oe(),Le(a[l],1,1,(()=>{a[l]=null})),Ae(),o=a[n],o?o.p(e,r):(o=a[n]=c[n](e),o.c()),He(o,1),o.m(t,null))},i(e){r||(He(o),r=!0)},o(e){Le(o),r=!1},d(o){o&&O(t),a[n].d(),e[7](null),l=!1,s(i)}}}function Aa(e){let t,n,o=null!==e[2]&&Ta(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,[n]){null!==e[2]?o?(o.p(e,n),4&n&&He(o,1)):(o=Ta(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function Ha(e,t,n){let o,{$$slots:r={},$$scope:l}=t,{items:s=[]}=t,i=null;const c=ue(),{move:a,keydown:d,init:u,navigate:p}=Ia(),f=()=>c("select",{id:s[i]?.id});ce((()=>{c("ready",{navigate:p,keydown:d,move:a})}));return e.$$set=e=>{"items"in e&&n(0,s=e.items),"$$scope"in e&&n(9,l=e.$$scope)},e.$$.update=()=>{3&e.$$.dirty&&u(o,s,(e=>n(2,i=e)),f)},[s,o,i,a,p,f,r,function(e){he[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},()=>p(null),l]}class La extends We{constructor(e){super(),Be(this,e,Ha,Aa,c,{items:0})}}const Ra=e=>({option:33554432&e}),za=e=>({option:e[25]});function Fa(e,t,n){const o=e.slice();return o[26]=t[n],o}const ja=e=>({option:64&e}),qa=e=>({option:e[26]});function Pa(e){let t,n,o;function r(){return e[19](e[26])}return{c(){t=H("i"),K(t,"class","wxi-close svelte-ckuqsw")},m(e,l){N(e,t,l),n||(o=j(t,"click",P(r)),n=!0)},p(t,n){e=t},d(e){e&&O(t),n=!1,o()}}}function Ka(e,t){let n,o,r,l;const s=t[18].default,i=f(s,t,t[23],qa),c=i||function(e){let t,n=e[26][e[1]]+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){66&o&&n!==(n=e[26][e[1]]+"")&&V(t,n)},d(e){e&&O(t)}}}(t);let a=!t[3]&&Pa(t);return{key:e,first:null,c(){n=H("div"),c&&c.c(),o=z(),a&&a.c(),r=z(),K(n,"class","tag svelte-ckuqsw"),this.first=n},m(e,t){N(e,n,t),c&&c.m(n,null),T(n,o),a&&a.m(n,null),T(n,r),l=!0},p(e,o){t=e,i?i.p&&(!l||8388672&o)&&h(i,s,t,t[23],l?$(s,t[23],o,ja):g(t[23]),qa):c&&c.p&&(!l||66&o)&&c.p(t,l?o:-1),t[3]?a&&(a.d(1),a=null):a?a.p(t,o):(a=Pa(t),a.c(),a.m(n,r))},i(e){l||(He(c,e),l=!0)},o(e){Le(c,e),l=!1},d(e){e&&O(n),c&&c.d(e),a&&a.d()}}}function Ua(e){let t,n;return t=new La({props:{items:e[8],$$slots:{default:[Ya,({option:e})=>({25:e}),({option:e})=>e?33554432:0]},$$scope:{ctx:e}}}),t.$on("ready",e[11]),t.$on("select",e[13]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};256&n&&(o.items=e[8]),41943073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Va(e){let t,n;return t=new Et({props:{style:"margin-right: 8px; pointer-events: none;",value:e[25].id,checked:e[0].includes(e[25].id)}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};33554432&n&&(o.value=e[25].id),33554433&n&&(o.checked=e[0].includes(e[25].id)),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ya(e){let t,n,o=e[5]&&Va(e);const r=e[18].default,l=f(r,e,e[23],za),s=l||function(e){let t,n=e[25].name+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){33554432&o&&n!==(n=e[25].name+"")&&V(t,n)},d(e){e&&O(t)}}}(e);return{c(){o&&o.c(),t=z(),s&&s.c()},m(e,r){o&&o.m(e,r),N(e,t,r),s&&s.m(e,r),n=!0},p(e,i){e[5]?o?(o.p(e,i),32&i&&He(o,1)):(o=Va(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae()),l?l.p&&(!n||41943040&i)&&h(l,r,e,e[23],n?$(r,e[23],i,Ra):g(e[23]),za):s&&s.p&&(!n||33554432&i)&&s.p(e,n?i:-1)},i(e){n||(He(o),He(s,e),n=!0)},o(e){Le(o),Le(s,e),n=!1},d(e){o&&o.d(e),e&&O(t),s&&s.d(e)}}}function Ga(e){let t,n,o,r,l,i,c,a,d,u,p,f,m,$=[],h=new Map,g=e[6];const v=e=>e[26].id;for(let t=0;t<g.length;t+=1){let n=Fa(e,g,t),o=v(n);h.set(o,$[t]=Ka(o,n))}let w=!e[3]&&Ua(e);return{c(){t=H("div"),n=H("div"),o=H("div");for(let e=0;e<$.length;e+=1)$[e].c();r=z(),l=H("div"),i=H("input"),c=z(),a=H("i"),d=z(),w&&w.c(),K(o,"class","tags svelte-ckuqsw"),K(i,"type","text"),K(i,"class","input svelte-ckuqsw"),K(i,"placeholder",e[2]),i.disabled=e[3],K(a,"class","icon wxi-angle-down svelte-ckuqsw"),K(l,"class","select svelte-ckuqsw"),K(n,"class","wrapper svelte-ckuqsw"),K(t,"class",u="combo  "+(e[4]?"error":"")+" "+(e[3]?"disabled":"")+" "+(e[6].length?"not-empty":"")+" svelte-ckuqsw")},m(s,u){N(s,t,u),T(t,n),T(n,o);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(o,null);T(n,r),T(n,l),T(l,i),Y(i,e[7]),T(l,c),T(l,a),T(t,d),w&&w.m(t,null),p=!0,f||(m=[j(i,"input",e[20]),j(i,"input",e[12]),j(t,"click",e[21]),j(t,"keydown",e[22])],f=!0)},p(e,[n]){8405066&n&&(g=e[6],Oe(),$=Pe($,n,v,1,e,g,h,o,qe,Ka,null,Fa),Ae()),(!p||4&n)&&K(i,"placeholder",e[2]),(!p||8&n)&&(i.disabled=e[3]),128&n&&i.value!==e[7]&&Y(i,e[7]),e[3]?w&&(Oe(),Le(w,1,1,(()=>{w=null})),Ae()):w?(w.p(e,n),8&n&&He(w,1)):(w=Ua(e),w.c(),He(w,1),w.m(t,null)),(!p||88&n&&u!==(u="combo  "+(e[4]?"error":"")+" "+(e[3]?"disabled":"")+" "+(e[6].length?"not-empty":"")+" svelte-ckuqsw"))&&K(t,"class",u)},i(e){if(!p){for(let e=0;e<g.length;e+=1)He($[e]);He(w),p=!0}},o(e){for(let e=0;e<$.length;e+=1)Le($[e]);Le(w),p=!1},d(e){e&&O(t);for(let e=0;e<$.length;e+=1)$[e].d();w&&w.d(),f=!1,s(m)}}}function Ja(e,t,n){let o,{$$slots:r={},$$scope:l}=t,{values:s=[]}=t,{options:i=[]}=t,{textField:c="label"}=t,{placeholder:a=""}=t,{disabled:d=!1}=t,{error:u=!1}=t,{checkboxes:p=!1}=t,{limit:f=null}=t;const m=ue();let $,h,g,v="",w=[];function y(e){n(0,s=s.filter((t=>t!==e)))}return e.$$set=e=>{"values"in e&&n(0,s=e.values),"options"in e&&n(15,i=e.options),"textField"in e&&n(1,c=e.textField),"placeholder"in e&&n(2,a=e.placeholder),"disabled"in e&&n(3,d=e.disabled),"error"in e&&n(4,u=e.error),"checkboxes"in e&&n(5,p=e.checkboxes),"limit"in e&&n(16,f=e.limit),"$$scope"in e&&n(23,l=e.$$scope)},e.$$.update=()=>{32769&e.$$.dirty&&n(6,w=i.filter((e=>s.includes(e.id)))),64&e.$$.dirty&&n(17,o=w.map((e=>e.id))),229440&e.$$.dirty&&n(8,$=i.map((e=>(e.disabled=!1,f&&w.length&&w.length>=f&&!o.includes(e.id)&&(e.disabled=!0),e))))},[s,c,a,d,u,p,w,v,$,h,g,function(e){n(9,h=e.detail.navigate),n(10,g=e.detail.keydown)},function(){n(8,$=v?i.filter((e=>e[c].toLowerCase().includes(v.toLowerCase()))):i),$.length?h(0):h(null)},function(e){const{id:t}=e.detail;t&&(n(0,s=s.includes(t)?s.filter((e=>e!==t)):[...s,t]),n(6,w=i.filter((e=>s.includes(e.id)))),m("select",{selected:w}))},y,i,f,o,r,e=>y(e.id),function(){v=this.value,n(7,v)},()=>h(0),e=>g(e),l]}class Ba extends We{constructor(e){super(),Be(this,e,Ja,Ga,c,{values:0,options:15,textField:1,placeholder:2,disabled:3,error:4,checkboxes:5,limit:16})}}function Wa(e,t,n){const o=fe("wx-i18n"),r=o.getGroup("kanban");return[o,r]}class Xa extends We{constructor(e){super(),Be(this,e,Wa,null,c,{locale:0,_:1})}get locale(){return this.$$.ctx[0]}get _(){return this.$$.ctx[1]}}function Qa(e){let n,o,r;return{c(){n=H("textarea"),K(n,"type","text"),K(n,"class","wx-textarea svelte-bwmrcx"),n.value=e[0],K(n,"placeholder",e[1]),K(n,"rows",5),X(n,"wx-no-resize",!e[2])},m(t,l){N(t,n,l),o||(r=[j(n,"input",e[3]),j(n,"keydown",Za),j(n,"blur",e[4]),k(e[5].call(null,n))],o=!0)},p(e,[t]){1&t&&(n.value=e[0]),2&t&&K(n,"placeholder",e[1]),4&t&&X(n,"wx-no-resize",!e[2])},i:t,o:t,d(e){e&&O(n),o=!1,s(r)}}}function Za(e){"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&e.target.blur()}function ed(e,t,n){let{value:o=""}=t,{focus:r=!1}=t,{placeholder:l=""}=t,{resize:s=!0}=t;const i=ue();return e.$$set=e=>{"value"in e&&n(0,o=e.value),"focus"in e&&n(6,r=e.focus),"placeholder"in e&&n(1,l=e.placeholder),"resize"in e&&n(2,s=e.resize)},[o,l,s,function(e){n(0,o=e.target.value)},function(){i("blur",{value:o})},function(e){r&&e.focus()},r]}class td extends We{constructor(e){super(),Be(this,e,ed,Qa,c,{value:0,focus:6,placeholder:1,resize:2})}}function nd(e,t,n){const o=e.slice();return o[31]=t[n],o}function od(e){let t,n,o,r;return n=new Ul({props:{name:"wxi-dots-v"}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","wx-menu svelte-6mge21"),K(t,"data-menu-id",o=e[31].id)},m(e,o){N(e,t,o),Ge(n,t,null),r=!0},p(e,n){(!r||16&n[0]&&o!==(o=e[31].id))&&K(t,"data-menu-id",o)},i(e){r||(He(n.$$.fragment,e),r=!0)},o(e){Le(n.$$.fragment,e),r=!1},d(e){e&&O(t),Je(n)}}}function rd(e){let n,o,r=e[31].text+"";return{c(){n=H("pre"),o=R(r),K(n,"class","wx-text svelte-6mge21")},m(e,t){N(e,n,t),T(n,o)},p(e,t){16&t[0]&&r!==(r=e[31].text+"")&&V(o,r)},i:t,o:t,d(e){e&&O(n)}}}function ld(e){let n,o,r=e[31].html+"";return{c(){n=new Z(!1),o=F(),n.a=o},m(e,t){n.m(r,e,t),N(e,o,t)},p(e,t){16&t[0]&&r!==(r=e[31].html+"")&&n.p(r)},i:t,o:t,d(e){e&&O(o),e&&n.d()}}}function sd(e){let t,n,o,r,l,s,i,c,a,d;function u(t){e[23](t)}let p={resize:!1,focus:!0};return void 0!==e[2]&&(p.value=e[2]),t=new td({props:p}),he.push((()=>Ve(t,"value",u))),s=new Mt({props:{type:"secondary block",click:e[14],$$slots:{default:[id]},$$scope:{ctx:e}}}),a=new Mt({props:{type:"primary block",click:e[13],$$slots:{default:[cd]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment),o=z(),r=H("div"),l=H("div"),Ye(s.$$.fragment),i=z(),c=H("div"),Ye(a.$$.fragment),K(l,"class","wx-comment-textarea-btn svelte-6mge21"),K(c,"class","wx-comment-textarea-btn svelte-6mge21"),K(r,"class","wx-edit-btns svelte-6mge21")},m(e,n){Ge(t,e,n),N(e,o,n),N(e,r,n),T(r,l),Ge(s,l,null),T(r,i),T(r,c),Ge(a,c,null),d=!0},p(e,o){const r={};!n&&4&o[0]&&(n=!0,r.value=e[2],Se((()=>n=!1))),t.$set(r);const l={};8&o[1]&&(l.$$scope={dirty:o,ctx:e}),s.$set(l);const i={};8&o[1]&&(i.$$scope={dirty:o,ctx:e}),a.$set(i)},i(e){d||(He(t.$$.fragment,e),He(s.$$.fragment,e),He(a.$$.fragment,e),d=!0)},o(e){Le(t.$$.fragment,e),Le(s.$$.fragment,e),Le(a.$$.fragment,e),d=!1},d(e){Je(t,e),e&&O(o),e&&O(r),Je(s),Je(a)}}}function id(e){let n,o=e[6]("Cancel")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function cd(e){let n,o=e[6]("Save")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function ad(e,t){let n,o,r,l,s,i,c,a,d,u,p,f,m,$,h,g,v,w,y,b=t[10][t[31].userId].label+"",x=Fr(t[31].userId,t[5]),k=t[11](t[31].date)+"";r=new ti({props:{size:"small",border:!1,data:t[10][t[31].userId]}});let S=x&&od(t);const I=[sd,ld,rd],_=[];function M(e,t){return 18&t[0]&&($=null),null==$&&($=!!Fr(e[1],e[31].id)),$?0:e[31].html&&e[9].html?1:2}return h=M(t,[-1,-1]),g=_[h]=I[h](t),{key:e,first:null,c(){n=H("div"),o=H("div"),Ye(r.$$.fragment),l=z(),s=H("div"),i=H("div"),c=H("div"),a=R(b),d=z(),S&&S.c(),u=z(),p=H("div"),f=R(k),m=z(),g.c(),v=z(),K(o,"class","wx-comment-icon svelte-6mge21"),K(c,"class","wx-name svelte-6mge21"),K(i,"class","wx-comment-header svelte-6mge21"),K(p,"class","wx-date svelte-6mge21"),K(s,"class","wx-content svelte-6mge21"),K(n,"class","wx-comment svelte-6mge21"),K(n,"data-comment-id",w=t[31].id),this.first=n},m(e,t){N(e,n,t),T(n,o),Ge(r,o,null),T(n,l),T(n,s),T(s,i),T(i,c),T(c,a),T(i,d),S&&S.m(i,null),T(s,u),T(s,p),T(p,f),T(s,m),_[h].m(s,null),T(n,v),y=!0},p(e,o){t=e;const l={};16&o[0]&&(l.data=t[10][t[31].userId]),r.$set(l),(!y||16&o[0])&&b!==(b=t[10][t[31].userId].label+"")&&V(a,b),48&o[0]&&(x=Fr(t[31].userId,t[5])),x?S?(S.p(t,o),48&o[0]&&He(S,1)):(S=od(t),S.c(),He(S,1),S.m(i,null)):S&&(Oe(),Le(S,1,1,(()=>{S=null})),Ae()),(!y||16&o[0])&&k!==(k=t[11](t[31].date)+"")&&V(f,k);let c=h;h=M(t,o),h===c?_[h].p(t,o):(Oe(),Le(_[c],1,1,(()=>{_[c]=null})),Ae(),g=_[h],g?g.p(t,o):(g=_[h]=I[h](t),g.c()),He(g,1),g.m(s,null)),(!y||16&o[0]&&w!==(w=t[31].id))&&K(n,"data-comment-id",w)},i(e){y||(He(r.$$.fragment,e),He(S),He(g),y=!0)},o(e){Le(r.$$.fragment,e),Le(S),Le(g),y=!1},d(e){e&&O(n),Je(r),S&&S.d(),_[h].d()}}}function dd(e){let t,n,o,r,l,s,i,c,a,d;function u(t){e[25](t)}o=new ti({props:{size:"small",border:!1,data:e[10][e[5]]}});let p={resize:!1,placeholder:e[6]("Add a comment...")};return void 0!==e[0]&&(p.value=e[0]),l=new td({props:p}),he.push((()=>Ve(l,"value",u))),a=new Mt({props:{type:"primary block",click:e[12],$$slots:{default:[ud]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),Ye(l.$$.fragment),i=z(),c=H("div"),Ye(a.$$.fragment),K(n,"class","wx-comment-icon svelte-6mge21"),K(t,"class","wx-new-comment svelte-6mge21"),K(c,"class","wx-comment-textarea-btn svelte-6mge21")},m(e,s){N(e,t,s),T(t,n),Ge(o,n,null),T(t,r),Ge(l,t,null),N(e,i,s),N(e,c,s),Ge(a,c,null),d=!0},p(e,t){const n={};32&t[0]&&(n.data=e[10][e[5]]),o.$set(n);const r={};!s&&1&t[0]&&(s=!0,r.value=e[0],Se((()=>s=!1))),l.$set(r);const i={};8&t[1]&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){d||(He(o.$$.fragment,e),He(l.$$.fragment,e),He(a.$$.fragment,e),d=!0)},o(e){Le(o.$$.fragment,e),Le(l.$$.fragment,e),Le(a.$$.fragment,e),d=!1},d(e){e&&O(t),Je(o),Je(l),e&&O(i),e&&O(c),Je(a)}}}function ud(e){let n,o=e[6]("Send")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function pd(e){let t,n,o,r,l,s,c,a,d,u=[],p=new Map,f=e[4];const m=e=>e[31].id;for(let t=0;t<f.length;t+=1){let n=nd(e,f,t),o=m(n);p.set(o,u[t]=ad(o,n))}function $(t){e[24](t)}let h={at:"left-bottom",options:e[16],resolver:fd,dataKey:"menuId"};void 0!==e[3]&&(h.handler=e[3]),r=new Ts({props:h}),he.push((()=>Ve(r,"handler",$))),r.$on("click",e[15]);let g=e[5]&&dd(e);return{c(){t=H("div"),n=H("div");for(let e=0;e<u.length;e+=1)u[e].c();o=z(),Ye(r.$$.fragment),s=z(),g&&g.c(),K(n,"class","wx-comment-list svelte-6mge21"),K(t,"class","wx-comments svelte-6mge21")},m(l,p){N(l,t,p),T(t,n);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(n,null);T(t,o),Ge(r,t,null),T(t,s),g&&g.m(t,null),c=!0,a||(d=j(n,"click",(function(){i(e[3])&&e[3].apply(this,arguments)})),a=!0)},p(o,s){e=o,28278&s[0]&&(f=e[4],Oe(),u=Pe(u,s,m,1,e,f,p,n,qe,ad,null,nd),Ae());const i={};!l&&8&s[0]&&(l=!0,i.handler=e[3],Se((()=>l=!1))),r.$set(i),e[5]?g?(g.p(e,s),32&s[0]&&He(g,1)):(g=dd(e),g.c(),He(g,1),g.m(t,null)):g&&(Oe(),Le(g,1,1,(()=>{g=null})),Ae())},i(e){if(!c){for(let e=0;e<f.length;e+=1)He(u[e]);He(r.$$.fragment,e),He(g),c=!0}},o(e){for(let e=0;e<u.length;e+=1)Le(u[e]);Le(r.$$.fragment,e),Le(g),c=!1},d(e){e&&O(t);for(let e=0;e<u.length;e+=1)u[e].d();Je(r),g&&g.d(),a=!1,d()}}}const fd=e=>e;function md(e,t,n){let o,r,l;var s;let{api:i}=t,{card:c}=t,{users:a=[]}=t,{shape:d}=t;const u=fe("wx-i18n"),f=u.getGroup("kanban"),{showModal:m}=fe("wx-helpers"),{cards:$,currentUser:h}=i.getReactiveState();p(e,$,(e=>n(22,r=e))),p(e,h,(e=>n(5,l=e)));const g=d.config||{},v=a.reduce(((e,t)=>(e[t.id]=t,e)),{}),w=Zl(g.format||"%M %d %Y %h:%i",u.getRaw().calendar);let y="";let b=null,x=null;function k(){n(1,b=null),n(2,x=null)}let S=null;const I=[{id:"edit-comment",text:f("Edit"),icon:"wxi-edit-outline"},{id:"delete-comment",text:f("Delete"),icon:"wxi-delete-outline"}];return e.$$set=e=>{"api"in e&&n(17,i=e.api),"card"in e&&n(18,c=e.card),"users"in e&&n(19,a=e.users),"shape"in e&&n(20,d=e.shape)},e.$$.update=()=>{6553600&e.$$.dirty[0]&&n(4,o=(null===n(21,s=r.find((e=>e.id===(null==c?void 0:c.id))))||void 0===s?void 0:s.comments)||[])},[y,b,x,S,o,l,f,$,h,g,v,w,function(){y&&(i.exec("add-comment",{id:tt(),cardId:c.id,comment:{text:y,date:new Date}}),n(0,y=""))},function(){x&&i.exec("update-comment",{cardId:c.id,id:b,comment:{text:x}}),k()},k,function(e){const{item:t,action:r}=e.detail;if(r)switch(r.id){case"edit-comment":l=o.find((e=>e.id==t)),n(1,b=l.id),n(2,x=l.text);break;case"delete-comment":!function(e){m({message:f("Would you like to delete this comment?")}).then((()=>{i.exec("delete-comment",{cardId:c.id,id:e})})).catch((()=>{}))}(t)}var l},I,i,c,a,d,s,r,function(e){x=e,n(2,x)},function(e){S=e,n(3,S)},function(e){y=e,n(0,y)}]}class $d extends We{constructor(e){super(),Be(this,e,md,pd,c,{api:17,card:18,users:19,shape:20},null,[-1,-1])}}function hd(e,t,n){const o=e.slice();return o[30]=t[n],o}function gd(e,t){let n,o,r,l,s,i,c,a,d,u,p,f,m,$=t[30].label+"",h=t[12](t[30])+"";function g(){return t[21](t[30])}function v(){return t[22](t[30])}return u=new Ul({props:{name:"wxi-delete",click:v}}),{key:e,first:null,c(){n=H("div"),o=H("div"),r=H("div"),l=R($),s=z(),i=H("div"),c=R(h),a=z(),d=H("div"),Ye(u.$$.fragment),K(r,"class","wx-relates svelte-hbw2pu"),K(i,"class","wx-task svelte-hbw2pu"),K(o,"class","wx-link-content"),K(d,"class","wx-delete-icon svelte-hbw2pu"),K(n,"class","wx-link svelte-hbw2pu"),this.first=n},m(e,t){N(e,n,t),T(n,o),T(o,r),T(r,l),T(o,s),T(o,i),T(i,c),T(n,a),T(n,d),Ge(u,d,null),p=!0,f||(m=j(i,"click",g),f=!0)},p(e,n){t=e,(!p||1&n[0])&&$!==($=t[30].label+"")&&V(l,$),(!p||1&n[0])&&h!==(h=t[12](t[30])+"")&&V(c,h);const o={};1&n[0]&&(o.click=v),u.$set(o)},i(e){p||(He(u.$$.fragment,e),p=!0)},o(e){Le(u.$$.fragment,e),p=!1},d(e){e&&O(n),Je(u),f=!1,m()}}}function vd(e){let t,n,o,r,l,s,i,c,a,d,u,p,f,m,$,h,g;function v(t){e[23](t)}let w={options:e[9],placeholder:e[6]("Select a relation"),$$slots:{default:[wd,({option:e})=>({29:e}),({option:e})=>[e?536870912:0]]},$$scope:{ctx:e}};function y(t){e[25](t)}void 0!==e[1]&&(w.value=e[1]),r=new dn({props:w}),he.push((()=>Ve(r,"value",v))),r.$on("select",e[24]);let b={options:e[3],placeholder:e[6]("Select a task"),disabled:e[4],$$slots:{default:[yd,({option:e})=>({29:e}),({option:e})=>[e?536870912:0]]},$$scope:{ctx:e}};return void 0!==e[2]&&(b.value=e[2]),c=new dn({props:b}),he.push((()=>Ve(c,"value",y))),f=new Mt({props:{type:"secondary block",click:e[11],$$slots:{default:[bd]},$$scope:{ctx:e}}}),h=new Mt({props:{type:"primary block",click:e[26],$$slots:{default:[xd]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("div"),o=H("div"),Ye(r.$$.fragment),s=z(),i=H("div"),Ye(c.$$.fragment),d=z(),u=H("div"),p=H("div"),Ye(f.$$.fragment),m=z(),$=H("div"),Ye(h.$$.fragment),K(o,"class","wx-relates-combo svelte-hbw2pu"),K(i,"class","wx-tasks-combo svelte-hbw2pu"),K(n,"class","wx-combos-wrapper svelte-hbw2pu"),K(p,"class","wx-cancel-btn"),K($,"class","wx-link-btn svelte-hbw2pu"),K(u,"class","wx-btns-wrapper svelte-hbw2pu"),K(t,"class","wx-set-link svelte-hbw2pu")},m(e,l){N(e,t,l),T(t,n),T(n,o),Ge(r,o,null),T(n,s),T(n,i),Ge(c,i,null),T(t,d),T(t,u),T(u,p),Ge(f,p,null),T(u,m),T(u,$),Ge(h,$,null),g=!0},p(e,t){const n={};536870912&t[0]|4&t[1]&&(n.$$scope={dirty:t,ctx:e}),!l&&2&t[0]&&(l=!0,n.value=e[1],Se((()=>l=!1))),r.$set(n);const o={};8&t[0]&&(o.options=e[3]),16&t[0]&&(o.disabled=e[4]),536870912&t[0]|4&t[1]&&(o.$$scope={dirty:t,ctx:e}),!a&&4&t[0]&&(a=!0,o.value=e[2],Se((()=>a=!1))),c.$set(o);const s={};4&t[1]&&(s.$$scope={dirty:t,ctx:e}),f.$set(s);const i={};4&t[1]&&(i.$$scope={dirty:t,ctx:e}),h.$set(i)},i(e){g||(He(r.$$.fragment,e),He(c.$$.fragment,e),He(f.$$.fragment,e),He(h.$$.fragment,e),g=!0)},o(e){Le(r.$$.fragment,e),Le(c.$$.fragment,e),Le(f.$$.fragment,e),Le(h.$$.fragment,e),g=!1},d(e){e&&O(t),Je(r),Je(c),Je(f),Je(h)}}}function wd(e){let t,n=e[29].label+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){536870912&o[0]&&n!==(n=e[29].label+"")&&V(t,n)},d(e){e&&O(t)}}}function yd(e){let t,n=e[29].label+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){536870912&o[0]&&n!==(n=e[29].label+"")&&V(t,n)},d(e){e&&O(t)}}}function bd(e){let n,o=e[6]("Cancel")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function xd(e){let n,o=e[6]("Link Task")+"";return{c(){n=R(o)},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function kd(e){let t,n,o,r,l,s,i,c,a,d,u=[],p=new Map,f=e[0];const m=e=>e[30].id;for(let t=0;t<f.length;t+=1){let n=hd(e,f,t),o=m(n);p.set(o,u[t]=gd(o,n))}let $=e[5]&&vd(e);return l=new Ul({props:{name:"wxi-plus"}}),{c(){t=H("div");for(let e=0;e<u.length;e+=1)u[e].c();n=z(),$&&$.c(),o=z(),r=H("div"),Ye(l.$$.fragment),s=z(),i=H("span"),i.textContent=`${e[6]("Add link")}`,K(r,"class","wx-add-link svelte-hbw2pu"),K(t,"class","wx-links svelte-hbw2pu")},m(p,f){N(p,t,f);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(t,null);T(t,n),$&&$.m(t,null),T(t,o),T(t,r),Ge(l,r,null),T(r,s),T(r,i),c=!0,a||(d=j(r,"click",e[10]),a=!0)},p(e,r){86017&r[0]&&(f=e[0],Oe(),u=Pe(u,r,m,1,e,f,p,t,qe,gd,n,hd),Ae()),e[5]?$?($.p(e,r),32&r[0]&&He($,1)):($=vd(e),$.c(),He($,1),$.m(t,o)):$&&(Oe(),Le($,1,1,(()=>{$=null})),Ae())},i(e){if(!c){for(let e=0;e<f.length;e+=1)He(u[e]);He($),He(l.$$.fragment,e),c=!0}},o(e){for(let e=0;e<u.length;e+=1)Le(u[e]);Le($),Le(l.$$.fragment,e),c=!1},d(e){e&&O(t);for(let e=0;e<u.length;e+=1)u[e].d();$&&$.d(),Je(l),a=!1,d()}}}function Sd(e,t,n){let o,r,{api:l}=t,{card:s}=t;const i=fe("wx-i18n").getGroup("kanban"),{cards:c,links:a}=l.getReactiveState();p(e,c,(e=>n(19,o=e))),p(e,a,(e=>n(20,r=e)));const d=[{id:1,relation:"relatesTo",master:!1,label:i("Relates to")},{id:2,relation:"requiredFor",master:!0,label:i("Is required for")},{id:3,relation:"requiredFor",master:!1,label:i("Depends on")},{id:4,relation:"duplicate",master:!0,label:i("Duplicates")},{id:5,relation:"duplicate",master:!1,label:i("Is duplicated by")},{id:6,relation:"parent",master:!0,label:i("Is parent for")},{id:7,relation:"parent",master:!1,label:i("Is subtask of")}];let u,f=null,m=null,$=[],h=null,g=!0,v=!1;function w(){n(5,v=!1),n(4,g=!0),n(2,m=n(1,f=""))}function y(){if(f&&m){const e=d.find((e=>Fr(e.id,f))).master;l.exec("add-link",{link:{masterId:e?s.id:m,slaveId:e?m:s.id,relation:h}}),w()}}function b(e){l.exec("delete-link",{id:e})}function x(){f&&(h=d.find((e=>Fr(e.id,f))).relation),n(3,$=$.filter((e=>!u.find((t=>(Fr(e.id,t.slaveId)&&Fr(t.masterId,s.id)||Fr(e.id,t.masterId)&&Fr(t.slaveId,s.id))&&t.relation===h))))),n(2,m=""),n(4,g=!1)}function k(e){const t=e.isMaster?"slaveId":"masterId";l.exec("select-card",{id:e[t]})}return e.$$set=e=>{"api"in e&&n(17,l=e.api),"card"in e&&n(18,s=e.card)},e.$$.update=()=>{1310720&e.$$.dirty[0]&&n(0,u=r.filter((e=>Fr(e.masterId,s.id)||Fr(e.slaveId,s.id))).map((e=>{const t=Object.assign({},e);return t.isMaster=Fr(t.masterId,s.id),t.label=d.find((e=>e.relation===t.relation&&("relatesTo"===t.relation||t.isMaster===e.master))).label,t}))),786433&e.$$.dirty[0]&&(n(3,$=u&&o.filter((e=>!Fr(e.id,s.id)))),w())},[u,f,m,$,g,v,i,c,a,d,function(){n(5,v=!0)},w,function(e){const t=e.isMaster?"slaveId":"masterId";return o.find((n=>Fr(n.id,e[t]))).label},y,b,x,k,l,s,o,r,e=>k(e),e=>b(e.id),function(e){f=e,n(1,f)},()=>x(),function(e){m=e,n(2,m)},()=>y()]}class Id extends We{constructor(e){super(),Be(this,e,Sd,kd,c,{api:17,card:18},null,[-1,-1])}}function _d(e,t,n){const o=e.slice();return o[46]=t[n],o[47]=t,o[48]=n,o}function Md(e,t,n){const o=e.slice();return o[51]=t[n],o}function Cd(e){let t,n,o,r,l,s,i,c,a,d,u="main"===e[12]&&!e[0].autoSave&&Td(e);const p=[Nd,Ed],f=[];function m(e,t){return"main"===e[12]?0:1}r=m(e),l=f[r]=p[r](e);const $=[jd,Fd],h=[];function g(e,t){return"main"===e[12]?0:"comments"===e[12]?1:-1}return~(i=g(e))&&(c=h[i]=$[i](e)),{c(){t=H("div"),u&&u.c(),n=z(),o=H("div"),l.c(),s=z(),c&&c.c(),a=F(),K(o,"class","wx-editor-controls svelte-1lruhmf"),K(t,"class","wx-editor-controls-wrapper svelte-1lruhmf")},m(e,l){N(e,t,l),u&&u.m(t,null),T(t,n),T(t,o),f[r].m(o,null),N(e,s,l),~i&&h[i].m(e,l),N(e,a,l),d=!0},p(e,s){"main"!==e[12]||e[0].autoSave?u&&(Oe(),Le(u,1,1,(()=>{u=null})),Ae()):u?(u.p(e,s),4097&s[0]&&He(u,1)):(u=Td(e),u.c(),He(u,1),u.m(t,n));let d=r;r=m(e),r===d?f[r].p(e,s):(Oe(),Le(f[d],1,1,(()=>{f[d]=null})),Ae(),l=f[r],l?l.p(e,s):(l=f[r]=p[r](e),l.c()),He(l,1),l.m(o,null));let v=i;i=g(e),i===v?~i&&h[i].p(e,s):(c&&(Oe(),Le(h[v],1,1,(()=>{h[v]=null})),Ae()),~i?(c=h[i],c?c.p(e,s):(c=h[i]=$[i](e),c.c()),He(c,1),c.m(a.parentNode,a)):c=null)},i(e){d||(He(u),He(l),He(c),d=!0)},o(e){Le(u),Le(l),Le(c),d=!1},d(e){e&&O(t),u&&u.d(),f[r].d(),e&&O(s),~i&&h[i].d(e),e&&O(a)}}}function Td(e){let t,n;return t=new Mt({props:{type:"primary wx-editor-btn",click:e[16],$$slots:{default:[Dd]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2048&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Dd(e){let t,n=e[11]("Save")+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){2048&o[0]&&n!==(n=e[11]("Save")+"")&&V(t,n)},d(e){e&&O(t)}}}function Ed(e){let t,n;return t=new Mt({props:{click:e[32],$$slots:{default:[Od]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2048&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Nd(e){let t,n,o,r=e[8].votes?.show&&Ad(e);return n=new Ul({props:{name:"wxi-close",click:e[18]}}),{c(){r&&r.c(),t=z(),Ye(n.$$.fragment)},m(e,l){r&&r.m(e,l),N(e,t,l),Ge(n,e,l),o=!0},p(e,n){e[8].votes?.show?r?(r.p(e,n),256&n[0]&&He(r,1)):(r=Ad(e),r.c(),He(r,1),r.m(t.parentNode,t)):r&&(Oe(),Le(r,1,1,(()=>{r=null})),Ae())},i(e){o||(He(r),He(n.$$.fragment,e),o=!0)},o(e){Le(r),Le(n.$$.fragment,e),o=!1},d(e){r&&r.d(e),e&&O(t),Je(n,e)}}}function Od(e){let t,n=e[11]("Back")+"";return{c(){t=R(n)},m(e,n){N(e,t,n)},p(e,o){2048&o[0]&&n!==(n=e[11]("Back")+"")&&V(t,n)},d(e){e&&O(t)}}}function Ad(e){let t,n,o,r,l,i,c;o=new Mt({props:{click:e[20],$$slots:{default:[Hd]},$$scope:{ctx:e}}});let a=e[13]&&e[14]?.length&&Ld(e);return{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),a&&a.c(),K(n,"class","wx-kanban-editor-vote svelte-1lruhmf"),X(n,"wx-kanban-editor-voted",e[2].votes?.includes(e[15])),K(t,"class","wx-kanban-editor-voting svelte-1lruhmf")},m(s,d){N(s,t,d),T(t,n),Ge(o,n,null),T(t,r),a&&a.m(t,null),l=!0,i||(c=[j(n,"mouseenter",e[29]),j(n,"mouseleave",e[30])],i=!0)},p(e,r){const s={};4&r[0]|8388608&r[1]&&(s.$$scope={dirty:r,ctx:e}),o.$set(s),(!l||32772&r[0])&&X(n,"wx-kanban-editor-voted",e[2].votes?.includes(e[15])),e[13]&&e[14]?.length?a?(a.p(e,r),24576&r[0]&&He(a,1)):(a=Ld(e),a.c(),He(a,1),a.m(t,null)):a&&(Oe(),Le(a,1,1,(()=>{a=null})),Ae())},i(e){l||(He(o.$$.fragment,e),He(a),l=!0)},o(e){Le(o.$$.fragment,e),Le(a),l=!1},d(e){e&&O(t),Je(o),a&&a.d(),i=!1,s(c)}}}function Hd(e){let t,n,o,r,l=(e[2].votes?.length||0)+"";return t=new Ul({props:{name:"wxi-like"}}),{c(){Ye(t.$$.fragment),n=z(),o=R(l)},m(e,l){Ge(t,e,l),N(e,n,l),N(e,o,l),r=!0},p(e,t){(!r||4&t[0])&&l!==(l=(e[2].votes?.length||0)+"")&&V(o,l)},i(e){r||(He(t.$$.fragment,e),r=!0)},o(e){Le(t.$$.fragment,e),r=!1},d(e){Je(t,e),e&&O(n),e&&O(o)}}}function Ld(e){let t,n;return t=new Ht({props:{width:"230px",cancel:e[31],$$slots:{default:[zd]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};8192&n[0]&&(o.cancel=e[31]),16384&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Rd(e,t){let n,o,r,l,s,i,c,a=t[51].label+"";return o=new ti({props:{size:"small",data:t[51]}}),{key:e,first:null,c(){n=H("div"),Ye(o.$$.fragment),r=z(),l=H("span"),s=R(a),i=z(),K(l,"class","wx-multiselect-label svelte-1lruhmf"),K(n,"class","wx-multiselect-option svelte-1lruhmf"),this.first=n},m(e,t){N(e,n,t),Ge(o,n,null),T(n,r),T(n,l),T(l,s),T(n,i),c=!0},p(e,n){t=e;const r={};16384&n[0]&&(r.data=t[51]),o.$set(r),(!c||16384&n[0])&&a!==(a=t[51].label+"")&&V(s,a)},i(e){c||(He(o.$$.fragment,e),c=!0)},o(e){Le(o.$$.fragment,e),c=!1},d(e){e&&O(n),Je(o)}}}function zd(e){let t,n,o=[],r=new Map,l=e[14];const s=e=>e[51].id;for(let t=0;t<l.length;t+=1){let n=Md(e,l,t),i=s(n);r.set(i,o[t]=Rd(i,n))}return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","wx-kanban-voters-list svelte-1lruhmf")},m(e,r){N(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,n){16384&n[0]&&(l=e[14],Oe(),o=Pe(o,n,s,1,e,l,r,t,qe,Rd,null,Md),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){e&&O(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function Fd(e){let t,n;return t=new $d({props:{card:e[2],api:e[1],users:e[1].getState().cardShape.users?.values,shape:e[5].find(bu)}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.card=e[2]),2&n[0]&&(o.api=e[1]),2&n[0]&&(o.users=e[1].getState().cardShape.users?.values),32&n[0]&&(o.shape=e[5].find(bu)),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function jd(e){let t,n,o=[],r=new Map,l=e[5];const s=e=>e[46].id;for(let t=0;t<l.length;t+=1){let n=_d(e,l,t),i=s(n);r.set(i,o[t]=vu(i,n))}return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","wx-kanban-editor-main")},m(e,r){N(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,n){657574&n[0]|786432&n[1]&&(l=e[5],Oe(),o=Pe(o,n,s,1,e,l,r,t,qe,vu,null,_d),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){e&&O(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function qd(e){let t,n,o,r;return n=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[nu]},$$scope:{ctx:e}}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),K(t,"class","wx-card-comments svelte-1lruhmf")},m(e,l){N(e,t,l),Ge(n,t,null),T(t,o),r=!0},p(e,t){const o={};2080&t[0]&&(o.label=e[11](e[46].label)),2086&t[0]|8388608&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){r||(He(n.$$.fragment,e),r=!0)},o(e){Le(n.$$.fragment,e),r=!1},d(e){e&&O(t),Je(n)}}}function Pd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[ou]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),6&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Kd(e){let t,n,o,r;return n=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[ru]},$$scope:{ctx:e}}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),K(t,"class","files svelte-1lruhmf")},m(e,l){N(e,t,l),Ge(n,t,null),T(t,o),r=!0},p(e,t){const o={};2080&t[0]&&(o.label=e[11](e[46].label)),32&t[0]|8388608&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){r||(He(n.$$.fragment,e),r=!0)},o(e){Le(n.$$.fragment,e),r=!1},d(e){e&&O(t),Je(n)}}}function Ud(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[lu,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Vd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[su,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Yd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[cu]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Gd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[au,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Jd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[du,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Bd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[mu,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Wd(e){let t,n;return t=new Qo({props:{label:`${e[11](e[46].label)} ${e[7][e[46].key]}%`,position:"top",$$slots:{default:[$u,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2208&n[0]&&(o.label=`${e[11](e[46].label)} ${e[7][e[46].key]}%`),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Xd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[hu,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Qd(e){let t,n;return t=new Qo({props:{label:e[11](e[46].label),position:"top",$$slots:{default:[gu,({id:e})=>({49:e}),({id:e})=>[0,e?262144:0]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2080&n[0]&&(o.label=e[11](e[46].label)),160&n[0]|8650752&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Zd(e){let t,n;return t=new Mt({props:{type:"primary block",click:e[43],$$slots:{default:[tu]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2052&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function eu(e){let t,n;return t=new $d({props:{card:e[2],api:e[1],users:e[1].getState().cardShape.users?.values,shape:e[46]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.card=e[2]),2&n[0]&&(o.api=e[1]),2&n[0]&&(o.users=e[1].getState().cardShape.users?.values),32&n[0]&&(o.shape=e[46]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function tu(e){let t,n,o,r,l=e[11]("Show comments")+"",s=(e[2].comments?.length||0)+"";return{c(){t=R(l),n=R("\n\t\t\t\t\t\t\t\t\t\t\t("),o=R(s),r=R(")")},m(e,l){N(e,t,l),N(e,n,l),N(e,o,l),N(e,r,l)},p(e,n){2048&n[0]&&l!==(l=e[11]("Show comments")+"")&&V(t,l),4&n[0]&&s!==(s=(e[2].comments?.length||0)+"")&&V(o,s)},d(e){e&&O(t),e&&O(n),e&&O(o),e&&O(r)}}}function nu(e){let t,n,o,r;const l=[eu,Zd],s=[];function i(e,t){return"editor"===e[46].config?.placement?0:1}return t=i(e),n=s[t]=l[t](e),{c(){n.c(),o=F()},m(e,n){s[t].m(e,n),N(e,o,n),r=!0},p(e,r){let c=t;t=i(e),t===c?s[t].p(e,r):(Oe(),Le(s[c],1,1,(()=>{s[c]=null})),Ae(),n=s[t],n?n.p(e,r):(n=s[t]=l[t](e),n.c()),He(n,1),n.m(o.parentNode,o))},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){s[t].d(e),e&&O(o)}}}function ou(e){let t,n,o;return t=new Id({props:{card:e[2],api:e[1]}}),{c(){Ye(t.$$.fragment),n=z()},m(e,r){Ge(t,e,r),N(e,n,r),o=!0},p(e,n){const o={};4&n[0]&&(o.card=e[2]),2&n[0]&&(o.api=e[1]),t.$set(o)},i(e){o||(He(t.$$.fragment,e),o=!0)},o(e){Le(t.$$.fragment,e),o=!1},d(e){Je(t,e),e&&O(n)}}}function ru(e){let t,n;return t=new pa({props:{field:e[46],values:e[17]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};32&n[0]&&(o.field=e[46]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function lu(e){let t,n,o,r,l;function s(t){e[41](t,e[46])}function i(t){e[42](t,e[46])}let c={id:e[49],format:e[46].format||"%m/%d/%Y"};return void 0!==e[7][e[46].key.start]&&(c.start=e[7][e[46].key.start]),void 0!==e[7][e[46].key.end]&&(c.end=e[7][e[46].key.end]),t=new Sa({props:c}),he.push((()=>Ve(t,"start",s))),he.push((()=>Ve(t,"end",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(r,l){e=r;const s={};262144&l[1]&&(s.id=e[49]),32&l[0]&&(s.format=e[46].format||"%m/%d/%Y"),!n&&160&l[0]&&(n=!0,s.start=e[7][e[46].key.start],Se((()=>n=!1))),!o&&160&l[0]&&(o=!0,s.end=e[7][e[46].key.end],Se((()=>o=!1))),t.$set(s)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function su(e){let t,n,r,l;const s=[{id:e[49]},{format:e[46].format||"%m/%d/%Y"},e[46].config];function i(t){e[40](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new so({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},32&r[0]&&{format:e[46].format||"%m/%d/%Y"},32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function iu(e){let t,n,o,r,l,s,i=e[50].label+"";return n=new ti({props:{data:e[50]}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=H("span"),l=R(i),K(r,"class","wx-multiselect-label svelte-1lruhmf"),K(t,"class","wx-multiselect-option svelte-1lruhmf")},m(e,i){N(e,t,i),Ge(n,t,null),T(t,o),T(t,r),T(r,l),s=!0},p(e,t){const o={};524288&t[1]&&(o.data=e[50]),n.$set(o),(!s||524288&t[1])&&i!==(i=e[50].label+"")&&V(l,i)},i(e){s||(He(n.$$.fragment,e),s=!0)},o(e){Le(n.$$.fragment,e),s=!1},d(e){e&&O(t),Je(n)}}}function cu(e){let t,n,r,l;const s=[{checkboxes:!0},{options:e[46].values},e[46].config];function i(t){e[39](t,e[46])}let c={$$slots:{default:[iu,({option:e})=>({50:e}),({option:e})=>[0,e?524288:0]]},$$scope:{ctx:e}};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.values=e[7][e[46].key]),t=new Ba({props:c}),he.push((()=>Ve(t,"values",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]?Ke(s,[s[0],{options:e[46].values},Ue(e[46].config)]):{};8912896&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&160&r[0]&&(n=!0,l.values=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function au(e){let t,n,r,l;const s=[{id:e[49]},{colors:e[46].values},e[46].config];function i(t){e[38](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new Vt({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},32&r[0]&&{colors:e[46].values},32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function du(e){let t,n,r,l;const s=[{id:e[49]},{options:e[46].values},e[46].config];function i(t){e[37](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new go({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},32&r[0]&&{options:e[46].values},32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function uu(e){let t,n;return t=new ti({props:{data:e[50]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};524288&n[1]&&(o.data=e[50]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function pu(e){let n;return{c(){n=H("div"),K(n,"class","wx-color svelte-1lruhmf"),G(n,"background",e[50].color)},m(e,t){N(e,n,t)},p(e,t){524288&t[1]&&G(n,"background",e[50].color)},i:t,o:t,d(e){e&&O(n)}}}function fu(e){let t,n,o,r,l,s,i=e[50].label+"";const c=[pu,uu],a=[];function d(e,t){return e[50].color?0:e[50].avatar||e[50].avatarColor?1:-1}return~(n=d(e))&&(o=a[n]=c[n](e)),{c(){t=H("div"),o&&o.c(),r=z(),l=R(i),K(t,"class","wx-combo-option svelte-1lruhmf")},m(e,o){N(e,t,o),~n&&a[n].m(t,null),T(t,r),T(t,l),s=!0},p(e,u){let p=n;n=d(e),n===p?~n&&a[n].p(e,u):(o&&(Oe(),Le(a[p],1,1,(()=>{a[p]=null})),Ae()),~n?(o=a[n],o?o.p(e,u):(o=a[n]=c[n](e),o.c()),He(o,1),o.m(t,r)):o=null),(!s||524288&u[1])&&i!==(i=e[50].label+"")&&V(l,i)},i(e){s||(He(o),s=!0)},o(e){Le(o),s=!1},d(e){e&&O(t),~n&&a[n].d()}}}function mu(e){let t,n,r,l;const s=[{id:e[49]},{options:e[46].values},e[46].config];function i(t){e[36](t,e[46])}let c={$$slots:{default:[fu,({option:e})=>({50:e}),({option:e})=>[0,e?524288:0]]},$$scope:{ctx:e}};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new dn({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},32&r[0]&&{options:e[46].values},32&r[0]&&Ue(e[46].config)]):{};8912896&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function $u(e){let t,n,r,l;const s=[{id:e[49]},{min:0},e[46].config];function i(t){e[35](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new bo({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},s[1],32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function hu(e){let t,n,r,l;const s=[{id:e[49]},e[46].config];function i(t){e[34](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new kt({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function gu(e){let t,n,r,l;const s=[{id:e[49]},{focus:!0},e[46].config];function i(t){e[33](t,e[46])}let c={};for(let e=0;e<s.length;e+=1)c=o(c,s[e]);return void 0!==e[7][e[46].key]&&(c.value=e[7][e[46].key]),t=new hn({props:c}),he.push((()=>Ve(t,"value",i))),{c(){Ye(t.$$.fragment),r=z()},m(e,n){Ge(t,e,n),N(e,r,n),l=!0},p(o,r){e=o;const l=32&r[0]|262144&r[1]?Ke(s,[262144&r[1]&&{id:e[49]},s[1],32&r[0]&&Ue(e[46].config)]):{};!n&&160&r[0]&&(n=!0,l.value=e[7][e[46].key],Se((()=>n=!1))),t.$set(l)},i(e){l||(He(t.$$.fragment,e),l=!0)},o(e){Le(t.$$.fragment,e),l=!1},d(e){Je(t,e),e&&O(r)}}}function vu(e,t){let n,o,r,l,s;const i=[Qd,Xd,Wd,Bd,Jd,Gd,Yd,Vd,Ud,Kd,Pd,qd],c=[];function a(e,t){return"text"===e[46].type?0:"textarea"===e[46].type?1:"progress"===e[46].type?2:"combo"===e[46].type?3:"select"===e[46].type?4:"color"===e[46].type?5:"multiselect"===e[46].type?6:"date"===e[46].type?7:"dateRange"===e[46].type?8:"files"===e[46].type?9:"links"===e[46].type?10:"comments"===e[46].type?11:-1}return~(o=a(t))&&(r=c[o]=i[o](t)),{key:e,first:null,c(){n=F(),r&&r.c(),l=F(),this.first=n},m(e,t){N(e,n,t),~o&&c[o].m(e,t),N(e,l,t),s=!0},p(e,n){let s=o;o=a(t=e),o===s?~o&&c[o].p(t,n):(r&&(Oe(),Le(c[s],1,1,(()=>{c[s]=null})),Ae()),~o?(r=c[o],r?r.p(t,n):(r=c[o]=i[o](t),r.c()),He(r,1),r.m(l.parentNode,l)):r=null)},i(e){s||(He(r),s=!0)},o(e){Le(r),s=!1},d(e){e&&O(n),~o&&c[o].d(e),e&&O(l)}}}function wu(e){let t,n,o,r,l,s,i;function c(t){e[28](t)}let a={};void 0!==e[11]&&(a._=e[11]),t=new Xa({props:a}),he.push((()=>Ve(t,"_",c)));let d=e[11]&&e[2]&&Cd(e);return{c(){Ye(t.$$.fragment),o=z(),r=H("div"),d&&d.c(),K(r,"class","wx-editor svelte-1lruhmf"),K(r,"data-kanban-id",Ar.editor),X(r,"wx-editor-open",e[2])},m(n,c){Ge(t,n,c),N(n,o,c),N(n,r,c),d&&d.m(r,null),l=!0,s||(i=j(r,"click",P(e[27])),s=!0)},p(e,o){const s={};!n&&2048&o[0]&&(n=!0,s._=e[11],Se((()=>n=!1))),t.$set(s),e[11]&&e[2]?d?(d.p(e,o),2052&o[0]&&He(d,1)):(d=Cd(e),d.c(),He(d,1),d.m(r,null)):d&&(Oe(),Le(d,1,1,(()=>{d=null})),Ae()),(!l||4&o[0])&&X(r,"wx-editor-open",e[2])},i(e){l||(He(t.$$.fragment,e),He(d),l=!0)},o(e){Le(t.$$.fragment,e),Le(d),l=!1},d(e){Je(t,e),e&&O(o),e&&O(r),d&&d.d(),s=!1,i()}}}function yu(e){let t,n;return t=new Cr({props:{words:{...Qe,...Xe},optional:!0,$$slots:{default:[wu]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};63911&n[0]|8388608&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}const bu=e=>"comments"===e.type;function xu(e,n,o){let r,l,s,i,c,a,d=t,f=()=>(d(),d=u(A,(e=>o(15,l=e))),A),m=t,$=()=>(m(),m=u(T,(e=>o(8,s=e))),T),h=t,g=()=>(h(),h=u(C,(e=>o(24,i=e))),C),v=t,w=()=>(v(),v=u(E,(e=>o(25,c=e))),E),y=t,b=()=>(y(),y=u(N,(e=>o(26,a=e))),N);var x,k;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>y()));let{config:S=Or}=n,{shape:I=null}=n,{api:_}=n,M=null,C=null;g();let T=null;$();let D=null,E=null;w();let N=null;b();let O,A=null;function H(){O&&_.exec("update-card",{card:Object.assign({},O),id:O.id})}f();const L=Yc({},(e=>{O=e,S.autoSave&&H()}),{debounce:S.debounce});let R;p(e,L,(e=>o(7,r=e)));let z="main";function F(e){o(12,z=e)}let j=!1;let q=[];return e.$$set=e=>{"config"in e&&o(0,S=e.config),"shape"in e&&o(21,I=e.shape),"api"in e&&o(1,_=e.api)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&o(0,S=Object.assign(Object.assign({},Or),S)),26&e.$$.dirty[0]&&_&&!C&&!T){const e=_.getReactiveState();g(o(3,C=e.edit)),$(o(4,T=e.cardShape)),w(o(6,E=e.cards)),b(o(9,N=e.dragItemId)),f(o(10,A=e.currentUser))}if(117440576&e.$$.dirty[0]&&o(2,M=!a&&E&&c.find((e=>Fr(e.id,null==i?void 0:i.cardId)))),2097424&e.$$.dirty[0]&&o(5,D=T&&function(e,t){return(e||Nr.filter((e=>{const n=t[e.key];return n&&n?.show}))).map((e=>{const n=t[e.key];return n&&"string"==typeof e.key&&(n.values&&!e.values&&(e.values=n.values),e.config&&(n.config=e.config)),e.id=e.id||et(),e}))}(I,s)),36&e.$$.dirty[0]&&D&&L.reset(function(e){const t=Object.assign({},e);return D.forEach((e=>{void 0===t[e.key]&&void 0===t[e.key]&&("files"===e.type?t[e.key]=[]:"date"===e.type?t[e.key]=null:"progress"===e.type?t[e.key]=0:t[e.key]="")})),t}(M)),12583042&e.$$.dirty[0]&&_)if(null===o(22,x=null==r?void 0:r.votes)||void 0===x?void 0:x.length){const e=_.getState().cardShape.users;(null===o(23,k=null==e?void 0:e.values)||void 0===k?void 0:k.length)&&o(14,q=r.votes.map((t=>{var n;return null===(n=null==e?void 0:e.values)||void 0===n?void 0:n.find((e=>e.id==t))})))}else o(14,q=[])},[S,_,M,C,T,D,E,r,s,N,A,R,z,j,q,l,H,L,function(){_.exec("set-edit",null)},F,function(){var e;const t=M.id;(null===(e=M.votes)||void 0===e?void 0:e.includes(l))?_.exec("delete-vote",{cardId:t}):_.exec("add-vote",{cardId:t})},I,x,k,i,c,a,function(t){me.call(this,e,t)},function(e){R=e,o(11,R)},()=>o(13,j=!0),()=>o(13,j=!1),()=>o(13,j=!1),()=>F("main"),function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key],t)&&(r[n.key]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key.start],t)&&(r[n.key.start]=t,L.set(r))},function(t,n){e.$$.not_equal(r[n.key.end],t)&&(r[n.key.end]=t,L.set(r))},()=>F("comments")]}let ku=class extends We{constructor(e){super(),Be(this,e,xu,yu,c,{config:0,shape:21,api:1},null,[-1,-1])}};function Su(e){let t,n,o,r,l;return n=new ku({props:{api:e[1],config:e[0],shape:e[2]}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","wx-sidebar svelte-psni4g"),K(t,"data-kanban-id",Ar.editor),X(t,"wx-sidebar-open",!!e[3])},m(s,i){N(s,t,i),Ge(n,t,null),o=!0,r||(l=j(t,"click",P(e[6])),r=!0)},p(e,[r]){const l={};2&r&&(l.api=e[1]),1&r&&(l.config=e[0]),4&r&&(l.shape=e[2]),n.$set(l),(!o||8&r)&&X(t,"wx-sidebar-open",!!e[3])},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){e&&O(t),Je(n),r=!1,l()}}}function Iu(e,t,n){let o,r,{config:l=Or}=t,{api:s}=t,{shape:i}=t;const{edit:c}=s.getReactiveState();return p(e,c,(e=>n(5,r=e))),e.$$set=e=>{"config"in e&&n(0,l=e.config),"api"in e&&n(1,s=e.api),"shape"in e&&n(2,i=e.shape)},e.$$.update=()=>{34&e.$$.dirty&&n(3,o=s.getCard(null==r?void 0:r.cardId)),1&e.$$.dirty&&n(0,l=Object.assign(Object.assign({},Or),l))},[l,s,i,o,c,r,function(t){me.call(this,e,t)}]}class _u extends We{constructor(e){super(),Be(this,e,Iu,Su,c,{config:0,api:1,shape:2})}}function Mu(e,t,n){const o=e.slice();return o[47]=t[n],o}function Cu(e,t,n){const o=e.slice();return o[50]=t[n],o}function Tu(e,t,n){const o=e.slice();return o[47]=t[n],o}function Du(e,t,n){const o=e.slice();return o[50]=t[n],o}function Eu(e){let t,n,o,r;t=new Fc({props:{columns:e[13],areasMeta:e[14],contentEl:e[5],api:e[4]}}),t.$on("action",e[37]);let l=e[13].length&&Ou(e);return{c(){Ye(t.$$.fragment),n=z(),l&&l.c(),o=F()},m(e,s){Ge(t,e,s),N(e,n,s),l&&l.m(e,s),N(e,o,s),r=!0},p(e,n){const r={};8192&n[0]&&(r.columns=e[13]),16384&n[0]&&(r.areasMeta=e[14]),32&n[0]&&(r.contentEl=e[5]),16&n[0]&&(r.api=e[4]),t.$set(r),e[13].length?l?(l.p(e,n),8192&n[0]&&He(l,1)):(l=Ou(e),l.c(),He(l,1),l.m(o.parentNode,o)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){r||(He(t.$$.fragment,e),He(l),r=!0)},o(e){Le(t.$$.fragment,e),Le(l),r=!1},d(e){Je(t,e),e&&O(n),l&&l.d(e),e&&O(o)}}}function Nu(e){let t,n;return t=new Uc({props:{api:e[4],$$slots:{default:[Pu,({startIndex:e,endIndex:t,byRow:n})=>({44:e,45:t,46:n}),({startIndex:e,endIndex:t,byRow:n})=>[0,(e?8192:0)|(t?16384:0)|(n?32768:0)]]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};16&n[0]&&(o.api=e[4]),254258&n[0]|67166208&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ou(e){let t,n,o=[],r=new Map,l=e[15];const s=e=>e[47].id;for(let t=0;t<l.length;t+=1){let n=Mu(e,l,t),i=s(n);r.set(i,o[t]=Lu(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=F()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){254226&n[0]&&(l=e[15],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,Lu,t,Mu),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function Au(e,t){let n,o,r;return o=new Sc({props:{api:t[4],column:t[50],row:t[47],areaMeta:t[14][qr(t[50].id,t[47].id)],cards:t[17][qr(t[50].id,t[47].id)],cardTemplate:t[1],isMenuVisible:t[8]}}),o.$on("action",t[38]),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};16&n[0]&&(r.api=t[4]),8192&n[0]&&(r.column=t[50]),32768&n[0]&&(r.row=t[47]),57344&n[0]&&(r.areaMeta=t[14][qr(t[50].id,t[47].id)]),172032&n[0]&&(r.cards=t[17][qr(t[50].id,t[47].id)]),2&n[0]&&(r.cardTemplate=t[1]),256&n[0]&&(r.isMenuVisible=t[8]),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function Hu(e){let t,n,o=[],r=new Map,l=e[13];const s=e=>e[50].id;for(let t=0;t<l.length;t+=1){let n=Cu(e,l,t),i=s(n);r.set(i,o[t]=Au(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=z()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){188690&n[0]&&(l=e[13],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,Au,t,Cu),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function Lu(e,t){let n,o,r;return o=new Us({props:{row:t[47],rows:t[15],collapsable:!!t[16],api:t[4],$$slots:{default:[Hu]},$$scope:{ctx:t}}}),o.$on("action",t[39]),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};32768&n[0]&&(r.row=t[47]),32768&n[0]&&(r.rows=t[15]),65536&n[0]&&(r.collapsable=!!t[16]),16&n[0]&&(r.api=t[4]),188690&n[0]|67108864&n[1]&&(r.$$scope={dirty:n,ctx:t}),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function Ru(e){let t,n,o=[],r=new Map,l=e[15];const s=e=>e[47].id;for(let t=0;t<l.length;t+=1){let n=Tu(e,l,t),i=s(n);r.set(i,o[t]=qu(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=F()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){254226&n[0]|57344&n[1]&&(l=e[15],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,qu,t,Tu),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function zu(e){let t,n;return t=new Us({props:{row:e[47],rows:e[15],collapsable:!!e[16],api:e[4],$$slots:{default:[ju]},$$scope:{ctx:e}}}),t.$on("action",e[36]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};32768&n[0]&&(o.row=e[47]),32768&n[0]&&(o.rows=e[15]),65536&n[0]&&(o.collapsable=!!e[16]),16&n[0]&&(o.api=e[4]),188690&n[0]|67166208&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Fu(e,t){let n,o,r;return o=new Sc({props:{api:t[4],column:t[50],row:t[47],areaMeta:t[14][qr(t[50].id,t[47].id)],cards:t[46][t[47].id]?t[17][qr(t[50].id,t[47].id)]?.slice(t[46][t[47].id].startIndex,t[46][t[47].id].endIndex):t[17][qr(t[50].id,t[47].id)]?.slice(t[44],t[45]),cardTemplate:t[1],isMenuVisible:t[8]}}),o.$on("action",t[35]),{key:e,first:null,c(){n=F(),Ye(o.$$.fragment),this.first=n},m(e,t){N(e,n,t),Ge(o,e,t),r=!0},p(e,n){t=e;const r={};16&n[0]&&(r.api=t[4]),8192&n[0]&&(r.column=t[50]),32768&n[0]&&(r.row=t[47]),57344&n[0]&&(r.areaMeta=t[14][qr(t[50].id,t[47].id)]),172032&n[0]|57344&n[1]&&(r.cards=t[46][t[47].id]?t[17][qr(t[50].id,t[47].id)]?.slice(t[46][t[47].id].startIndex,t[46][t[47].id].endIndex):t[17][qr(t[50].id,t[47].id)]?.slice(t[44],t[45])),2&n[0]&&(r.cardTemplate=t[1]),256&n[0]&&(r.isMenuVisible=t[8]),o.$set(r)},i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o,e)}}}function ju(e){let t,n,o=[],r=new Map,l=e[13];const s=e=>e[50].id;for(let t=0;t<l.length;t+=1){let n=Du(e,l,t),i=s(n);r.set(i,o[t]=Fu(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=z()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);N(e,t,r),n=!0},p(e,n){188690&n[0]|57344&n[1]&&(l=e[13],Oe(),o=Pe(o,n,s,1,e,l,r,t.parentNode,qe,Fu,t,Du),Ae())},i(e){if(!n){for(let e=0;e<l.length;e+=1)He(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)Le(o[e]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&O(t)}}}function qu(e,t){let n,o,r,l=t[46][t[47].id].visible&&zu(t);return{key:e,first:null,c(){n=F(),l&&l.c(),o=F(),this.first=n},m(e,t){N(e,n,t),l&&l.m(e,t),N(e,o,t),r=!0},p(e,n){(t=e)[46][t[47].id].visible?l?(l.p(t,n),32768&n[0]|32768&n[1]&&He(l,1)):(l=zu(t),l.c(),He(l,1),l.m(o.parentNode,o)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){r||(He(l),r=!0)},o(e){Le(l),r=!1},d(e){e&&O(n),l&&l.d(e),e&&O(o)}}}function Pu(e){let t,n,o,r;t=new Fc({props:{columns:e[13],areasMeta:e[14],contentEl:e[5],api:e[4]}}),t.$on("action",e[34]);let l=e[13].length&&Ru(e);return{c(){Ye(t.$$.fragment),n=z(),l&&l.c(),o=F()},m(e,s){Ge(t,e,s),N(e,n,s),l&&l.m(e,s),N(e,o,s),r=!0},p(e,n){const r={};8192&n[0]&&(r.columns=e[13]),16384&n[0]&&(r.areasMeta=e[14]),32&n[0]&&(r.contentEl=e[5]),16&n[0]&&(r.api=e[4]),t.$set(r),e[13].length?l?(l.p(e,n),8192&n[0]&&He(l,1)):(l=Ru(e),l.c(),He(l,1),l.m(o.parentNode,o)):l&&(Oe(),Le(l,1,1,(()=>{l=null})),Ae())},i(e){r||(He(t.$$.fragment,e),He(l),r=!0)},o(e){Le(t.$$.fragment,e),Le(l),r=!1},d(e){Je(t,e),e&&O(n),l&&l.d(e),e&&O(o)}}}function Ku(e){let t,n;return t=new _u({props:{api:e[4],config:e[3],shape:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};16&n[0]&&(o.api=e[4]),8&n[0]&&(o.config=e[3]),1&n[0]&&(o.shape=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Uu(e){let t,n,o,r,l,c,a,d,u,p,f,m,$,h,g,v;const w=[Nu,Eu],y=[];function b(e,t){return"default:lazy"===e[2]?0:1}r=b(e),l=y[r]=w[r](e);let x=e[11]&&!e[12]&&!1!==e[3].show&&Ku(e);function S(t){e[41](t)}let I={at:"left-bottom",options:e[7],resolver:e[28],dataKey:"menuId"};return void 0!==e[6]&&(I.handler=e[6]),m=new Ts({props:I}),he.push((()=>Ve(m,"handler",S))),m.$on("click",e[29]),{c(){t=H("div"),n=H("div"),o=H("div"),l.c(),a=z(),x&&x.c(),f=z(),Ye(m.$$.fragment),K(o,"class","wx-content svelte-13hgtri"),K(o,"data-kanban-id",Ar.scrollableContent),X(o,"wx-virtual-content","default:lazy"===e[2]),K(n,"class","wx-content-wrapper svelte-13hgtri"),K(n,"data-kanban-id",Ar.content),X(n,"wx-virtual-content","default:lazy"===e[2]),K(t,"class","wx-kanban svelte-13hgtri"),K(t,"data-wx-widget",Ar.kanban),X(t,"wx-dragged",!!e[12])},m(l,s){N(l,t,s),T(t,n),T(n,o),y[r].m(o,null),e[40](o),T(t,a),x&&x.m(t,null),N(l,f,s),Ge(m,l,s),h=!0,g||(v=[j(o,"click",(function(){i(e[6])&&e[6].apply(this,arguments)})),k(c=Ol.call(null,n,{api:e[4],readonly:!1===e[10]})),k(d=Nl.call(null,t,{api:e[4],readonly:!1===e[9]})),k(u=Ll.call(null,t,{api:e[4],readonly:!1===e[11],locale:e[18]})),k(p=Al.call(null,t,{api:e[4],tick:xe}))],g=!0)},p(s,a){let f=r;r=b(e=s),r===f?y[r].p(e,a):(Oe(),Le(y[f],1,1,(()=>{y[f]=null})),Ae(),l=y[r],l?l.p(e,a):(l=y[r]=w[r](e),l.c()),He(l,1),l.m(o,null)),(!h||4&a[0])&&X(o,"wx-virtual-content","default:lazy"===e[2]),c&&i(c.update)&&1040&a[0]&&c.update.call(null,{api:e[4],readonly:!1===e[10]}),(!h||4&a[0])&&X(n,"wx-virtual-content","default:lazy"===e[2]),e[11]&&!e[12]&&!1!==e[3].show?x?(x.p(e,a),6152&a[0]&&He(x,1)):(x=Ku(e),x.c(),He(x,1),x.m(t,null)):x&&(Oe(),Le(x,1,1,(()=>{x=null})),Ae()),d&&i(d.update)&&528&a[0]&&d.update.call(null,{api:e[4],readonly:!1===e[9]}),u&&i(u.update)&&2064&a[0]&&u.update.call(null,{api:e[4],readonly:!1===e[11],locale:e[18]}),p&&i(p.update)&&16&a[0]&&p.update.call(null,{api:e[4],tick:xe}),(!h||4096&a[0])&&X(t,"wx-dragged",!!e[12]);const g={};128&a[0]&&(g.options=e[7]),!$&&64&a[0]&&($=!0,g.handler=e[6],Se((()=>$=!1))),m.$set(g)},i(e){h||(He(l),He(x),He(m.$$.fragment,e),h=!0)},o(e){Le(l),Le(x),Le(m.$$.fragment,e),h=!1},d(n){n&&O(t),y[r].d(),e[40](null),x&&x.d(),n&&O(f),Je(m,n),g=!1,s(v)}}}function Vu(e,t,n){let o,r,l,s,i,c,a,d,u,f,m,$,h,{editorShape:g}=t,{cardTemplate:v}=t,{layout:w}=t,{editor:y}=t,{api:b}=t;const x=fe("wx-i18n").getGroup("kanban");let{columns:k,rowKey:S,rows:I,readonly:_,dragItemId:M,areasMeta:C,cardsMap:T,cardShape:D,cards:E}=b.getReactiveState();p(e,k,(e=>n(13,d=e))),p(e,S,(e=>n(16,m=e))),p(e,I,(e=>n(15,f=e))),p(e,_,(e=>n(33,c=e))),p(e,M,(e=>n(12,a=e))),p(e,C,(e=>n(14,u=e))),p(e,T,(e=>n(17,$=e))),p(e,D,(e=>n(32,i=e))),p(e,E,(e=>n(31,s=e)));const{showModal:N}=fe("wx-helpers");let O=null,A=[];const H={},L={};return e.$$set=e=>{"editorShape"in e&&n(0,g=e.editorShape),"cardTemplate"in e&&n(1,v=e.cardTemplate),"layout"in e&&n(2,w=e.layout),"editor"in e&&n(3,y=e.editor),"api"in e&&n(4,b=e.api)},e.$$.update=()=>{4&e.$$.dirty[1]&&n(11,({edit:o,select:r,dnd:l}=c),o,(n(10,r),n(33,c)),(n(9,l),n(33,c))),1073741824&e.$$.dirty[0]|3&e.$$.dirty[1]&&s.forEach((e=>{var t;n(30,H[e.id]=((e,t)=>{const n=t.menu.items({card:e});return n&&n.length?n.map((e=>Object.assign(Object.assign({},e),{text:x(e.text)}))):null})(e,i),H),n(8,L[e.id]=!(!i.menu.show||!(null===(t=H[e.id])||void 0===t?void 0:t.length)),L)}))},[g,v,w,y,b,h,O,A,L,l,r,o,a,d,u,f,m,$,x,k,S,I,_,M,C,T,D,E,function(e){var t;const o=s.find((t=>t.id==e));return o&&((null===(t=b.getState().selected)||void 0===t?void 0:t.length)>1&&b.exec("select-card",{id:parseInt(e)}),n(7,A=H[o.id]||[])),o},function(e){const{action:t,item:n}=e.detail;if(t){if(t.onClick)return void t.onClick({id:t.id,item:t,card:n});switch(t.id){case"delete-card":N({message:x("Would you like to delete this card?")}).then((()=>{b.exec("delete-card",{id:n.id})})).catch((()=>{}));break;case"set-edit":b.exec("set-edit",{cardId:n.id});break;case"duplicate-card":b.exec("duplicate-card",{id:n.id,card:{label:`${x("Duplicate of")} ${n.label}`}})}}},H,s,i,c,function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(t){me.call(this,e,t)},function(e){he[e?"unshift":"push"]((()=>{h=e,n(5,h)}))},function(e){O=e,n(6,O)}]}class Yu extends We{constructor(e){super(),Be(this,e,Vu,Uu,c,{editorShape:0,cardTemplate:1,layout:2,editor:3,api:4},null,[-1,-1])}}function Gu(e){let t,n;return t=new Yu({props:{api:e[3],editorShape:e[1],cardTemplate:e[2],layout:e[4],editor:e[0]}}),t.$on("action",e[5]),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.editorShape=e[1]),4&n&&(o.cardTemplate=e[2]),16&n&&(o.layout=e[4]),1&n&&(o.editor=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Ju(e){let t,n;return t=new Yo({props:{$$slots:{default:[Gu]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};33554455&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Bu(e){let t,n;return t=new Cr({props:{words:{...Qe,...Xe},optional:!0,$$slots:{default:[Ju]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};33554455&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Wu(e,t,n){let o,{columns:r}=t,{rows:l=null}=t,{cards:s}=t,{cardShape:i=Er}=t,{columnShape:c=null}=t,{rowShape:a=null}=t,{editorShape:d=null}=t,{readonly:u=!1}=t,{columnKey:p="column"}=t,{rowKey:f=""}=t,{scrollType:m="default"}=t,{renderType:$="default"}=t,{cardHeight:h=null}=t,{cardTemplate:g=null}=t,{editor:v=Or}=t,{history:w=!0}=t,{currentUser:y=null}=t,{links:b=null}=t,{editorAutoSave:x=!0}=t;const k=ue(),S=new Sl((e=>Dr(e)),{history:w});let I=new ct(k);S.out.setNext(I.exec);const _=function(e,t){let n=t;return{exec:e.in.exec.bind(e.in),on:e.out.on.bind(e.out),intercept:e.in.on.bind(e.in),getState:e.getState.bind(e),getReactiveState:e.getReactive.bind(e),setNext:e=>{n.setNext(e.exec),n=e},getStores:()=>({data:e}),getCard:t=>{const{cards:n}=e.getState();return n.find((e=>e.id==t))},serialize:()=>{const{cards:t,columns:n,rows:o}=e.getState();return{cards:t,columns:n,rows:o}},export:new zl(e),undo:e.undo.bind(e),redo:e.redo.bind(e),getAreaCards:(t,n)=>{const{cardsMap:o}=e.getState();return o[qr(t,n)]}}}(S,I);return e.$$set=e=>{"columns"in e&&n(6,r=e.columns),"rows"in e&&n(7,l=e.rows),"cards"in e&&n(8,s=e.cards),"cardShape"in e&&n(9,i=e.cardShape),"columnShape"in e&&n(10,c=e.columnShape),"rowShape"in e&&n(11,a=e.rowShape),"editorShape"in e&&n(1,d=e.editorShape),"readonly"in e&&n(12,u=e.readonly),"columnKey"in e&&n(13,p=e.columnKey),"rowKey"in e&&n(14,f=e.rowKey),"scrollType"in e&&n(15,m=e.scrollType),"renderType"in e&&n(16,$=e.renderType),"cardHeight"in e&&n(17,h=e.cardHeight),"cardTemplate"in e&&n(2,g=e.cardTemplate),"editor"in e&&n(0,v=e.editor),"history"in e&&n(18,w=e.history),"currentUser"in e&&n(19,y=e.currentUser),"links"in e&&n(20,b=e.links),"editorAutoSave"in e&&n(21,x=e.editorAutoSave)},e.$$.update=()=>{2097152&e.$$.dirty&&!1===x&&n(0,v.autoSave=!1,v),98304&e.$$.dirty&&n(4,o=`${m}:${$}`),1736656&e.$$.dirty&&S.init({columnKey:p,rowKey:f,columns:r,rows:l,cards:s,cardsMap:{},cardsMeta:{},cardShape:i,columnShape:c,rowShape:a,readonly:u,layout:o,cardHeight:h,currentUser:y,links:b})},[v,d,g,_,o,({detail:{action:e,data:t}})=>{_.exec(e,t)},r,l,s,i,c,a,u,p,f,m,$,h,w,y,b,x]}let Xu=class extends We{constructor(e){super(),Be(this,e,Wu,Bu,c,{columns:6,rows:7,cards:8,cardShape:9,columnShape:10,rowShape:11,editorShape:1,readonly:12,columnKey:13,rowKey:14,scrollType:15,renderType:16,cardHeight:17,cardTemplate:2,editor:0,history:18,currentUser:19,links:20,editorAutoSave:21,api:3})}get api(){return this.$$.ctx[3]}};function Qu(e){let t,n;return t=new mr({props:{fonts:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Zu(e){let t,n;return t=new mr({props:{fonts:e[0],$$slots:{default:[ep]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ep(e){let t;const n=e[2].default,o=f(n,e,e[3],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,r){o&&o.p&&(!t||8&r)&&h(o,n,e,e[3],t?$(n,e[3],r,null):g(e[3]),null)},i(e){t||(He(o,e),t=!0)},o(e){Le(o,e),t=!1},d(e){o&&o.d(e)}}}function tp(e){let t,n,o,r;const l=[Zu,Qu],s=[];return t=function(e,t){return e[1]&&e[1].default?0:1}(e),n=s[t]=l[t](e),{c(){n.c(),o=F()},m(e,n){s[t].m(e,n),N(e,o,n),r=!0},p(e,[t]){n.p(e,t)},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){s[t].d(e),e&&O(o)}}}function np(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=y(o);let{fonts:s=!0}=t;const i=l;return e.$$set=e=>{"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(3,r=e.$$scope)},[s,i,o,r]}function op(e){let t,n;return t=new yr({props:{fonts:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function rp(e){let t,n;return t=new yr({props:{fonts:e[0],$$slots:{default:[lp]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function lp(e){let t;const n=e[2].default,o=f(n,e,e[3],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,r){o&&o.p&&(!t||8&r)&&h(o,n,e,e[3],t?$(n,e[3],r,null):g(e[3]),null)},i(e){t||(He(o,e),t=!0)},o(e){Le(o,e),t=!1},d(e){o&&o.d(e)}}}function sp(e){let t,n,o,r;const l=[rp,op],s=[];return t=function(e,t){return e[1]&&e[1].default?0:1}(e),n=s[t]=l[t](e),{c(){n.c(),o=F()},m(e,n){s[t].m(e,n),N(e,o,n),r=!0},p(e,[t]){n.p(e,t)},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){s[t].d(e),e&&O(o)}}}function ip(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=y(o);let{fonts:s=!0}=t;const i=l;return e.$$set=e=>{"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(3,r=e.$$scope)},[s,i,o,r]}function cp(e){let t,n;return t=new Sr({props:{fonts:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ap(e){let t,n;return t=new Sr({props:{fonts:e[0],$$slots:{default:[dp]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.fonts=e[0]),8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function dp(e){let t;const n=e[2].default,o=f(n,e,e[3],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,r){o&&o.p&&(!t||8&r)&&h(o,n,e,e[3],t?$(n,e[3],r,null):g(e[3]),null)},i(e){t||(He(o,e),t=!0)},o(e){Le(o,e),t=!1},d(e){o&&o.d(e)}}}function up(e){let t,n,o,r;const l=[ap,cp],s=[];return t=function(e,t){return e[1]&&e[1].default?0:1}(e),n=s[t]=l[t](e),{c(){n.c(),o=F()},m(e,n){s[t].m(e,n),N(e,o,n),r=!0},p(e,[t]){n.p(e,t)},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){s[t].d(e),e&&O(o)}}}function pp(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=y(o);let{fonts:s=!0}=t;const i=l;return e.$$set=e=>{"fonts"in e&&n(0,s=e.fonts),"$$scope"in e&&n(3,r=e.$$scope)},[s,i,o,r]}function fp(e){let t;const n=e[1].default,o=f(n,e,e[2],null);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,r){o&&o.p&&(!t||4&r)&&h(o,n,e,e[2],t?$(n,e[2],r,null):g(e[2]),null)},i(e){t||(He(o,e),t=!0)},o(e){Le(o,e),t=!1},d(e){o&&o.d(e)}}}function mp(e){let t,n,o=e[0]&&fp(e);return{c(){t=H("div"),o&&o.c(),K(t,"class","wx-toolbar svelte-6ipgdp"),K(t,"data-wx-widget",Ar.toolbar)},m(e,r){N(e,t,r),o&&o.m(t,null),n=!0},p(e,n){e[0]?o?(o.p(e,n),1&n&&He(o,1)):(o=fp(e),o.c(),He(o,1),o.m(t,null)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){e&&O(t),o&&o.d()}}}function $p(e){let t,n;return t=new Cr({props:{words:{...Qe,...Xe},optional:!0,$$slots:{default:[mp]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};5&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function hp(e,t,n){let{$$slots:o={},$$scope:r}=t,{api:l}=t;return e.$$set=e=>{"api"in e&&n(0,l=e.api),"$$scope"in e&&n(2,r=e.$$scope)},[l,o,r]}let gp=class extends We{constructor(e){super(),Be(this,e,hp,$p,c,{api:0})}};function vp(e,t,n){const o=e.slice();return o[24]=t[n],o}function wp(e){let n,o,r;return o=new Ul({props:{name:"wxi-close",clickable:!0,click:e[13]}}),{c(){n=H("div"),Ye(o.$$.fragment),K(n,"class","wx-close-icon svelte-1ddhpaz")},m(e,t){N(e,n,t),Ge(o,n,null),r=!0},p:t,i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o)}}}function yp(e){let t,n;return t=new Ht({props:{cancel:e[9],$$slots:{default:[Ip]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};4210704&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function bp(e){let t,n;const o=e[16].default,r=f(o,e,e[22],null);return{c(){t=H("div"),r&&r.c(),K(t,"class","wx-settings svelte-1ddhpaz")},m(e,o){N(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||4194304&t)&&h(r,o,e,e[22],n?$(o,e[22],t,null):g(e[22]),null)},i(e){n||(He(r,e),n=!0)},o(e){Le(r,e),n=!1},d(e){e&&O(t),r&&r.d(e)}}}function xp(e){let n;return{c(){n=H("div"),n.textContent=`${e[8]("No results")}`,K(n,"class","wx-list-item wx-no-results svelte-1ddhpaz")},m(e,t){N(e,n,t)},p:t,d(e){e&&O(n)}}}function kp(e){let t,n=e[4],o=[];for(let t=0;t<n.length;t+=1)o[t]=Sp(vp(e,n,t));return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","wx-results svelte-1ddhpaz")},m(e,n){N(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,r){if(4112&r){let l;for(n=e[4],l=0;l<n.length;l+=1){const s=vp(e,n,l);o[l]?o[l].p(s,r):(o[l]=Sp(s),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){e&&O(t),A(o,e)}}}function Sp(e){let t,n,o,r,l,s,i=e[24].label+"";function c(){return e[20](e[24])}return{c(){t=H("div"),n=H("span"),o=R(i),r=z(),K(n,"class","wx-list-item-text svelte-1ddhpaz"),K(t,"class","wx-list-item svelte-1ddhpaz")},m(e,i){N(e,t,i),T(t,n),T(n,o),T(t,r),l||(s=j(t,"click",c),l=!0)},p(t,n){e=t,16&n&&i!==(i=e[24].label+"")&&V(o,i)},d(e){e&&O(t),l=!1,s()}}}function Ip(e){let t,n,o,r=e[14]?.default&&bp(e);function l(e,t){return e[4]?kp:xp}let s=l(e),i=s(e);return{c(){t=H("div"),r&&r.c(),n=z(),i.c(),K(t,"class","wx-search-popup svelte-1ddhpaz")},m(e,l){N(e,t,l),r&&r.m(t,null),T(t,n),i.m(t,null),o=!0},p(e,o){e[14]?.default?r?(r.p(e,o),16384&o&&He(r,1)):(r=bp(e),r.c(),He(r,1),r.m(t,n)):r&&(Oe(),Le(r,1,1,(()=>{r=null})),Ae()),s===(s=l(e))&&i?i.p(e,o):(i.d(1),i=s(e),i&&(i.c(),i.m(t,null)))},i(e){o||(He(r),o=!0)},o(e){Le(r),o=!1},d(e){e&&O(t),r&&r.d(),i.d()}}}function _p(e){let t,n,o,r,l,i,c,a,d,u,p;o=new Ul({props:{name:"wxi-search"}});let f=!!e[0]&&wp(e),m=e[5]&&yp(e);return{c(){t=H("div"),n=H("div"),Ye(o.$$.fragment),r=z(),l=H("input"),c=z(),f&&f.c(),a=z(),m&&m.c(),K(n,"class","wx-search-icon svelte-1ddhpaz"),K(l,"id",i=`${e[1]}`),l.readOnly=e[2],K(l,"placeholder",e[3]),K(l,"class","svelte-1ddhpaz"),K(t,"class","wx-search svelte-1ddhpaz"),K(t,"tabindex",1)},m(s,i){N(s,t,i),T(t,n),Ge(o,n,null),T(t,r),T(t,l),Y(l,e[0]),e[19](l),T(t,c),f&&f.m(t,null),T(t,a),m&&m.m(t,null),e[21](t),d=!0,u||(p=[j(l,"input",e[18]),j(l,"focus",e[10]),j(l,"blur",e[11]),j(t,"click",P(e[17]))],u=!0)},p(e,[n]){(!d||2&n&&i!==(i=`${e[1]}`))&&K(l,"id",i),(!d||4&n)&&(l.readOnly=e[2]),(!d||8&n)&&K(l,"placeholder",e[3]),1&n&&l.value!==e[0]&&Y(l,e[0]),e[0]?f?(f.p(e,n),1&n&&He(f,1)):(f=wp(e),f.c(),He(f,1),f.m(t,a)):f&&(Oe(),Le(f,1,1,(()=>{f=null})),Ae()),e[5]?m?(m.p(e,n),32&n&&He(m,1)):(m=yp(e),m.c(),He(m,1),m.m(t,null)):m&&(Oe(),Le(m,1,1,(()=>{m=null})),Ae())},i(e){d||(He(o.$$.fragment,e),He(f),He(m),d=!0)},o(e){Le(o.$$.fragment,e),Le(f),Le(m),d=!1},d(n){n&&O(t),Je(o),e[19](null),f&&f.d(),m&&m.d(),e[21](null),u=!1,s(p)}}}function Mp(e,t,n){let{$$slots:o={},$$scope:r}=t;const l=y(o),s=fe("wx-i18n").getGroup("kanban");let{value:i=""}=t,{id:c=Jl()}=t,{readonly:a=!1}=t,{focus:d=!1}=t,{placeholder:u=s("Search")}=t,{searchResults:p=null}=t;const f=ue();let m,$,h=!1;function g(e){f("action",{action:"result-click",id:e}),n(5,h=!1)}d&&ce((()=>m.focus()));return e.$$set=e=>{"value"in e&&n(0,i=e.value),"id"in e&&n(1,c=e.id),"readonly"in e&&n(2,a=e.readonly),"focus"in e&&n(15,d=e.focus),"placeholder"in e&&n(3,u=e.placeholder),"searchResults"in e&&n(4,p=e.searchResults),"$$scope"in e&&n(22,r=e.$$scope)},[i,c,a,u,p,h,m,$,s,function(e){$.contains(e.target)||(n(5,h=!1),n(0,i=""))},function(){n(5,h=!0),f("action",{action:"search-focus"})},function(){f("action",{action:"search-blur"})},g,function(){n(0,i="")},l,d,o,function(t){me.call(this,e,t)},function(){i=this.value,n(0,i)},function(e){he[e?"unshift":"push"]((()=>{m=e,n(6,m)}))},e=>g(e.id),function(e){he[e?"unshift":"push"]((()=>{$=e,n(7,$)}))},r]}class Cp extends We{constructor(e){super(),Be(this,e,Mp,_p,c,{value:0,id:1,readonly:2,focus:15,placeholder:3,searchResults:4})}}function Tp(e){let t,n,o,r,l,s;function i(t){e[11](t)}let c={options:e[1]};return void 0!==e[3].by&&(c.value=e[3].by),r=new go({props:c}),he.push((()=>Ve(r,"value",i))),{c(){t=H("div"),n=H("div"),n.textContent=`${e[5]("Search in")}:`,o=z(),Ye(r.$$.fragment),K(n,"class","wx-title svelte-py827f"),K(t,"class","wx-select svelte-py827f")},m(e,l){N(e,t,l),T(t,n),T(t,o),Ge(r,t,null),s=!0},p(e,t){const n={};2&t&&(n.options=e[1]),!l&&8&t&&(l=!0,n.value=e[3].by,Se((()=>l=!1))),r.$set(n)},i(e){s||(He(r.$$.fragment,e),s=!0)},o(e){Le(r.$$.fragment,e),s=!1},d(e){e&&O(t),Je(r)}}}function Dp(e){let t,n,o=e[0]&&Tp(e);return{c(){o&&o.c(),t=F()},m(e,r){o&&o.m(e,r),N(e,t,r),n=!0},p(e,n){e[0]?o?(o.p(e,n),1&n&&He(o,1)):(o=Tp(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Oe(),Le(o,1,1,(()=>{o=null})),Ae())},i(e){n||(He(o),n=!0)},o(e){Le(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function Ep(e){let t,n,o;function r(t){e[12](t)}let l={searchResults:e[2],$$slots:{default:[Dp]},$$scope:{ctx:e}};return void 0!==e[3].value&&(l.value=e[3].value),t=new Cp({props:l}),he.push((()=>Ve(t,"value",r))),t.$on("action",e[7]),{c(){Ye(t.$$.fragment)},m(e,n){Ge(t,e,n),o=!0},p(e,[o]){const r={};4&o&&(r.searchResults=e[2]),8203&o&&(r.$$scope={dirty:o,ctx:e}),!n&&8&o&&(n=!0,r.value=e[3].value,Se((()=>n=!1))),t.$set(r)},i(e){o||(He(t.$$.fragment,e),o=!0)},o(e){Le(t.$$.fragment,e),o=!1},d(e){Je(t,e)}}}function Np(e,n,o){let r,l,s,i=t;e.$$.on_destroy.push((()=>i()));const c=fe("wx-i18n").getGroup("kanban");let{api:a}=n,{showOptions:d=!0}=n,{options:f=[{id:null,label:c("Everywhere")},{id:"label",label:c("Label")},{id:"description",label:c("Description")}]}=n,m=null;const $=Yc({value:"",by:f[0].id},(({value:e,by:t})=>{const n=f.find((e=>e.id===t));a.exec("set-search",{value:e,by:t,searchRule:null==n?void 0:n.searchRule})}));let h;return p(e,$,(e=>o(3,l=e))),e.$$set=e=>{"api"in e&&o(8,a=e.api),"showOptions"in e&&o(0,d=e.showOptions),"options"in e&&o(1,f=e.options)},e.$$.update=()=>{256&e.$$.dirty&&(o(4,r=a&&a.getReactiveState().cardsMeta),i(),i=u(r,(e=>o(10,s=e)))),1284&e.$$.dirty&&s&&(o(2,m=Object.keys(s).reduce(((e,t)=>(s[t].found&&e.push(null==a?void 0:a.getCard(t)),e)),[])),m.length||o(2,m=null)),776&e.$$.dirty&&(h||(o(9,h=e=>{(null==e?void 0:e.value)===l.value&&(null==e?void 0:e.by)===(null==l?void 0:l.by)||$.reset(e)}),a.on("set-search",h)))},[d,f,m,l,r,c,$,function({detail:e}){const{id:t,action:n}=e;switch(n){case"result-click":a.exec("select-card",{id:t});break;case"search-focus":l.value&&a.exec("set-search",{value:l.value,by:l.by})}},a,h,s,function(t){e.$$.not_equal(l.by,t)&&(l.by=t,$.set(l))},function(t){e.$$.not_equal(l.value,t)&&(l.value=t,$.set(l))}]}class Op extends We{constructor(e){super(),Be(this,e,Np,Ep,c,{api:8,showOptions:0,options:1})}}function Ap(e){let t,n,o,r,l;return n=new Ul({props:{name:e[0]}}),{c(){t=H("div"),Ye(n.$$.fragment),K(t,"class","wx-control svelte-1gz87jm"),K(t,"title",e[1]),X(t,"wx-disabled",e[2])},m(s,i){N(s,t,i),Ge(n,t,null),o=!0,r||(l=j(t,"click",e[3]),r=!0)},p(e,[r]){const l={};1&r&&(l.name=e[0]),n.$set(l),(!o||2&r)&&K(t,"title",e[1]),(!o||4&r)&&X(t,"wx-disabled",e[2])},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){e&&O(t),Je(n),r=!1,l()}}}function Hp(e,t,n){let{name:o=""}=t,{icon:r}=t,{label:l}=t,{disabled:s=!1}=t,{click:i=null}=t;return e.$$set=e=>{"name"in e&&n(4,o=e.name),"icon"in e&&n(0,r=e.icon),"label"in e&&n(1,l=e.label),"disabled"in e&&n(2,s=e.disabled),"click"in e&&n(5,i=e.click)},[r,l,s,function(){i&&i(o)},o,i]}class Lp extends We{constructor(e){super(),Be(this,e,Hp,Ap,c,{name:4,icon:0,label:1,disabled:2,click:5})}}function Rp(e){let n,o;return n=new Lp({props:{click:e[1],label:e[0]("Add new row"),icon:"wxi-table-row-plus-after"}}),{c(){Ye(n.$$.fragment)},m(e,t){Ge(n,e,t),o=!0},p:t,i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){Je(n,e)}}}function zp(e,t,n){let{api:o}=t;const r=fe("wx-i18n").getGroup("kanban");return e.$$set=e=>{"api"in e&&n(2,o=e.api)},[r,function(){o.exec("add-row",{id:tt(),row:{label:r("Untitled")}})},o]}class Fp extends We{constructor(e){super(),Be(this,e,zp,Rp,c,{api:2})}}function jp(e){let n,o;return n=new Lp({props:{click:e[1],label:e[0]("Add new column"),icon:"wxi-table-column-plus-after"}}),{c(){Ye(n.$$.fragment)},m(e,t){Ge(n,e,t),o=!0},p:t,i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){Je(n,e)}}}function qp(e,t,n){let{api:o}=t;const r=fe("wx-i18n").getGroup("kanban");return e.$$set=e=>{"api"in e&&n(2,o=e.api)},[r,function(){o.exec("add-column",{id:tt(),column:{label:r("Untitled")}})},o]}class Pp extends We{constructor(e){super(),Be(this,e,qp,jp,c,{api:2})}}function Kp(e){let t,n,o,r,l,s=e[2].text+"";return n=new Ul({props:{name:"wxi-close",click:e[5]}}),{c(){t=H("div"),Ye(n.$$.fragment),o=z(),r=R(s),K(t,"class","wx-preserve svelte-1gqx3c6")},m(e,s){N(e,t,s),Ge(n,t,null),T(t,o),T(t,r),l=!0},p(e,t){(!l||4&t)&&s!==(s=e[2].text+"")&&V(r,s)},i(e){l||(He(n.$$.fragment,e),l=!0)},o(e){Le(n.$$.fragment,e),l=!1},d(e){e&&O(t),Je(n)}}}function Up(e){let n,o,r;return o=new Ul({props:{name:"wxi-sort"}}),{c(){n=H("div"),Ye(o.$$.fragment),K(n,"class","wx-control svelte-1gqx3c6"),K(n,"title",e[3]("Sort"))},m(e,t){N(e,n,t),Ge(o,n,null),r=!0},p:t,i(e){r||(He(o.$$.fragment,e),r=!0)},o(e){Le(o.$$.fragment,e),r=!1},d(e){e&&O(n),Je(o)}}}function Vp(e){let t,n,o,r=e[2]&&Kp(e);return n=new As({props:{options:e[0],at:"left-bottom",$$slots:{default:[Up]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){r&&r.c(),t=z(),Ye(n.$$.fragment)},m(e,l){r&&r.m(e,l),N(e,t,l),Ge(n,e,l),o=!0},p(e,[o]){e[2]?r?(r.p(e,o),4&o&&He(r,1)):(r=Kp(e),r.c(),He(r,1),r.m(t.parentNode,t)):r&&(Oe(),Le(r,1,1,(()=>{r=null})),Ae());const l={};1&o&&(l.options=e[0]),256&o&&(l.$$scope={dirty:o,ctx:e}),n.$set(l)},i(e){o||(He(r),He(n.$$.fragment,e),o=!0)},o(e){Le(r),Le(n.$$.fragment,e),o=!1},d(e){r&&r.d(e),e&&O(t),Je(n,e)}}}function Yp(e,n,o){let r,l=t;e.$$.on_destroy.push((()=>l()));const s=fe("wx-i18n").getGroup("kanban");let i,{api:c}=n,{options:a=null}=n,d=null;return e.$$set=e=>{"api"in e&&o(6,c=e.api),"options"in e&&o(0,a=e.options)},e.$$.update=()=>{1&e.$$.dirty&&(o(0,a=Array.isArray(a)?a:[{by:"label",dir:"asc",text:"Label (a-z)",id:7},{by:"label",dir:"desc",text:"Label (z-a)",id:8},{by:"description",dir:"asc",text:"Description (a-z)",id:9},{by:"description",dir:"desc",text:"Description (z-a)",id:10}]),o(0,a=a.map((e=>{let{id:t,text:n,label:o,dir:r}=e;return Object.assign(Object.assign({},e),{id:t||Jl(),text:s(n||o),icon:"asc"===r?"wxi-asc":"wxi-desc"})})))),195&e.$$.dirty&&(i||(o(1,i=c.getReactiveState().sort),l(),l=u(i,(e=>o(7,r=e)))),(null==r?void 0:r.preserve)?o(2,d=a.find((e=>e.by===r.by&&e.dir===r.dir))):o(2,d=null))},[a,i,d,s,function(e){const t=null==e?void 0:e.detail.action;if(t){const e=a.find((e=>e.id===t.id));e&&c.exec("set-sort",{by:e.by,dir:e.dir})}},function(){c.exec("set-sort",null)},c,r]}class Gp extends We{constructor(e){super(),Be(this,e,Yp,Vp,c,{api:6,options:0})}}function Jp(e){let n;return{c(){n=H("div"),K(n,"class","wx-spacer svelte-10uxtjc")},m(e,t){N(e,n,t)},p:t,i:t,o:t,d(e){e&&O(n)}}}class Bp extends We{constructor(e){super(),Be(this,e,null,Jp,c,{})}}function Wp(e){let t,n;return t=new Lp({props:{click:e[2],label:e[1]("Undo"),disabled:!e[0],icon:"wxi-undo"}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.disabled=!e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function Xp(e,t,n){let o,r,{api:l}=t;const s=fe("wx-i18n").getGroup("kanban");const{history:i}=l.getReactiveState();return p(e,i,(e=>n(5,r=e))),e.$$set=e=>{"api"in e&&n(4,l=e.api)},e.$$.update=()=>{32&e.$$.dirty&&n(0,o=r.undo.length>0)},[o,s,function(){l.getStores().data.undo()},i,l,r]}class Qp extends We{constructor(e){super(),Be(this,e,Xp,Wp,c,{api:4})}}function Zp(e){let t,n;return t=new Lp({props:{click:e[2],label:e[1]("Redo"),disabled:!e[0],icon:"wxi-redo"}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.disabled=!e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function ef(e,t,n){let o,r;var l;let{api:s}=t;const i=fe("wx-i18n").getGroup("kanban");const{history:c}=s.getReactiveState();return p(e,c,(e=>n(6,r=e))),e.$$set=e=>{"api"in e&&n(4,s=e.api)},e.$$.update=()=>{96&e.$$.dirty&&n(0,o=(null===n(5,l=r.redo)||void 0===l?void 0:l.length)>0)},[o,i,function(){s.getStores().data.redo()},c,s,l,r]}class tf extends We{constructor(e){super(),Be(this,e,ef,Zp,c,{api:4})}}function nf(e){let t,n;return{c(){t=new Z(!1),n=F(),t.a=n},m(o,r){t.m(e[0],o,r),N(o,n,r)},p(e,n){1&n&&t.p(e[0])},d(e){e&&O(n),e&&t.d()}}}function of(e){let n,o=e[0]&&nf(e);return{c(){o&&o.c(),n=F()},m(e,t){o&&o.m(e,t),N(e,n,t)},p(e,[t]){e[0]?o?o.p(e,t):(o=nf(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(e){o&&o.d(e),e&&O(n)}}}function rf(e,t,n){let r;const l=["template"];let s=w(t,l),{template:i}=t;return e.$$set=e=>{t=o(o({},t),v(e)),n(2,s=w(t,l)),"template"in e&&n(1,i=e.template)},e.$$.update=()=>{n(0,r="function"==typeof i?i(Object.assign({},s)):i)},[r,i]}class lf extends We{constructor(e){super(),Be(this,e,rf,of,c,{template:1})}}class sf{constructor(e){this._api=e}on(e,t){this._api.on(e,t)}exec(e,t){this._api.exec(e,t)}}const cf={material:class extends We{constructor(e){super(),Be(this,e,np,tp,c,{fonts:0})}},willow:class extends We{constructor(e){super(),Be(this,e,ip,sp,c,{fonts:0})}},"willow-dark":class extends We{constructor(e){super(),Be(this,e,pp,up,c,{fonts:0})}}};function af(e){let t,n;return t=new ku({props:{api:e[0],config:e[1],shape:e[2]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.api=e[0]),2&n&&(o.config=e[1]),4&n&&(o.shape=e[2]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function df(e,t,n){let{api:o}=t,{config:r}=t,{shape:l}=t;return e.$$set=e=>{"api"in e&&n(0,o=e.api),"config"in e&&n(1,r=e.config),"shape"in e&&n(2,l=e.shape)},[o,r,l]}class uf extends We{constructor(e){super(),Be(this,e,df,af,c,{api:0,config:1,shape:2})}}function pf(e,t,n){const o=e.slice();return o[2]=t[n],o}function ff(e){let t,n;return t=new lf({props:{template:e[2].type}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.template=e[2].type),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function mf(e){let t,n;return t=new lf({props:{template:e[2].template}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.template=e[2].template),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function $f(e){let t,n;return t=new Fp({props:{api:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function hf(e){let t,n;return t=new Pp({props:{api:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function gf(e){let t,n;return t=new Gp({props:{api:e[0],options:e[2].options}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),2&n&&(o.options=e[2].options),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function vf(e){let n,o;return n=new Bp({}),{c(){Ye(n.$$.fragment)},m(e,t){Ge(n,e,t),o=!0},p:t,i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){Le(n.$$.fragment,e),o=!1},d(e){Je(n,e)}}}function wf(e){let t,n;return t=new tf({props:{api:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function yf(e){let t,n;return t=new Qp({props:{api:e[0]}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function bf(e){let t,n;return t=new Op({props:{api:e[0],options:e[2].options}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.api=e[0]),2&n&&(o.options=e[2].options),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function xf(e){let t,n,o,r;const l=[bf,yf,wf,vf,gf,hf,$f,mf,ff],s=[];function i(e,t){return"search"===e[2].type?0:"undo"===e[2].type?1:"redo"===e[2].type?2:"spacer"===e[2].type?3:"sort"===e[2].type?4:"addColumn"===e[2].type?5:"addRow"===e[2].type?6:"template"===e[2].type&&e[2].template?7:e[2]?8:-1}return~(t=i(e))&&(n=s[t]=l[t](e)),{c(){n&&n.c(),o=F()},m(e,n){~t&&s[t].m(e,n),N(e,o,n),r=!0},p(e,r){let c=t;t=i(e),t===c?~t&&s[t].p(e,r):(n&&(Oe(),Le(s[c],1,1,(()=>{s[c]=null})),Ae()),~t?(n=s[t],n?n.p(e,r):(n=s[t]=l[t](e),n.c()),He(n,1),n.m(o.parentNode,o)):n=null)},i(e){r||(He(n),r=!0)},o(e){Le(n),r=!1},d(e){~t&&s[t].d(e),e&&O(o)}}}function kf(e){let t,n,o=e[1],r=[];for(let t=0;t<o.length;t+=1)r[t]=xf(pf(e,o,t));const l=e=>Le(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=F()},m(e,o){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,o);N(e,t,o),n=!0},p(e,n){if(3&n){let s;for(o=e[1],s=0;s<o.length;s+=1){const l=pf(e,o,s);r[s]?(r[s].p(l,n),He(r[s],1)):(r[s]=xf(l),r[s].c(),He(r[s],1),r[s].m(t.parentNode,t))}for(Oe(),s=o.length;s<r.length;s+=1)l(s);Ae()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)He(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)Le(r[e]);n=!1},d(e){A(r,e),e&&O(t)}}}function Sf(e){let t,n;return t=new gp({props:{api:e[0],$$slots:{default:[kf]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(e,o){Ge(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.api=e[0]),35&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){Le(t.$$.fragment,e),n=!1},d(e){Je(t,e)}}}function If(e,t,n){let{api:o}=t,{items:r=[]}=t;return e.$$set=e=>{"api"in e&&n(0,o=e.api),"items"in e&&n(1,r=e.items)},[o,r]}class _f extends We{constructor(e){super(),Be(this,e,If,Sf,c,{api:0,items:1})}}const Mf=Symbol();class Cf{constructor(){this._awaitAddingQueue=[],this._queue={},this._idPool={},this._backId=[],this.add=this.add.bind(this)}resolve(e,t){const n=this._backId[t];if(void 0===n)return e;const o=n[e];return void 0===o?e:o}add(e,t,n){if(n.debounce){const o=`${e}"/"${t.id}`,r=this._queue[o];return r&&clearTimeout(r),void(this._queue[o]=setTimeout((()=>{this.add(e,t,{...n,debounce:!1})}),n.debounce))}const o=this.tryExec(e,t,n);null===o?this._awaitAddingQueue.push({action:e,data:t,proc:n}):o.then((e=>{if(e&&e.id&&e.id!=t.id&&nt(t.id)){if(this._idPool[t.id]=e.id,n.kind){let o=this._backId[n.kind];o||(o=this._backId[n.kind]={}),o[e.id]=t.id}this.execQueue()}}))}tryExec(e,t,n){const o=this.exec(e,t,n);return null===o&&this._awaitAddingQueue.push({action:e,data:t,proc:n}),o}exec(e,t,n){const o=this.correctID(t,n.ignoreID?t.id:null);return o===Mf?null:n.handler(o,e,t)}correctID(e,t){let n=null;for(const o in e){if("$meta"===o)continue;const r=e[o];if("object"==typeof r){const l=this.correctID(r,t);if(l!==r){if(l===Mf)return Mf;null===n&&(n={...e}),n[o]=l}}else if(r!==t&&nt(r)){const t=this._idPool[r];if(!t)return Mf;null===n&&(n={...e}),n[o]=t}}return n||e}execQueue(){this._awaitAddingQueue=this._awaitAddingQueue.map((e=>this.tryExec(e.action,e.data,e.proc)?null:e)).filter((e=>null!==e))}}class Tf{constructor(e){const{url:t,token:n}=e;this._url=t,this._token=n,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}headers(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}fetch(e,t){const n={credentials:"include",headers:this.headers()};return t&&(n.method="POST",n.body=t),fetch(e,n).then((e=>e.json()))}load(e){return e&&(this._url=e),this.fetch(this._url).then((e=>this.parse(e)))}parse(e){const{key:t,websocket:n}=e;t&&(this._token=e.key);for(const t in e.data)this.data[t]=e.data[t];for(const t in e.api){const n=this.api[t]={},o=e.api[t];for(const e in o)n[e]=this._wrapper(t+"."+e)}return n&&this.connect(),this}connect(){const e=this._socket;e&&(this._socket=null,e.onclose=function(){},e.close()),this._mode=2,this._socket=function(e,t,n,o){let r=t;"/"===r[0]&&(r=document.location.protocol+"//"+document.location.host+t),r=r.replace(/^http(s|):/,"ws$1:");const l=-1!=r.indexOf("?")?"&":"?";r=`${r}${l}token=${n}&ws=1`;const s=new WebSocket(r);return s.onclose=()=>setTimeout((()=>e.connect()),2e3),s.onmessage=t=>{const n=JSON.parse(t.data);switch(n.action){case"result":e.result(n.body,[]);break;case"event":e.fire(n.body.name,n.body.value);break;case"start":o();break;default:e.onError(n.data)}},s}(this,this._url,this._token,(()=>(this._mode=3,this._send(),this._resubscribe(),this)))}_wrapper(e){return function(){const t=[].slice.call(arguments);let n=null;const o=new Promise(((o,r)=>{n={data:{id:this._uid(),name:e,args:t},status:1,resolve:o,reject:r},this._queue.push(n)}));return this.onCall(n,o),3===this._mode?this._send(n):setTimeout((()=>this._send()),1),o}.bind(this)}_uid(){return(this._seed++).toString()}_send(e){if(2==this._mode)return void setTimeout((()=>this._send()),100);const t=e?[e]:this._queue.filter((e=>1===e.status));if(!t.length)return;const n=t.map((e=>(e.status=2,e.data)));3!==this._mode?this.fetch(this._url,JSON.stringify(n)).catch((e=>this.onError(e))).then((e=>this.result(e,n))):this._socket.send(JSON.stringify({action:"call",body:n}))}result(e,t){const n={};if(e)for(let t=0;t<e.length;t++)n[e[t].id]=e[t];else for(let e=0;e<t.length;e++)n[t[e].id]={id:t[e].id,error:"Network Error",data:null};for(let e=this._queue.length-1;e>=0;e--){const t=this._queue[e],o=n[t.data.id];o&&(this.onResponse(t,o),o.error?t.reject(o.error):t.resolve(o.data),this._queue.splice(e,1))}}on(e,t){const n=this._uid();let o=this._events[e];const r=!!o;return r||(o=this._events[e]=[]),o.push({id:n,handler:t}),r||3!=this._mode||this._socket.send(JSON.stringify({action:"subscribe",name:e})),{name:e,id:n}}_resubscribe(){if(3==this._mode)for(const e in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:e}))}detach(e){if(!e){if(3==this._mode)for(const e in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:e}));return void(this._events={})}const{id:t,name:n}=e,o=this._events[n];if(o){const e=o.filter((e=>e.id!=t));e.length?this._events[n]=e:(delete this._events[n],3==this._mode&&this._socket.send(JSON.stringify({action:"unsubscribe",name:n})))}}fire(e,t){const n=this._events[e];if(n)for(let e=0;e<n.length;e++)n[e].handler(t)}onError(e){return null}onCall(e,t){}onResponse(e,t){}}return e.Editor=class{constructor(e,t){this.container="string"==typeof e?document.querySelector(e):e,this.config=t,this._init()}destructor(){this._component.$destroy(),this._component=this.api=this.events=null}setConfig(e){e&&(this.config=Object.assign(Object.assign({},this.config),e),this._init())}setLocale(e){this.setConfig({locale:e})}_init(){var e;this._component&&this.destructor();const t=new Map([["wx-i18n",ns(null===(e=this.config)||void 0===e?void 0:e.locale)]]);this._component=new uf({target:this.container,props:this._configToProps(this.config),context:t}),this.events=new sf(this.api)}_configToProps(e){return e}},e.Kanban=class{constructor(e,t){this.container="string"==typeof e?document.querySelector(e):e,this.config=t,this._init()}destructor(){this._kanban.$destroy(),this._kanban=this.api=this.events=null}setConfig(e){const t=this.serialize();this.config=Object.assign(Object.assign(Object.assign({},this.config),t),e),this._init()}parse(e){const{cards:t,columns:n,rows:o}=e;(t||n||o)&&(t&&(this.config.cards=t),n&&(this.config.columns=n),o&&(this.config.rows=o),this._kanban.$set(this._configToProps(this.config)))}serialize(){const{cards:e,columns:t,rows:n}=this.api.getState();return{cards:e,columns:t,rows:n}}undo(){this.api.undo()}redo(){this.api.redo()}getCard(e){return this.api.getCard(e)}getAreaCards(e,t){return this.api.getAreaCards(e,t)}getSelection(){return this.api.getState().selected}addCard(e){this.api.exec("add-card",e)}updateCard(e){this.api.exec("update-card",e)}duplicateCard(e){this.api.exec("duplicate-card",e)}deleteCard(e){this.api.exec("delete-card",e)}moveCard(e){this.api.exec("move-card",e)}addColumn(e){this.api.exec("add-column",e)}updateColumn(e){this.api.exec("update-column",e)}addRow(e){this.api.exec("add-row",e)}updateRow(e){this.api.exec("update-row",e)}moveColumn(e){this.api.exec("move-column",e)}moveRow(e){this.api.exec("move-row",e)}deleteColumn(e){this.api.exec("delete-column",e)}deleteRow(e){this.api.exec("delete-row",e)}addComment(e){this.api.exec("add-comment",e)}updateComment(e){this.api.exec("update-comment",e)}deleteComment(e){this.api.exec("delete-comment",e)}selectCard(e){this.api.exec("select-card",e)}unselectCard(e){this.api.exec("unselect-card",e)}setSearch(e){this.api.exec("set-search",e)}setSort(e){this.api.exec("set-sort",e)}setEdit(e){this.api.exec("set-edit",e)}scroll(e){this.api.exec("scroll",e)}setLocale(e){this.setConfig({locale:e})}_init(){var e,t;this._kanban&&this.destructor();const n=El(this.container,null===(e=this.config.theme)||void 0===e?void 0:e.name,"material"),o=new Map([["wx-i18n",ns(this.config.locale)],["wx-theme",n]]);cf[n]&&new cf[n]({target:this.container,props:{fonts:null===(t=this.config.theme)||void 0===t?void 0:t.fonts}}),this._kanban=new Xu({target:this.container,props:this.config,context:o}),this.api=this._kanban.api,this.events=new sf(this.api),this.export=this.api.export}_configToProps(e){return e}},e.RemoteEvents=class{constructor(e,t){const n=new Tf({url:e,token:t});n.fetch=function(e,t){const n={headers:this.headers()};return t&&(n.method="POST",n.body=t),fetch(e,n).then((e=>e.json()))},this._ready=n.load().then((e=>this._remote=e))}ready(){return this._ready}on(e,t){this.ready().then((n=>{if("string"==typeof e)n.on(e,t);else for(const t in e)n.on(t,e[t])}))}},e.RestDataProvider=class extends st{constructor(e){super(),this._customHeaders={},this._url=e,this._queue=new Cf;const t={"add-card":{ignoreID:!0,handler:e=>(e.card=this.prepareCard(e.card),this.send("cards","POST",e))},"update-card":{debounce:500,handler:e=>(e.card=this.prepareCard(e.card),this.send(`cards/${e.id}`,"PUT",e))},"move-card":{handler:e=>this.send(`cards/${e.id}/move`,"PUT",e)},"delete-card":{handler:e=>this.send(`cards/${e.id}`,"DELETE")},"add-column":{ignoreID:!0,handler:e=>this.send("columns","POST",e)},"update-column":{debounce:500,handler:e=>this.send(`columns/${e.id}`,"PUT",e)},"move-column":{handler:e=>this.send(`columns/${e.id}/move`,"PUT",e)},"delete-column":{handler:e=>this.send(`columns/${e.id}`,"DELETE")},"add-row":{ignoreID:!0,handler:e=>this.send("rows","POST",e)},"update-row":{debounce:500,handler:e=>this.send(`rows/${e.id}`,"PUT",e)},"move-row":{handler:e=>this.send(`rows/${e.id}/move`,"PUT",e)},"delete-row":{handler:e=>this.send(`rows/${e.id}`,"DELETE")},"add-vote":{handler:e=>this.send(`cards/${e.cardId}/vote`,"POST")},"delete-vote":{handler:e=>this.send(`cards/${e.cardId}/vote`,"DELETE")},"add-comment":{ignoreID:!0,handler:e=>this.send(`cards/${e.cardId}/comments`,"POST",e.comment)},"update-comment":{handler:e=>this.send(`cards/${e.cardId}/comments/${e.id}`,"PUT",e.comment)},"delete-comment":{handler:e=>this.send(`cards/${e.cardId}/comments/${e.id}`,"DELETE")}},n=this.getHandlers(t);for(const e in n)this.on(e,(t=>{t.skipProvider||this._queue.add(e,t,n[e])}))}getCards(){return this.send("cards","GET").then(this.parseCards)}getColumns(){return this.send("columns","GET")}getRows(){return this.send("rows","GET")}getUsers(){return this.send("users","GET")}getHandlers(e){return e}setHeaders(e){this._customHeaders=e}getIDResolver(){return this._queue.resolve.bind(this._queue)}send(e,t,n,o={}){const r={method:t,headers:{"Content-Type":"application/json",...o,...this._customHeaders}};return n&&(r.body="object"==typeof n?JSON.stringify(n):n),fetch(`${this._url}/${e}`,r).then((e=>e.json()))}parseCards(e){return e.forEach((e=>(e.end_date&&(e.end_date=new Date(e.end_date)),e.start_date&&(e.start_date=new Date(e.start_date)),e))),e}prepareCard(e){return e?{...e,users:e.users||null}:null}},e.Toolbar=class{constructor(e,t){this.container="string"==typeof e?document.querySelector(e):e,this.config=t,this._init()}destructor(){this._toolbar.$destroy(),this._toolbar=this.api=this.events=null}setConfig(e){e&&(this.config=Object.assign(Object.assign({},this.config),e),this._init())}setLocale(e){this.setConfig({locale:e})}_init(){this._toolbar&&this.destructor();const e=new Map([["wx-i18n",ns(this.config.locale)],["wx-theme",El(this.container,this.config.theme,"material")]]);this._toolbar=new _f({target:this.container,props:this._configToProps(this.config),context:e}),this.events=new sf(this.api)}_configToProps(e){let t=[{type:"search"},{type:"spacer"},{type:"undo"},{type:"redo"},{type:"sort"},{type:"addColumn"},{type:"addRow"}];return e.items&&(t=this._normalizeItems(e.items)),Object.assign(Object.assign({},e),{items:t})}_normalizeItems(e){return e.map((e=>"string"==typeof e?{type:e}:"function"==typeof e?{type:"template",template:e}:"template"in e&&!e.type?{type:"template",template:e.template}:e))}},e.defaultCardShape=Er,e.defaultEditorConfig=Or,e.defaultEditorShape=Nr,e.getDefaultCardMenuItems=Lr,e.getDefaultColumnMenuItems=Rr,e.getDefaultRowMenuItems=zr,e.kanbanUpdates=function(e,t){return{cards:function(n){const o=function(e){return"id"in e&&(e.id=t(e.id,1)),"column"in e&&(e.column=t(e.column,3)),"row"in e&&(e.row=t(e.row,2)),e}(n.card);switch(o.start_date=o.start_date?new Date(o.start_date):null,o.end_date=o.end_date?new Date(o.end_date):null,n.type){case"add-card":e.exec(n.type,{skipProvider:!0,card:o,select:!1});break;case"update-card":e.exec("update-card",{skipProvider:!0,id:o.id,card:o});break;case"delete-card":e.exec("delete-card",{skipProvider:!0,id:o.id});break;case"move-card":e.exec("move-card",{skipProvider:!0,id:o.id,rowId:o.row,columnId:o.column,before:t(n.before,1)})}},columns:function(n){const o=function(e){return"id"in e&&(e.id=t(e.id,3)),e}(n.column);switch(n.type){case"add-column":e.exec("add-column",{skipProvider:!0,column:o});break;case"delete-column":e.exec("delete-column",{skipProvider:!0,id:o.id});break;case"update-column":e.exec("update-column",{skipProvider:!0,id:o.id,column:o});break;case"move-column":e.exec("move-column",{skipProvider:!0,id:o.id,before:t(n.before,3)})}},rows:function(n){const o=function(e){return"id"in e&&(e.id=t(e.id,2)),e}(n.row);switch(n.type){case"add-row":e.exec("add-row",{skipProvider:!0,row:o});break;case"delete-row":e.exec("delete-row",{skipProvider:!0,id:o.id});break;case"update-row":e.exec("update-row",{skipProvider:!0,id:o.id,row:o});break;case"move-row":e.exec("move-row",{skipProvider:!0,id:o.id,before:t(n.before,2)})}}}},e.tempID=tt,e.template=function(e){return new Proxy(lf,{construct(t,[n]){const o=n.props||{};return o.template=e,n.props=o,new t(n)}})},e}({});
//# sourceMappingURL=kanban.js.map
